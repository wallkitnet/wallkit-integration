!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(self,(()=>(()=>{var e={2350:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LIBRARY_STYLES=void 0;t.LIBRARY_STYLES='\n        .wallkit-modal-wrapper {\n            z-index: 100;\n            position: fixed;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background: rgba(18, 18, 20, 0.9);\n            display: flex;\n            align-items: center;\n            justify-content: flex-start;\n            flex-direction: column;\n            overflow-y: auto;\n            padding: 70px 15px 20px;\n        }\n\n        .wallkit-modal-wrapper__content {\n            background-color: #fff;\n            flex-shrink: 0;\n            position: relative;\n            box-sizing: border-box;\n            overflow: hidden;\n        }\n        \n        @media screen and (max-width: 500px) {\n            .wallkit-modal-wrapper__content {\n                width: 100%;\n                min-width: auto!important;\n            }\n        }\n\n        .wallkit-modal-wrapper__close-btn {\n            position: absolute;\n            right: 10px;\n            top: 10px;\n            cursor: pointer;\n            color: #000;\n            font-size: 37px;\n            width: 37px;\n            height: 37px;\n            text-align: center;\n            line-height: 34px;\n        }\n\n        .wallkit-modal-wrapper .wk-frame {\n            transition: all 0.3s linear 0s;\n            max-width: 100%;\n            border: none;\n        }\n\n        .wallkit-auth-modal {\n            z-index: 999;\n        }\n\n        .wallkit-auth-modal .wallkit-modal-wrapper__content {\n            padding: 20px;\n        }\n\n        .wallkit-auth-modal .wallkit-auth-modal__title {\n            font-family: Roboto, sans-serif;\n            text-align: center;\n        }\n        \n        .wk-auth-form {\n            display: flex;\n            flex-direction: column;\n        }\n\n        .wk-form-field {\n            display: flex;\n            flex-direction: column;\n            font-family: Oxygen, sans-serif;\n            margin-bottom: 10px;\n        }\n\n        .wk-form-field .wk-form-field__label {\n            font-weight: 500;\n            color: #333;\n            margin-bottom: 5px;\n        }\n\n        .wk-form-field .wk-form-field__input-wrapper {\n            margin-bottom: 5px;\n            position: relative;\n        }\n        \n        .wk-eye-toggle {\n            background: url(https://www.gstatic.com/images/icons/material/system/1x/visibility_black_24dp.png);\n            width: 24px;\n            height: 24px;\n        }\n        \n        .wk-form-field__field-description {\n            font-size: 11px;\n            color: #989898;\n        }\n        \n        .wk-eye-toggle.wk-eye-toggled {\n            background: url(https://www.gstatic.com/images/icons/material/system/1x/visibility_off_black_24dp.png);\n        }\n        \n        .wk-form-field__field-affix {\n            position: absolute;\n            right: 5px;\n            top: 0;\n            bottom: 0;\n        }\n        \n        .wk-form-field .wk-form-field__input {\n            border-radius: 0;\n            border: 0;\n            border-bottom: 1px solid #ccc;\n            padding: 5px;\n            box-sizing: border-box;\n            width: 100%;\n        }\n        \n        .wk-field-list {\n            list-style-type: circle;\n            padding-left: 12px;\n            margin-top: 1px;\n        }\n\n        .wk-form-field .wk-form-field__input:focus {\n            border-bottom: 1px solid #3f51b5;\n            outline: none;\n        }\n\n        .wk-form-field .wk-form-field__message {\n            font-size: 12px;\n        }\n\n        .wk-auth-form-button {\n            background-color: #db4437;\n            direction: ltr;\n            font-weight: 500;\n            height: auto;\n            line-height: normal;\n            max-width: 220px;\n            min-height: 40px;\n            padding: 8px 16px;\n            text-align: left;\n            width: 100%;\n            box-sizing: border-box;\n            box-shadow: 0 2px 2px 0 rgba(0,0,0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.20), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n            border-radius: 2px;\n            font-family: "Roboto","Helvetica","Arial",sans-serif;\n            margin: 0 auto 15px;\n            cursor: pointer;\n        }\n        \n        .wk-auth-form-button:focus,\n        .wk-auth-form-button:active,{\n            background-color: #5b6abe;\n        }\n\n        .wk-form-field.wk-form-field--invalid .wk-form-field__input {\n            border-bottom: 1px solid #dd2c00;\n        }\n        \n        .wk-form-field.wk-form-field--checkbox.wk-form-field--invalid .wk-form-field__checkmark {\n            border-color: #dd2c00;\n        }\n\n        .wk-form-field.wk-form-field--valid .wk-form-field__input {\n            border-bottom: 1px solid green;\n        }\n\n        .wk-form-field.wk-form-field--invalid .wk-form-field__message {\n            color: #dd2c00;\n        }\n\n        .wk-form-field.wk-form-field--valid .wk-form-field__message {\n            color: green;\n        }\n\n        .wk-form .wk-form__link {\n            font-size: 14px;\n            color: #3170f3;\n            text-decoration: underline;\n        }\n\n        .wk-form {\n            font-family: Oxygen, sans-serif;\n        }\n        \n        .wk-form-header {\n            margin-bottom: 10px;\n        }\n\n        .wk-form .wk-form__footer {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n        }\n        \n        .wk-form .wk-form__footer.wk-form__footer--right {\n            justify-content: flex-end;\n        }\n\n        .wk-form .wk-form__sub-footer {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 20px;\n        }\n\n        .wk-form__reset-password {\n            text-align: right;\n        }\n\n        .wk-form-result {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n        }\n\n        .wk-form-button {\n            border: none;\n            border-radius: 2px;\n            background-color: #3f51b5;\n            color: #fff;\n            position: relative;\n            height: 36px;\n            margin: 0;\n            min-width: 64px;\n            padding: 0 16px;\n            display: inline-block;\n            font-family: "Roboto", "Helvetica", "Arial", sans-serif;\n            font-size: 14px;\n            font-weight: 500;\n            text-transform: uppercase;\n            letter-spacing: 0;\n            overflow: hidden;\n            will-change: box-shadow;\n            transition: box-shadow .2s cubic-bezier(0.4, 0, 1, 1),background-color .2s cubic-bezier(0.4, 0, 0.2, 1),color .2s cubic-bezier(0.4, 0, 0.2, 1);\n            outline: none;\n            cursor: pointer;\n            text-decoration: none;\n            text-align: center;\n            line-height: 36px;\n            vertical-align: middle;\n        }\n\n        .wk-form__error {\n            display: none;\n            margin: 10px 0;\n            border: 1px solid #f5c6cb;\n            border-radius: 5px;\n            color: #721c24;\n            background-color: #f8d7da;\n            line-height: 21px;\n            padding: 10px;\n        }\n\n        .wk-form__error.wk-form__error--show {\n            display: block;\n        }\n\n        .wk-form-button.wk-form-button--cancel {\n            margin-left: auto;\n            margin-right: 10px;\n            color: #3f51b5;\n            background: none;\n        }\n        \n        .wk-success-message {\n        }\n        \n        .wk-success-message__title {\n            font-weight: 500;\n            margin-bottom: 10px;\n        }\n        \n        .wk-success-message__description {\n            margin-bottom: 10px;\n        }\n        \n        .wk-success-message__description b {\n            font-weight: 500;\n        }\n\n        .wk-form-button.wk-form-button--cancel:hover {\n            background-color: hsla(0,0%,62%,.2);\n        }\n        \n        .wk-success-message.wk-password-reset-success {\n            min-height: 205px;\n            display: flex;\n            justify-content: center;\n            flex-direction: column;\n        }\n        \n       \n        \n        .wk-form-field.wk-form-field--checkbox .wk-form-field__label {\n            position: relative;\n            padding-left: 30px;     \n            line-height: 20px;\n            font-size: 14px;     \n        } \n        \n        .wk-form-field.wk-form-field--checkbox input {\n            position: absolute;\n            opacity: 0;\n            cursor: pointer;\n            height: 0;\n            width: 0;\n        }\n        \n        .wk-form-field .wk-form-field__checkmark {\n            position: absolute;\n            top: 0;\n            left: 0;\n            height: 18px;\n            width: 18px;\n            background-color: none;\n            border: 2px solid #333;\n            box-sizing: border-box;\n            border-radius: 2px;\n        }\n        \n        .wk-form-field.wk-form-field--checkbox input:checked ~ .wk-form-field__checkmark {\n            background-color: #3f51b5;\n            border-color: #3f51b5;\n        }\n        \n        .wk-form-field__checkmark:after {\n            content: "";\n            position: absolute;\n            display: none;\n        }\n        \n        .wk-form-field input:checked ~ .wk-form-field__checkmark:after {\n            display: block;\n        }\n        \n        .wk-form-field .wk-form-field__checkmark:after {\n            left: 5px;\n            top: 2px;\n            width: 3px;\n            height: 7px;\n            border: solid white;\n            border-width: 0 2px 2px 0;\n            -webkit-transform: rotate(45deg);\n            -ms-transform: rotate(45deg);\n            transform: rotate(45deg);\n        }\n'},9066:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WALLKIT_USER_MANAGER_MODAL_FORM_PLACEHOLDER_ID=t.WALLKIT_TOKEN_NAME=t.WALLKIT_POPUP_URL=t.WALLKIT_POPUP_DEV_URL=t.WALLKIT_MODAL_WRAPPER_CLASSNAME=t.WALLKIT_MODAL_MIN_WIDTH=t.WALLKIT_MODAL_MIN_HEIGHT=t.WALLKIT_MODAL_MAX_WIDTH=t.WALLKIT_MODAL_CONTENT_CLASSNAME=t.WALLKIT_MODAL_CLOSE_BTN_CLASSNAME=t.WALLKIT_FRAME_ID=t.WALLKIT_FIREBASE_WK_FORM_PLACEHOLDER_ID=t.WALLKIT_FIREBASE_UI_PLACEHOLDER_ID=t.WALLKIT_FIREBASE_CONFIG=t.WALLKIT_DEV_FIREBASE_CONFIG=t.WALLKIT_CDN_URL=t.WALLKIT_CDN_ASSETS_URL=t.WALLKIT_AUTH_FORM_PLACEHOLDER_ID=t.TRIGGER_GOOGLE_BUTTON_TITLE_SELECTOR=t.TRIGGER_EMAIL_BUTTON_TITLE_SELECTOR=t.TRIGGER_EMAIL_BUTTON_CLASS_NAME=t.TRIGGER_EMAILLINK_BUTTON_TITLE_SELECTOR=t.TRIGGER_EMAILLINK_BUTTON_CLASS_NAME=t.TRIGGER_BUTTON_CLASS_NAME=t.FIREBASE_TOKEN_NAME=t.ALLOWED_ORIGINS=void 0;t.WALLKIT_POPUP_URL="https://wallkit.net/popups";t.WALLKIT_POPUP_DEV_URL="https://dev.wallkit.net/popups";var n="https://cdn.wallkit.net";t.WALLKIT_CDN_URL=n;var r=n+"/assets";t.WALLKIT_CDN_ASSETS_URL=r;var a=[document.location.origin,"http://127.0.0.1:8000","https://wallkit.net","https://dev.wallkit.net","https://demo.wallkit.net","https://wallkit-landing.com"];t.ALLOWED_ORIGINS=a;t.WALLKIT_MODAL_WRAPPER_CLASSNAME="wallkit-modal-wrapper";t.WALLKIT_MODAL_CLOSE_BTN_CLASSNAME="wallkit-modal-wrapper__close-btn";t.WALLKIT_MODAL_CONTENT_CLASSNAME="wallkit-modal-wrapper__content";t.WALLKIT_MODAL_MIN_WIDTH="500";t.WALLKIT_MODAL_MAX_WIDTH="500";t.WALLKIT_MODAL_MIN_HEIGHT="250";t.WALLKIT_FIREBASE_UI_PLACEHOLDER_ID="firebase-ui-placeholder";t.WALLKIT_FIREBASE_WK_FORM_PLACEHOLDER_ID="wk-email-auth-form";t.WALLKIT_AUTH_FORM_PLACEHOLDER_ID="wk-auth-form";t.WALLKIT_USER_MANAGER_MODAL_FORM_PLACEHOLDER_ID="wk-user-manager-modal-form";t.WALLKIT_FRAME_ID="wk-frame";t.TRIGGER_EMAIL_BUTTON_TITLE_SELECTOR="span.wk-auth-form-button-email-title";t.TRIGGER_EMAILLINK_BUTTON_TITLE_SELECTOR="span.wk-auth-form-button-emaillink-title";t.TRIGGER_GOOGLE_BUTTON_TITLE_SELECTOR="#firebase-ui-placeholder .firebaseui-container .firebaseui-idp-google span.firebaseui-idp-text-long";t.TRIGGER_EMAIL_BUTTON_CLASS_NAME="wk-auth-form-button wk-auth-form-button-email";t.TRIGGER_EMAILLINK_BUTTON_CLASS_NAME="wk-auth-form-button wk-auth-form-button-emaillink";t.TRIGGER_BUTTON_CLASS_NAME="wk-auth-form-button";t.WALLKIT_FIREBASE_CONFIG={apiKey:"AIzaSyAoRdxZIlUE0HInqtzDid6rNxluhs5nCqg",authDomain:"wallkit-production.firebaseapp.com",databaseURL:"https://wallkit-production.firebaseio.com",projectId:"wallkit-production",storageBucket:"wallkit-production.appspot.com",messagingSenderId:"779443518820",appId:"1:779443518820:web:ffc6660647590674e20e71",measurementId:"G-GWJ1GC5B30"};t.WALLKIT_DEV_FIREBASE_CONFIG={apiKey:"AIzaSyCmIluc9x63JOu7I5UMZ8q5M4AbluBeC8o",authDomain:"wallkit-258413.firebaseapp.com",databaseURL:"https://wallkit-258413.firebaseio.com",projectId:"wallkit-258413",storageBucket:"wallkit-258413.appspot.com",messagingSenderId:"767802802956",appId:"1:767802802956:web:e8fc363619c47f7fff7f29",measurementId:"G-ER6R7Z47R3"};t.WALLKIT_TOKEN_NAME="wk-token";t.FIREBASE_TOKEN_NAME="firebase-token"},8006:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FB_AVAILABLE_LANGUAGES=void 0;t.FB_AVAILABLE_LANGUAGES=["ar","bg","ca","zh_cn","zh_tw","hr","cs","da","nl","en","en_gb","fa","fil","fi","fr","de","el","iw","hi","hu","id","it","ja","ko","lv","lt","no","pl","pt_pt","ro","ru","sr","sk","sl","es","sv","th","tr","uk","vi"]},542:(e,t,n)=>{"use strict";var r=n(5656);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ERRORS_TYPES=t.DEFAULT_ERROR_MESSAGES=void 0;var a=r(n(3298)),i=r(n(1795)),o={DOM_ERROR:"DOM_ERROR",ARGUMENT_ERROR:"ARGUMENT_ERROR"};t.ERRORS_TYPES=o;var s={DOM_ERROR:"DOM Manipulation gone wrong",ARGUMENT_ERROR:"One of the argument were not provided"};t.DEFAULT_ERROR_MESSAGES=s;var l=function(){function e(){(0,a.default)(this,e)}return(0,i.default)(e,null,[{key:"isErrorRecognisable",value:function(e){return!!o[e]}},{key:"getErrorTypeMessage",value:function(e){var t;return null!==(t=s[e])&&void 0!==t?t:"Unrecognised Error"}},{key:"handleError",value:function(t,n){if(n&&this.isErrorRecognisable(n)){var r=null!=t?t:e.getErrorTypeMessage(n),a="ERROR::".concat(n,"; ").concat(r,";");throw console.log(a),new e(a)}var i="ERROR::".concat(n,";");throw console.log(i),new e(i)}},{key:"checkRequiredArgument",value:function(e,t){void 0===e&&this.handleError("Argument ".concat(t," is not provided"),o.ARGUMENT_ERROR)}}]),e}();t.default=l},6004:(e,t,n)=>{"use strict";var r=n(5656);Object.defineProperty(t,"__esModule",{value:!0});var a={};t.default=void 0;var i=r(n(366)),o=r(n(3298)),s=r(n(1795)),l=r(n(7484)),u=r(n(9269)),c=r(n(8967)),d=r(n(4753)),f=r(n(9889)),h=r(n(7343)),p=r(n(8390)),m=r(n(5613)),v=r(n(4442)),w=n(2350),g=n(2909),b=n(8672),_=n(7857),k=n(9066);Object.keys(k).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===k[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return k[e]}}))}));var y=n(6073);Object.keys(y).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===y[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return y[e]}}))}));var E,A,L,S=n(5234);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function R(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function C(){var e=this;window.addEventListener("message",(function(t){var n=t.data,r=n.value,a=n.name,i=t.origin;e.events.notify(a,r),e.events.notify(y.FRAME_MESSAGE,{name:a,value:r});try{if(k.ALLOWED_ORIGINS.includes(i)&&a)switch(a){case"wk-event-modals-ready":e.authentication.isAuthenticated()?e.frame.sendEvent("wk-event-applepay-ready",(0,b.isApplePayAvailable)()):e.frame.sendEvent("wk-event-get-token",e.config.public_key);break;case"wk-event-resize":0!==r.width&&0!==r.height&&e.popup.resize(r.width,r.height);break;case"show-firebase-auth":var o=r;e.popup.hide(),e.events.subscribe(y.SUCCESS_AUTH,(function(){"string"==typeof o&&e.popup.open(o)}),{once:!0}),e.authentication.show(),e.frame.openFrame("");break;case"wk-event-close-modal":e.popup.hide();break;case"wk-event-reload-page":e.popup.hide(),location.reload();break;case"wk-event-storage-available":r||e.authentication.dispatchTokens();break;case"wk-event-close-on-wrapper":e.popup.closeOutside=r;break;case"wk-firebase-change-password":e.popup.hide(),e.userManager.showChangePassword()}}catch(e){console.log("ERROR",e)}}))}function I(){var e=(0,g.createElement)("style");e.innerHTML=w.LIBRARY_STYLES,(0,g.injectInHead)(e)}function P(){var e=(0,S.parseAuthTokenHash)();e&&(this.authentication.handleTicketsToken(e),(0,S.resetHash)())}window.WallkitIntegration=(E=new WeakSet,A=new WeakSet,L=new WeakSet,function(){function e(t){var n,r=this;(0,o.default)(this,e),F(this,L),F(this,A),F(this,E),this.config=t,this.events=new f.default,this.content=p.default,(null===(n=null==t?void 0:t.prevent_execution_for_crawlers)||void 0===n||n)&&(0,_.isCrawler)()||(this.frame=new c.default(O(O({},t),{},{onReady:function(){return r.popup.toggleLoader(!1)}})),this.popup=new u.default({resourceFrame:this.frame,initialLoader:!0,onReady:function(e){e.openByHash()},onClose:function(){r.events.notify(y.FRAME_MODAL_CLOSED,{name:r.frame.currentFrameName})}}),this.sdk=new d.default(O(O({},t),{},{onLoaded:function(){var e=t.auth||{},n=e.firebase,a=e.modal,i=e.content,o=e.reCaptcha,s=e.forms;r.authentication=new l.default(O(O({},t),{},{firebase:n,modalTitle:null==a?void 0:a.title,content:i||(null==a?void 0:a.content),reCaptcha:o})),r.analytics=new h.default(null==t?void 0:t.analytics),r.call=new m.default(r.popup,r.config),r.init(),r.userManager=new v.default({customizeForms:s||!1,popup:r.popup,authentication:r.authentication})}})))}return(0,s.default)(e,[{key:"modal",value:function(e,t){this.popup.open(e,t)}},{key:"on",value:function(e,t,n){this.events.subscribe(e,t,n)}},{key:"off",value:function(e,t,n){this.events.unsubscribe(e,t,n)}},{key:"sendEvent",value:function(e,t,n){this.frame.sendEvent(e,t,n)}},{key:"init",value:function(){var e,t;R(this,A,I).call(this),this.popup.init(),!1!==this.config.auth.defaultInit&&this.authentication.init(),this.analytics.init(),R(this,E,C).call(this),R(this,L,P).call(this),this.config.onInit&&this.config.onInit(this),null!==(e=this.config)&&void 0!==e&&null!==(t=e.call)&&void 0!==t&&t.use&&this.call.init()}}]),e}());var x=WallkitIntegration;t.default=x},7343:(e,t,n)=>{"use strict";var r=n(5656);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(3298)),i=r(n(1795)),o=r(n(5194)),s=r(n(8478)),l=r(n(4753)),u=r(n(7484)),c=r(n(9889)),d=n(6073);function f(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}var h=new WeakMap,p=new WeakMap,m=new WeakMap,v=new WeakMap,w=function(){function e(t){(0,a.default)(this,e),f(this,h,{writable:!0,value:void 0}),f(this,p,{writable:!0,value:void 0}),f(this,m,{writable:!0,value:void 0}),f(this,v,{writable:!0,value:void 0}),(0,s.default)(this,h,{parseUTM:void 0===(null==t?void 0:t.parseUTM)||t.parseUTM}),(0,s.default)(this,m,new u.default),(0,s.default)(this,p,new l.default),(0,s.default)(this,v,new c.default),this.utmTags={}}return(0,i.default)(e,[{key:"parseUTMTags",value:function(){var e=this;if(!window.location.search.includes("utm"))return{};var t=new URLSearchParams(window.location.search),n={};return["utm_source","utm_medium","utm_campaign"].forEach((function(e){t.get(e)&&(n[e]=t.get(e))})),this.utmTags=n,(0,o.default)(this,m).isAuthenticated()?(0,o.default)(this,p).methods.updateUser({extra:this.utmTags}):this.hasUTMTags&&(0,o.default)(this,v).subscribe(d.SUCCESS_AUTH,(function(){(0,o.default)(e,p).methods.updateUser({extra:e.utmTags})}),{once:!0}),n}},{key:"hasUTMTags",get:function(){return!!Object.keys(this.utmTags).length}},{key:"init",value:function(){!1!==(0,o.default)(this,h).parseUTM&&this.parseUTMTags()}}]),e}();t.default=w},3378:(e,t,n)=>{"use strict";var r=n(5656);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(8047)),i=r(n(7240)),o=r(n(3298)),s=r(n(1795)),l=r(n(5194)),u=r(n(8478)),c=r(n(6073)),d=n(2909),f=n(1758),h=r(n(4753)),p=r(n(9889));function m(e,t){v(e,t),t.add(e)}function v(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function w(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var g=new WeakMap,b=new WeakSet,_=new WeakSet,k=function(){function e(t,n){var r,a,i;if((0,o.default)(this,e),m(this,_),m(this,b),i={writable:!0,value:void 0},v(r=this,a=g),a.set(r,i),!t)throw Error("Authentication Instance is not provided");this.enabled=this.isEnabled(n),this.authentication=t,this.options=n,this.loaded=!1,this.valid=!1,this.siteKey=null==n?void 0:n.siteKey,this.grecaptcha=null,(0,u.default)(this,g,new h.default),this.events=new p.default}var t,n,r;return(0,s.default)(e,[{key:"isEnabled",value:function(e){return(0,d.isMobile)()?!!e&&!1!==(null==e?void 0:e.mobile):!!e}},{key:"setOptions",value:function(e){return e&&(this.options=e,this.enabled=!0),this}},{key:"load",value:(r=(0,i.default)(a.default.mark((function e(){var t,n=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.options){e.next=3;break}return e.abrupt("return",!1);case 3:if(!this.loaded){e.next=5;break}return e.abrupt("return",!0);case 5:t=[{url:"https://www.google.com/recaptcha/api.js",id:"recaptcha-script",defer:!0,onload:function(){n.loaded=!0,n.grecaptcha=window.grecaptcha,n.events.notify(c.default.RECAPTCHA_LOADED,!0),Promise.resolve(!0)}}],window.onRecaptchaAuth=w(this,_,E).bind(this),w(this,b,y).call(this),this.hideBadge(),(0,f.loadScripts)(t),e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,this,[[0,12]])}))),function(){return r.apply(this,arguments)})},{key:"hideBadge",value:function(){var e=(0,d.createElement)("style");e.innerText=".grecaptcha-badge {\n                    visibility: hidden;\n                };",(0,d.injectInHead)(e)}},{key:"resetProcess",value:function(){this.grecaptcha&&this.grecaptcha.reset(),this.authentication.firebase.reset(),this.authentication.modal.toggleLoader(!1)}},{key:"initCaptchaProcess",value:(n=(0,i.default)(a.default.mark((function e(){var t,n,r,i,o,s,l=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{this.valid=!1,this.grecaptcha&&this.grecaptcha.reset(),t=function(){l.valid||(l.events.notify(c.default.local.RECAPTCHA_VALIDATION_FAILED),l.authentication.firebase.reset(),l.authentication.modal.toggleLoader(!0))},n=function(){l.authentication.modal.toggleLoader(!0),l.grecaptcha.ready((function(){l.grecaptcha.execute().then((function(){l.events.subscribe(c.default.local.MODAL_CLOSED,(function(){return l.resetProcess()}),{once:!0})})).catch((function(){return l.resetProcess()}))}))},r=function(){n();var e=document.querySelector(".firebaseui-id-email"),r=document.querySelector(".firebaseui-id-page-sign-in .firebaseui-id-submit"),a=document.querySelector(".firebaseui-id-page-sign-in .firebaseui-id-secondary-link");e&&(e.addEventListener("input",(function(){t()})),e.addEventListener("keydown",(function(e){e.code&&"Enter"===e.code&&t()}))),a&&(a.onclick=function(){t()}),r&&(r.onclick=function(){t()})},i=document.querySelector('.firebaseui-idp-button[data-provider-id="password"]'),o=document.querySelector(".firebaseui-id-email"),i?i.addEventListener("click",r.bind(this)):o&&((s=document.querySelector(".firebaseui-id-page-sign-in .firebaseui-id-submit"))&&(s.onclick=function(){t()}),o.addEventListener("input",(function(){l.valid||(o.blur(),n())})))}catch(e){this.authentication.firebase.reset(),console.error("error",e)}case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"init",value:(t=(0,i.default)(a.default.mark((function e(){var t;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.options&&!this.loaded){e.next=3;break}return e.abrupt("return",!1);case 3:if(!0!==this.options){e.next=12;break}return e.next=6,(0,l.default)(this,g).methods.getReCaptchaSettings();case 6:if(!(t=e.sent)||!t.active){e.next=10;break}return this.siteKey=t.recaptcha_public_key,e.abrupt("return",this.load());case 10:e.next=13;break;case 12:return e.abrupt("return",this.load());case 13:return e.abrupt("return",!1);case 16:return e.prev=16,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",!1);case 20:case"end":return e.stop()}}),e,this,[[0,16]])}))),function(){return t.apply(this,arguments)})}]),e}();function y(){var e=(0,d.createElement)("div");e.classList.add("g-recaptcha"),e.dataset.sitekey=this.siteKey,e.dataset.size="invisible",e.dataset.callback="onRecaptchaAuth",this.authentication.modal&&this.authentication.modal.modalContent.appendChild(e)}function E(e){var t=this;return(0,l.default)(this,g).methods.validateReCaptchaToken(e).then((function(){t.events.notify(c.default.local.RECAPTCHA_VALIDATION_SUCCESS),t.valid=!0,t.authentication.modal.toggleLoader(!1)})).catch((function(){t.valid=!1})).finally((function(){t.authentication.modal.toggleLoader(!1)}))}t.default=k},526:(e,t,n)=>{"use strict";var r=n(5656);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(3298)),i=r(n(1795)),o=r(n(5194)),s=r(n(8478)),l=r(n(347)),u=n(5048),c=n(5234);function d(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}var f=new WeakMap,h=new WeakMap,p=new WeakMap,m=function(){function e(t,n,r,i){(0,a.default)(this,e),d(this,f,{writable:!0,value:void 0}),d(this,h,{writable:!0,value:void 0}),d(this,p,{writable:!0,value:void 0}),t&&r&&((0,s.default)(this,h,r),(0,s.default)(this,p,!0===i?(0,c.getParentDomain)():""),(0,s.default)(this,f,this.createTokenSlug(t,r)),n?this.set(n):this.token=this.getStoredTokenValue()||null)}return(0,i.default)(e,[{key:"createTokenSlug",value:function(e,t){return"".concat(e,"_").concat(t)}},{key:"get",value:function(){return this.token}},{key:"getStoredTokenValue",value:function(){return l.default.getItem((0,o.default)(this,f))||null}},{key:"remove",value:function(){this.token=null,(0,u.removeCookie)((0,o.default)(this,f),(0,o.default)(this,p)),l.default.removeItem((0,o.default)(this,f))}},{key:"set",value:function(e){this.token=e,(0,u.setCookie)((0,o.default)(this,f),e,{expires:"Fri, 31 Dec 9999 23:59:59 GMT",path:"/",domain:(0,o.default)(this,p)}),l.default.setItem((0,o.default)(this,f),e)}}]),e}();t.default=m},5298:(e,t,n)=>{"use strict";var r=n(5656);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(8047)),i=r(n(7240)),o=r(n(366)),s=r(n(2125)),l=r(n(3298)),u=r(n(1795)),c=r(n(5194)),d=r(n(8478)),f=n(1758),h=n(2909),p=n(9066),m=n(7761),v=r(n(9889)),w=n(6073),g=r(n(5828));function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t){y(e,t),t.add(e)}function y(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function E(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var A=new WeakMap,L=new WeakSet,S=new WeakSet,T=new WeakSet,O=new WeakSet,F=function(){function e(t){var n,r,a,i,o,s,u,c;(0,l.default)(this,e),k(this,O),k(this,T),k(this,S),k(this,L),c={writable:!0,value:void 0},y(s=this,u=A),u.set(s,c),this.events=new v.default,this.firebaseUiConfig=null,(0,d.default)(this,A,null==t?void 0:t.mode),this.lang=m.Localization.assembleLanguage(t.lang||"en"),this.config=null==t?void 0:t.config,this.providers=null==t?void 0:t.providers,this.tosURL=null==t?void 0:t.tosURL,this.privacyPolicyURL=null==t?void 0:t.privacyPolicyURL,this.captchaKey=null!==(n=null==t?void 0:t.captchaKey)&&void 0!==n?n:"6LeNZrwbAAAAAKXPTmJj5KMdUwI2GE6XAUbCU6DM",this.genuineForm=null===(r=null==t?void 0:t.genuineForm)||void 0===r||r,this.firebase=null,this.firebaseui=null,this.elementPlaceholder=E(this,L,R).call(this,t),this.onSuccessAuth=null!==(a=null==t?void 0:t.onSuccessAuth)&&void 0!==a?a:null,this.onAuthStateChanged=null!==(i=null==t?void 0:t.onAuthStateChanged)&&void 0!==i?i:null,this.uiShown=null!==(o=null==t?void 0:t.uiShown)&&void 0!==o?o:null,this.isUiShown=!1,this.initialized=!1,this.loaded=!1}var t,n,r,o,c,f,h;return(0,u.default)(e,[{key:"allowedProviders",get:function(){return{google:this.firebase.auth.GoogleAuthProvider.PROVIDER_ID,email:this.firebase.auth.EmailAuthProvider.PROVIDER_ID,facebook:this.firebase.auth.FacebookAuthProvider.PROVIDER_ID,apple:"apple.com",microsoft:"microsoft.com"}}},{key:"hideAuthForm",value:function(){var e=document.querySelector(this.elementPlaceholder);e&&(e.style.display="none")}},{key:"showAuthForm",value:function(){var e=document.querySelector(this.elementPlaceholder);e&&(e.style.display="block")}},{key:"formatSelectedProviders",value:function(e){var t=this,n=[];return Array.isArray(e)&&(n=e.map((function(e){if(("email"===e||"email"===e.provider)&&!1===t.genuineForm)return!1;if("object"===(0,s.default)(e)){if(t.allowedProviders[e.provider])return _(_({},e),{},{provider:t.allowedProviders[e.provider]})}else if(t.allowedProviders[e])return t.allowedProviders[e]})).filter((function(e){return!!e}))),n}},{key:"initFirebase",value:(h=(0,i.default)(a.default.mark((function e(t){var n,r,i,o,s,l,u,c,d=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.config,r=t.providers,i=void 0===r?["email","google"]:r,o=t.tosUrl,s=void 0===o?"https://wallkit.net":o,l=t.privacyPolicyUrl,u=void 0===l?"https://wallkit.net":l,E(this,O,P).call(this,n),(c=new this.firebaseui.auth.AuthUI(this.firebase.auth())).disableAutoSignIn(),this.firebaseUiConfig={callbacks:{signInSuccessWithAuthResult:function(e){e.user.getIdToken().then((function(t){var n={user:e.user,userId:e.user.uid,token:t};d.onSuccessAuth&&d.onSuccessAuth(n,e)}))},uiShown:function(){d.uiShown&&d.uiShown(),d.events.notify(w.FIREBASE_UI_SHOWN,!0),d.isUiShown=!0}},signInFlow:"popup",signInOptions:this.formatSelectedProviders(i),credentialHelper:this.firebaseui.auth.CredentialHelper.GOOGLE_YOLO,tosUrl:s,privacyPolicyUrl:u},this.firebaseui=c,this.startFirebaseUi(this.elementPlaceholder,this.firebaseUiConfig),this.firebase.auth().onAuthStateChanged(E(this,T,I).bind(this)),e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return h.apply(this,arguments)})},{key:"reset",value:function(){this.firebaseui&&(this.firebaseui.reset(),this.firebaseui.start(this.elementPlaceholder))}},{key:"startFirebaseUi",value:function(e,t){this.firebaseui.start(e||this.elementPlaceholder,t||this.firebaseUiConfig)}},{key:"logout",value:function(){var e=this;return new Promise((function(t){e.firebase&&e.firebase.auth?e.firebase.auth().signOut().then((function(){return t(!0)})):t(!1)}))}},{key:"signIn",value:function(e,t){var n=this;return this.firebase.auth().signInWithEmailAndPassword(e,t).then((function(e){return n.handleSuccessAuth(e)}))}},{key:"signUp",value:function(e,t){var n=this;return this.firebase.auth().createUserWithEmailAndPassword(e,t).then((function(e){return n.handleSuccessAuth(e)}))}},{key:"updateName",value:function(e){if(e){var t=this.firebase.auth().currentUser;t&&t.updateProfile({displayName:e})}}},{key:"handleSuccessAuth",value:(f=(0,i.default)(a.default.mark((function e(t){var n,r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=7;break}return e.next=4,t.user.getIdToken();case 4:n=e.sent,r={operationType:t.operationType,user:t.user,userId:t.user.uid,token:n},this.onSuccessAuth&&this.onSuccessAuth(r,t);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("ERROR:",e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])}))),function(e){return f.apply(this,arguments)})},{key:"sendPasswordResetEmail",value:function(e){return this.firebase.auth().sendPasswordResetEmail(e)}},{key:"sendNewPasswordResetPassword",value:(c=(0,i.default)(a.default.mark((function e(t,n){var r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("The password cannot be empty of false.");case 2:if(n){e.next=4;break}throw new Error("Invalid values in the password reset url.");case 4:return r="https://identitytoolkit.googleapis.com/v1/accounts:resetPassword?key=".concat(this.config.apiKey),e.next=7,fetch(r,{method:"POST",body:JSON.stringify({oobCode:n,newPassword:t}),headers:{"Content-Type":"application/json"}}).then(function(){var e=(0,i.default)(a.default.mark((function e(t){var n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(!(n=e.sent).error||!n.error.message){e.next=14;break}e.t0=n.error.message,e.next="OPERATION_NOT_ALLOWED"===e.t0?7:"EXPIRED_OOB_CODE"===e.t0?8:"INVALID_OOB_CODE"===e.t0?9:"USER_DISABLED"===e.t0?10:11;break;case 7:throw new Error("Password sign-in is disabled for this project.");case 8:throw new Error("The password reset link has expired.");case 9:throw new Error("The password reset link is invalid. This can happen if the code is malformed, expired, or has already been used. Please generate a new one using the Forgot password form.");case 10:throw new Error("The user account has been disabled by an administrator.");case 11:throw new Error(n.error.message);case 12:e.next=15;break;case 14:return e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){throw e}));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return c.apply(this,arguments)})},{key:"authEmailLink",value:(o=(0,i.default)(a.default.mark((function e(t,n){var r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,g.default)(t)&&!(0,g.default)(n)){e.next=2;break}throw new Error("Invalid values in the auth email link.");case 2:return r="https://identitytoolkit.googleapis.com/v1/accounts:signInWithEmailLink?key=".concat(this.config.apiKey),e.next=5,fetch(r,{method:"POST",body:JSON.stringify({oobCode:t,email:n}),headers:{"Content-Type":"application/json"}}).then(function(){var e=(0,i.default)(a.default.mark((function e(t){var n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(!(n=e.sent).error||!n.error.message){e.next=7;break}throw new Error(n.error.message);case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){throw e}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"reauthenticateWithCredential",value:(r=(0,i.default)(a.default.mark((function e(t){var n,r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=12;break}if(!(n=this.firebase.auth().currentUser)){e.next=9;break}return r=this.firebase.auth.EmailAuthProvider.credential(n.email,t),e.next=6,n.reauthenticateWithCredential(r);case 6:return e.abrupt("return",e.sent);case 9:throw new Error("Your authorization is broken. Please login again.");case 10:e.next=13;break;case 12:throw new Error("Old Password is empty");case 13:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"updatePassword",value:(n=(0,i.default)(a.default.mark((function e(t){var n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}if(!(n=this.firebase.auth().currentUser)){e.next=7;break}return e.next=5,n.updatePassword(t);case 5:e.next=8;break;case 7:throw new Error("Your authorization is broken. Please login again.");case 8:e.next=11;break;case 10:throw new Error("New Password is empty");case 11:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"authWithCustomToken",value:(t=(0,i.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!this.firebase||!this.firebase.auth){e.next=5;break}return e.next=4,this.firebase.auth().signInWithCustomToken(t);case 4:return e.abrupt("return",e.sent);case 5:return e.abrupt("return",!1);case 8:return e.prev=8,e.t0=e.catch(0),console.error("Custom Token Auth Fail"),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(e){return t.apply(this,arguments)})},{key:"attachEmailListener",value:function(e){var t=document.querySelector('.firebaseui-idp-button[data-provider-id="password"]'),n=function(){var t=document.querySelector(".firebaseui-id-email");t&&t.addEventListener("blur",(function(t){e(t)}))};t?t.addEventListener("click",(function(){setTimeout((function(){n()}))})):n()}},{key:"init",value:function(){var e=this;E(this,S,C).call(this).then((function(){e.events.notify(w.FIREBASE_LOADED,!0),e.initFirebase({config:e.config,providers:e.providers,tosUrl:e.tosURL,privacyPolicyUrl:e.privacyPolicyURL}).then((function(){e.initialized=!0,e.events.notify(w.FIREBASE_INIT,!0)}))}))}}]),e}();function R(e){var t="#".concat(p.WALLKIT_FIREBASE_UI_PLACEHOLDER_ID);if(this.genuineForm){var n,r=null!==(n=null==e?void 0:e.elementSelector)&&void 0!==n?n:t;return(0,h.normalizeSelector)(r)}return t}function C(){var e=this;return new Promise((function(t,n){e.loading=!0;(0,h.insertScript)("https://www.gstatic.com/firebasejs/8.7.0/firebase-app.js","firebase-app",(function(){var n=[{url:"https://www.gstatic.com/firebasejs/8.7.0/firebase-analytics.js",id:"firebase-analytics",defer:!0,onload:function(){return a()}},{url:"https://www.gstatic.com/firebasejs/8.7.0/firebase-auth.js",id:"firebase-auth",defer:!0,onload:function(){return a()}},{url:"https://www.gstatic.com/firebasejs/8.7.0/firebase-firestore.js",id:"firebase-firestore",defer:!0,onload:function(){return a()}},{url:"https://www.gstatic.com/firebasejs/ui/4.8.0/firebase-ui-auth__".concat(e.lang,".js"),id:"firebase-ui",defer:!0,onload:function(){return a()}},{url:"https://www.gstatic.com/firebasejs/8.7.0/firebase-app-check.js",id:"firebase-app-check",defer:!0,onload:function(){return a()}}],r=0,a=function(){++r===n.length&&(e.firebase=window.firebase,e.firebaseui=window.firebaseui,e.loaded=!0,t({firebase:window.firebase,firebaseui:window.firebaseui}))};(0,f.loadScripts)(n),(0,h.loadCSS)("https://www.gstatic.com/firebasejs/ui/4.8.0/firebase-ui-auth.css","firebase-ui-styles")}))}))}function I(e){var t=this;e&&e.getIdToken().then((function(e){t.onAuthStateChanged&&t.onAuthStateChanged(e)}))}function P(e){if(0===this.firebase.apps.length){var t="dev"===(0,c.default)(this,A)?p.WALLKIT_DEV_FIREBASE_CONFIG:p.WALLKIT_FIREBASE_CONFIG;this.firebase.initializeApp(null!=e?e:t)}return this.firebase}t.default=F},7484:(e,t,n)=>{"use strict";var r=n(5656),a=n(2125);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(8047)),o=r(n(7240)),s=r(n(366)),l=r(n(2125)),u=r(n(3298)),c=r(n(1795)),d=r(n(5194)),f=r(n(8478)),h=r(n(9269)),p=r(n(5298)),m=n(9066),v=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(6073)),w=r(n(9889)),g=r(n(8967)),b=r(n(4753)),_=r(n(526)),k=r(n(3378)),y=n(8031),E=n(2909),A=n(5234),L=r(n(5828));function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function T(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){(0,s.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t){P(e,t),t.add(e)}function I(e,t,n){P(e,t),t.set(e,n)}function P(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function x(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var M=new WeakMap,W=new WeakMap,N=new WeakMap,D=new WeakMap,U=new WeakMap,j=new WeakMap,K=new WeakSet,H=new WeakSet,B=new WeakSet,G=new WeakSet,V=new WeakSet,z=new WeakSet,q=function(){function e(t){var n,r,a=this;if((0,u.default)(this,e),C(this,z),C(this,V),C(this,G),C(this,B),C(this,H),C(this,K),I(this,j,{get:X,set:void 0}),I(this,U,{get:$,set:void 0}),I(this,D,{get:Y,set:void 0}),I(this,M,{writable:!0,value:void 0}),I(this,W,{writable:!0,value:""}),I(this,N,{writable:!0,value:""}),e.instance)return e.instance;if(e.instance=this,(0,f.default)(this,M,t),this.token=new _.default(m.WALLKIT_TOKEN_NAME,null,t.public_key,!(null==t||null===(n=t.cookies)||void 0===n||!n.subDomain)),this.firebaseToken=new _.default(m.FIREBASE_TOKEN_NAME,null,t.public_key,!(null==t||null===(r=t.cookies)||void 0===r||!r.subDomain)),this.frame=new g.default,this.sdk=new b.default,null!=t&&t.firebase){var i={lang:t.lang||"en",mode:t.mode,onAuthStateChanged:this.updateFirebaseToken.bind(this),onSuccessAuth:this.onSuccessAuth.bind(this),uiShown:this.onFirebaseInit.bind(this),onAuthFail:this.onFirebaseAuthFail.bind(this)};"object"===(0,l.default)(t.firebase)&&(i=R(R({},i),t.firebase),!1===t.firebase.genuineForm&&(i.tosURL="",i.privacyPolicyURL="")),this.firebase=new p.default(i),!1===t.firebase.genuineForm&&(0,d.default)(this,j)&&this.initAuthForm()}this.reCaptcha=new k.default(this,null==t?void 0:t.reCaptcha),this.reCaptcha.events.subscribe(v.default.local.RECAPTCHA_VALIDATION_FAILED,(function(){x(a,B,Q).call(a,"ReCaptcha Validation Failed! Please try again!","recaptcha/validation-failed")})),this.reCaptcha.events.subscribe(v.default.local.RECAPTCHA_VALIDATION_SUCCESS,(function(){x(a,G,ee).call(a)})),this.events=new w.default}var t,n,r,a,s;return(0,c.default)(e,[{key:"isAuthenticated",value:function(){return this.sdk?this.sdk.methods.isAuthenticated()||this.token.get()||this.firebaseToken.get():!!this.token.get()}},{key:"toggleFormLoader",value:function(e){this.modal&&this.modal.toggleLoader(e)}},{key:"handleLogin",value:function(e){var t=this;this.firebase.signIn(e.email,e.password).then((function(){})).catch((function(e){(0,L.default)(e.message)||t.authForm.loginForm.setFormError(e.message,e.code||!1),t.reCaptcha.grecaptcha.reset()}))}},{key:"handleSignUp",value:function(e){var t=this;this.firebase.signUp(e.email,e.password).then((function(){t.firebase.updateName(e.name)})).catch((function(e){(0,L.default)(e.message)||t.authForm.signUpForm.setFormError(e.message,e.code||!1),t.reCaptcha.grecaptcha.reset()}))}},{key:"executeRecaptcha",value:function(){var e=this;this.reCaptcha.grecaptcha.ready((function(){e.reCaptcha.grecaptcha.execute().then((function(){e.modal.toggleLoader(!0)})).catch((function(e){console.log("EXECUTE RECAPTCHA ERROR:",e)}))}))}},{key:"initAuthForm",value:function(){var e,t,n,r,a=this,s=(0,d.default)(this,M).firebase||{},l=s.tosURL,u=s.privacyPolicyURL,c=s.termsOfService,f=s.providers,h=s.passwordSignInIgnoreValidation,p=s.authOnPasswordReset,w=(0,d.default)(this,M).auth||{},g=w.signUp,b=w.defaultForm,_=w.forms;this.authForm=new y.AuthForm("#".concat(m.WALLKIT_FIREBASE_WK_FORM_PLACEHOLDER_ID),{triggerButton:this.firebase.providers.length>1,signUp:null==g||g,termsOfService:{tosURL:l,privacyPolicyURL:u,termsOfService:c},defaultForm:b||!1,authProviders:f||!1,customizeAuthForms:_||!1,passwordSignInIgnoreValidation:h||!1,authOnPasswordReset:p||!1,onLogin:(r=(0,o.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.events.preventiveEvent(v.PRE_SIGN_IN,t);case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:a.reCaptcha.enabled?(a.executeRecaptcha(),a.reCaptcha.events.subscribe(v.default.local.RECAPTCHA_VALIDATION_SUCCESS,a.handleLogin.bind(a,t),{once:!0})):a.handleLogin(t);case 6:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)}),onSignUp:function(e){a.reCaptcha.enabled?(a.executeRecaptcha(),a.reCaptcha.events.subscribe(v.default.local.RECAPTCHA_VALIDATION_SUCCESS,a.handleSignUp.bind(a,e),{once:!0})):a.handleSignUp(e)},onGetEmailLink:(n=(0,o.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.toggleFormLoader(!0),e.next=4,a.sdk.client.post({path:"/firebase/email-auth-link",data:{email:t.email}}).then((function(e){e.result?a.authForm.showSuccessEmailLink():a.authForm.emailLinkForm.setFormError("Something went wrong","auth-email-link/unknown-error")})).catch((function(e){(0,L.default)(e.message)||a.authForm.emailLinkForm.setFormError(e.message,e.code||!1),a.toggleFormLoader(!1)}));case 4:a.toggleFormLoader(!1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),(0,L.default)(e.t0.message)||a.authForm.emailLinkForm.setFormError(e.t0.message,e.t0.code||!1),a.toggleFormLoader(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),function(e){return n.apply(this,arguments)}),onPasswordForgot:(t=(0,o.default)(i.default.mark((function e(t){var n,r,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a.toggleFormLoader(!0),!1!==(0,d.default)(a,M).firebase.genuinePasswordReset){e.next=10;break}return e.next=5,a.sdk.methods.firebasePasswordReset(t.email);case 5:r=e.sent,o=r.result,n=o,e.next=13;break;case 10:return e.next=12,a.firebase.sendPasswordResetEmail(t.email);case 12:n=!0;case 13:if(!n){e.next=17;break}a.authForm.showSuccessPasswordForgot(),e.next=18;break;case 17:throw new Error("Something went wrong");case 18:a.toggleFormLoader(!1),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(0),(0,L.default)(e.t0.message)||a.authForm.forgotPasswordForm.setFormError(e.t0.message,e.t0.code||!1),a.toggleFormLoader(!1);case 25:case"end":return e.stop()}}),e,null,[[0,21]])}))),function(e){return t.apply(this,arguments)}),onPasswordReset:(e=(0,o.default)(i.default.mark((function e(t){var n,r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.toggleFormLoader(!0),e.next=4,a.firebase.sendNewPasswordResetPassword(t.new_password,(0,d.default)(a,W));case 4:(n=e.sent)?(r=(0,d.default)(a,M).firebase.authOnPasswordReset,a.authForm.showSuccessPasswordReset(),r&&a.handleLogin({email:n.email,password:t.new_password})):a.authForm.resetPasswordForm.setFormError("Something went wrong","reset-password/unknown-error"),a.toggleFormLoader(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),(0,L.default)(e.t0.message)||a.authForm.resetPasswordForm.setFormError(e.t0.message,e.t0.code||!1),a.toggleFormLoader(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),function(t){return e.apply(this,arguments)}),onAuthFormShow:function(){a.firebase.hideAuthForm()},onCancel:function(){a.firebase.showAuthForm(),a.authForm.reset()},getShowAuthFormSlug:function(){return(0,d.default)(a,N)}})}},{key:"onSuccessAuth",value:function(e){var t=this;this.toggleFormLoader(!0);var n=function(e){t.resetAuthProcess(!1),t.toggleFormLoader(!1),x(t,B,Q).call(t,(null==e?void 0:e.message)||"Something went wrong!",(null==e?void 0:e.code)||"unknown-error")};this.updateFirebaseToken(e.token),this.events.notify(v.default.local.SUCCESS_FIREBASE_AUTH,e),this.authInWallkit(e.token).then((function(e){e?(t.modal.hide(),t.authForm&&t.authForm.hide()):n(),t.toggleFormLoader(!1)})).catch((function(e){return n(e)}))}},{key:"authInWallkit",value:(s=(0,o.default)(i.default.mark((function e(){var t,n,r=this,a=arguments;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:null,x(this,G,ee).call(this),t){e.next=4;break}throw new Error("Your authorization is broken. Please login again.");case 4:return e.prev=4,e.next=7,this.sdk.methods.authenticateWithFirebase(t);case 7:return n=e.sent,this.setToken(n.token),e.next=11,new Promise((function(e,t){var a=setTimeout((function(){e(!1)}),1e4);r.sdk.methods.subscribeLocalEvent("user",(function t(){clearTimeout(a),r.sdk.methods.unsubscribeLocalEvent("user",t),r.events.notify(v.default.local.SUCCESS_AUTH,{register:!n.existed}),e(!0)}))}));case 11:return e.abrupt("return",e.sent);case 14:throw e.prev=14,e.t0=e.catch(4),console.log("error",e.t0),this.removeTokens(),e.t0;case 19:case"end":return e.stop()}}),e,this,[[4,14]])}))),function(){return s.apply(this,arguments)})},{key:"getDefaultAuthenticationFormContent",value:function(){var e,t;return'<div>\n                    <div id="authorization-error"></div>\n                    <h2 class="wallkit-auth-modal__title">'.concat(null!==(e=null===(t=(0,d.default)(this,M))||void 0===t?void 0:t.modalTitle)&&void 0!==e?e:"Sign In","</h2>\n                    <div ").concat((0,d.default)(this,U),'="').concat((0,d.default)(this,D).substring(1),'"></div>\n                </div>')}},{key:"attachFormPlaceholders",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,d.default)(this,D),t='<div id="'.concat(m.WALLKIT_FIREBASE_WK_FORM_PLACEHOLDER_ID,'"></div>\n                            <div id="').concat(m.WALLKIT_FIREBASE_UI_PLACEHOLDER_ID,'"></div>'),n=document.querySelector(e);n&&(n.innerHTML=t)}},{key:"render",value:function(){if("selector"===(0,d.default)(this,M).auth.renderType){var e,t=document.querySelector((0,d.default)(this,M).auth.selector);if(t)t.insertAdjacentHTML("beforeend",(null===(e=(0,d.default)(this,M))||void 0===e?void 0:e.content)||this.getDefaultAuthenticationFormContent())}else this.modal=x(this,K,J).call(this),this.modal.init();this.attachFormPlaceholders()}},{key:"show",value:(a=(0,o.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,f.default)(this,N,null!=t?t:""),!1===(0,d.default)(this,M).firebase.genuineForm&&this.authForm&&(this.authForm.defaultForm=t,this.authForm.triggerButton&&this.authForm.triggerButton.isVisible||this.authForm.showDefaultForm()),this.modal.show(),this.firebase.isUiShown||this.checkFirebaseInit();case 4:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"checkFirebaseInit",value:function(){var e=this;if(this.firebase.loaded)if(this.firebase.initialized){var t=null;this.firebase.isUiShown||(t=setTimeout((function(){e.firebase.startFirebaseUi(),e.checkFirebaseInit()}),2e3),this.firebase.events.subscribe(v.FIREBASE_UI_SHOWN,(function(){t&&clearTimeout(t)})))}else this.firebase.events.subscribe(v.FIREBASE_INIT,(function(){return e.checkFirebaseInit()}),{once:!0});else this.firebase.events.subscribe(v.FIREBASE_LOADED,(function(){return e.checkFirebaseInit()}),{once:!0})}},{key:"updateFirebaseToken",value:function(e){this.firebaseToken.set(e),this.frame.sendEvent(v.default.wallkit.WALLKIT_EVENT_FIREBASE_TOKEN,e),this.sdk.methods.setFirebaseToken(e)}},{key:"onFirebaseInit",value:function(){var e=this;try{var t;!1!==(0,d.default)(this,M).firebase.genuineForm?this.reCaptcha.enabled&&this.reCaptcha.loaded?this.reCaptcha.initCaptchaProcess():this.reCaptcha.loaded||this.events.subscribe(v.default.local.RECAPTCHA_LOADED,(function(){e.reCaptcha.initCaptchaProcess()}),{once:!0}):null!==(t=this.authForm)&&void 0!==t&&t.triggerButton&&this.authForm.triggerButton.events.notify(v.FIREBASE_UI_SHOWN,!0),this.toggleFormLoader(!1)}catch(e){this.toggleFormLoader(!1)}}},{key:"removeToken",value:function(){this.token.remove()}},{key:"removeFirebaseToken",value:function(){this.firebaseToken.remove()}},{key:"removeTokens",value:function(){this.removeToken(),this.removeFirebaseToken()}},{key:"setToken",value:function(e){this.token.set(e),this.sdk.methods.setToken(e)}},{key:"resetAuthProcess",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.firebase.reset(),this.firebase.showAuthForm(),!1===this.firebase.genuineForm&&e&&this.authForm.reset(),this.reCaptcha.enabled&&this.reCaptcha.grecaptcha.reset()}},{key:"logout",value:(r=(0,o.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.removeToken(),e.next=4,this.firebase.logout();case 4:if(!e.sent){e.next=20;break}if(this.removeFirebaseToken(),!this.reCaptcha.enabled||this.reCaptcha.loaded){e.next=12;break}return e.next=10,this.reCaptcha.init();case 10:e.next=13;break;case 12:this.reCaptcha.loaded&&(this.resetAuthProcess(),this.reCaptcha.grecaptcha.reset(),!1!==(0,d.default)(this,M).firebase.genuineForm&&this.reCaptcha.initCaptchaProcess());case 13:if(!this.sdk.methods.isAuthenticated()){e.next=18;break}return e.next=16,this.sdk.methods.logout();case 16:e.next=19;break;case 18:(this.token.get()||this.firebaseToken.get())&&this.frame.sendEvent(v.default.wallkit.WALLKIT_LOGOUT,!0);case 19:this.events.notify(v.default.local.LOGOUT,!0);case 20:this.resetAuthProcess(),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(0),console.log("ERROR:",e.t0),this.resetAuthProcess();case 27:case"end":return e.stop()}}),e,this,[[0,23]])}))),function(){return r.apply(this,arguments)})},{key:"dispatchTokens",value:function(){this.isAuthenticated()&&(this.dispatchWallkitToken(),this.dispatchFirebaseToken())}},{key:"dispatchWallkitToken",value:function(){var e=this.token.get();e&&this.frame.sendEvent(v.default.wallkit.WALLKIT_EVENT_TOKEN,e)}},{key:"dispatchFirebaseToken",value:function(){var e=this.firebaseToken.get();e&&this.frame.sendEvent(v.default.wallkit.WALLKIT_EVENT_FIREBASE_TOKEN,e)}},{key:"handleTicketsToken",value:(n=(0,o.default)(i.default.mark((function e(t){var n,r,a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.sdk.methods.getAuthTokensByTicketPassToken(t);case 3:if(!(n=e.sent)){e.next=19;break}return e.next=7,this.firebase.authWithCustomToken(n.firebase_custom_token);case 7:return r=e.sent,e.next=10,r.user.getIdToken();case 10:return a=e.sent,this.updateFirebaseToken(a),this.setToken(n.token),e.next=15,this.sdk.methods.getUser();case 15:return this.dispatchTokens(),this.events.notify(v.default.local.SUCCESS_AUTH,!0),this.events.notify(v.default.local.TICKETS_TOKEN_AUTH_SUCCESS,!0),e.abrupt("return",!0);case 19:return e.abrupt("return",!1);case 22:return e.prev=22,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",e.t0);case 26:case"end":return e.stop()}}),e,this,[[0,22]])}))),function(e){return n.apply(this,arguments)})},{key:"handleExternalAuthProvider",value:(t=(0,o.default)(i.default.mark((function e(t){var n,r,a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,this.sdk.methods.getAuthTokensByExternalUserId(t);case 5:if(n=e.sent){e.next=8;break}return e.abrupt("return",!1);case 8:return e.next=10,this.firebase.authWithCustomToken(n.firebase_custom_token);case 10:return r=e.sent,e.next=13,r.user.getIdToken();case 13:if(a=e.sent,n.token&&a){e.next=16;break}return e.abrupt("return",!1);case 16:return this.updateFirebaseToken(a),this.setToken(n.token),e.next=20,this.sdk.methods.getUser();case 20:return this.dispatchTokens(),this.events.notify(v.default.local.SUCCESS_AUTH,!0),this.events.notify(v.default.local.EXTERNAL_PROVIDER_TOKEN_AUTH_SUCCESS,!0),e.abrupt("return",!0);case 26:return e.prev=26,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",e.t0);case 30:case"end":return e.stop()}}),e,this,[[0,26]])}))),function(e){return t.apply(this,arguments)})},{key:"onFirebaseAuthFail",value:function(e){this.toggleFormLoader(!1)}},{key:"handleOneTapResponse",value:function(e){var t=e.credential;this.frame.sendEvent(v.default.wallkit.WALLKIT_EVENT_ONE_TAP_SIGN_IN,t)}},{key:"showResetPassword",value:function(e){(0,L.default)(e)||((0,f.default)(this,W,e),this.authForm.triggerButton&&this.authForm.triggerButton.hide(),this.firebase.hideAuthForm(),this.authForm.showForm(y.RESET_PASSWORD_FORM_SLUG),this.modal.show())}},{key:"init",value:function(){var e;null!==(e=(0,d.default)(this,M))&&void 0!==e&&e.firebase&&(!1!==(0,d.default)(this,M).firebase.genuineForm&&this.reCaptcha.enabled&&(this.isAuthenticated()||this.reCaptcha.init()),this.render(),this.firebase.init(),this.authForm&&(this.authForm.render(),this.reCaptcha.init())),x(this,H,Z).call(this),x(this,V,te).call(this),x(this,z,ne).call(this)}}]),e}();function Y(){var e,t,n,r,a=null!==(e=null===(t=(0,d.default)(this,M))||void 0===t||null===(n=t.auth)||void 0===n||null===(r=n.firebase)||void 0===r?void 0:r.elementSelector)&&void 0!==e?e:"#".concat(m.WALLKIT_AUTH_FORM_PLACEHOLDER_ID);return(0,E.normalizeSelector)(a)}function $(){switch((0,d.default)(this,D).charAt(0)){case"#":return"id";case".":return"class"}return"id"}function X(){var e=(0,d.default)(this,M).firebase.providers;if((0,L.default)(e))return!1;if(!Array.isArray(e))return!1;var t,n=T(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("string"==typeof r&&"email"===r.toLowerCase())return!0;if("string"!=typeof r&&!(0,L.default)(r.provider)&&"email"===r.provider.toLowerCase())return!0}}catch(e){n.e(e)}finally{n.f()}return!1}function J(){var e;return new h.default({modalName:"auth-modal",content:(null===(e=(0,d.default)(this,M))||void 0===e?void 0:e.content)||this.getDefaultAuthenticationFormContent(),className:"wallkit-auth-modal",initialLoader:!0})}function Z(){var e=this;this.events.subscribe(v.default.local.FRAME_MESSAGE,(function(t){var n=t.name,r=t.value;switch(n){case v.default.wallkit.WALLKIT_EVENT_TOKEN:r&&e.setToken(r);break;case v.default.wallkit.WALLKIT_EVENT_AUTH:case v.default.wallkit.WALLKIT_EVENT_REGISTRATION:case v.default.wallkit.WALLKIT_EVENT_GET_TOKEN:if(r){var a=r.token;e.setToken(a)}break;case v.default.wallkit.WALLKIT_FIREBASE_TOKEN:e.firebaseToken.set(r),e.sdk&&e.sdk.methods.setFirebaseToken(r);break;case v.default.wallkit.WALLKIT_EVENT_FIREBASE_CUSTOM_TOKEN:r&&e.firebase.authWithCustomToken(r);break;case v.default.wallkit.WALLKIT_LOGOUT:e.isAuthenticated()&&e.logout()}}))}function Q(e,t){if(this.authForm)this.authForm.handleError(e,t);else{var n=document.getElementById("authorization-error");n&&(n.innerHTML=null===e?"":e||"Something went wrong!")}}function ee(){x(this,B,Q).call(this,null)}function te(){var e=(0,A.parseResetPasswordOobCodeHash)();e&&(this.showResetPassword(e),(0,A.resetHash)())}function ne(){return re.apply(this,arguments)}function re(){return(re=(0,o.default)(i.default.mark((function e(){var t,n,r,a,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,A.parseAuthEmailLinkOobCodeHash)(),r=(n=t||{}).oobcode,a=n.email,(0,L.default)(r)||(0,L.default)(a)){e.next=8;break}return(0,A.resetHash)(),e.next=6,this.firebase.authEmailLink(r,a);case 6:o=e.sent,this.onSuccessAuth({operationType:"signIn",token:o.idToken});case 8:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}t.default=q},5613:(e,t,n)=>{"use strict";var r=n(5656);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(3298)),i=r(n(1795)),o=r(n(5194)),s=r(n(8478)),l=r(n(9889)),u=r(n(6073)),c=r(n(4753));function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){m(e,t),t.add(e)}function p(e,t,n){m(e,t),t.set(e,n)}function m(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function v(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var w=new WeakMap,g=new WeakMap,b=new WeakMap,_=new WeakMap,k=new WeakMap,y=new WeakMap,E=new WeakMap,A=new WeakMap,L=new WeakSet,S=new WeakSet,T=new WeakSet,O=new WeakSet,F=new WeakSet,R=new WeakSet,C=new WeakSet,I=new WeakSet,P=new WeakSet,x=function(){function e(t,n){var r,i,o,u,d,f,m,v;(0,a.default)(this,e),h(this,P),h(this,I),h(this,C),h(this,R),h(this,F),h(this,O),h(this,T),h(this,S),h(this,L),p(this,w,{writable:!0,value:void 0}),p(this,g,{writable:!0,value:void 0}),p(this,b,{writable:!0,value:void 0}),p(this,_,{writable:!0,value:void 0}),p(this,k,{writable:!0,value:void 0}),p(this,y,{writable:!0,value:void 0}),p(this,E,{writable:!0,value:void 0}),p(this,A,{writable:!0,value:void 0}),(0,s.default)(this,w,t),(0,s.default)(this,g,n),(0,s.default)(this,b,new l.default),(0,s.default)(this,_,new c.default),(0,s.default)(this,k,null!==(r=null==n||null===(i=n.call)||void 0===i?void 0:i.classForHandleClick)&&void 0!==r?r:"wk-call"),(0,s.default)(this,y,null!==(o=null==n||null===(u=n.call)||void 0===u?void 0:u.classThatReactOnTheUsersStatus)&&void 0!==o?o:"wk-call-status-user"),(0,s.default)(this,E,null!==(d=null==n||null===(f=n.call)||void 0===f?void 0:f.classThatReactOnTheUsersPlans)&&void 0!==d?d:"wk-call-status-plans"),(0,s.default)(this,A,null!==(m=null==n||null===(v=n.call)||void 0===v?void 0:v.classThatReactOnTheUsersEvents)&&void 0!==m?m:"wk-call-status-events")}return(0,i.default)(e,[{key:"getUserStatus",value:function(){return(0,o.default)(this,_).methods.isAuthenticated()?"authorized":"guest"}},{key:"setAllDataWkStatusesInDOMElements",value:function(e){this.setDataWkStatusUserInDOMElements(),this.setDataWkStatusPlansInDOMElements(e),this.setDataWkStatusEventsInDOMElements(e)}},{key:"setDataWkStatusUserInDOMElements",value:function(){v(this,L,M).call(this)&&console.log('Set user status: "'.concat(this.getUserStatus(),'" for elements:'));var e,t=d(document.querySelectorAll(".".concat((0,o.default)(this,y))));try{for(t.s();!(e=t.n()).done;){var n=e.value;v(this,L,M).call(this)&&console.log(n),n.dataset.wkCallStatusUser=this.getUserStatus()}}catch(e){t.e(e)}finally{t.f()}}},{key:"setDataWkStatusPlansInDOMElements",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).subscriptions,t="undefined";Array.isArray(e)&&e.length>0&&(t=e.map((function(e){return e.plan.slug})).join(" ")),v(this,L,M).call(this)&&console.log('Set plans status: "'.concat(t,'" for elements:'));var n,r=d(document.querySelectorAll(".".concat((0,o.default)(this,E))));try{for(r.s();!(n=r.n()).done;){var a=n.value;v(this,L,M).call(this)&&console.log(a),a.dataset.wkCallStatusPlans=t}}catch(e){r.e(e)}finally{r.f()}}},{key:"setDataWkStatusEventsInDOMElements",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).assigned_tickets,t="undefined";Array.isArray(e)&&e.length>0&&(t=e.map((function(e){return e.ti_event.slug})).join(" ")),v(this,L,M).call(this)&&console.log('Set events status: "'.concat(t,'" for elements:'));var n,r=d(document.querySelectorAll(".".concat((0,o.default)(this,A))));try{for(r.s();!(n=r.n()).done;){var a=n.value;v(this,L,M).call(this)&&console.log(a),a.dataset.wkCallStatusEvents=t}}catch(e){r.e(e)}finally{r.f()}}},{key:"getWallkitUserData",value:function(){var e=this;(0,o.default)(this,_).client.get({path:"/user"}).then((function(t){console.log(t),e.setAllDataWkStatusesInDOMElements(t)})).catch((function(t){console.log("WK Call ERROR:",t),e.setAllDataWkStatusesInDOMElements()}))}},{key:"removeAllDataWkStatuses",value:function(){v(this,L,M).call(this)&&(console.log("Remove all wallkit statuses from all DOM Elements."),console.log("Remove data-wk-call-user-has-access from body element.")),delete document.body.dataset.wkCallUserHasAccess;var e,t=d(document.querySelectorAll(".".concat((0,o.default)(this,y))));try{for(t.s();!(e=t.n()).done;){var n=e.value;v(this,L,M).call(this)&&console.log("Remove data-wk-call-status-user from element:",n),delete n.dataset.wkCallStatusUser}}catch(e){t.e(e)}finally{t.f()}var r,a=d(document.querySelectorAll(".".concat((0,o.default)(this,E))));try{for(a.s();!(r=a.n()).done;){var i=r.value;v(this,L,M).call(this)&&console.log("Remove data-wk-call-status-plans from element:",i),delete i.dataset.wkCallStatusPlans}}catch(e){a.e(e)}finally{a.f()}var s,l=d(document.querySelectorAll(".".concat((0,o.default)(this,A))));try{for(l.s();!(s=l.n()).done;){var u=s.value;v(this,L,M).call(this)&&console.log("Remove data-wk-call-status-events from element:",u),delete u.dataset.wkCallStatusEvents}}catch(e){l.e(e)}finally{l.f()}}},{key:"init",value:function(){var e;v(this,L,M).call(this)&&(console.log("Init Wallkit Call with config: ",null===(e=(0,o.default)(this,g))||void 0===e?void 0:e.call),v(this,F,U).call(this),v(this,R,j).call(this),v(this,C,K).call(this),v(this,I,H).call(this),v(this,P,B).call(this));v(this,S,W).call(this),v(this,T,N).call(this),(0,o.default)(this,_).methods.isAuthenticated()?this.getWallkitUserData():this.setAllDataWkStatusesInDOMElements()}}]),e}();function M(){var e,t;return!(null===(e=(0,o.default)(this,g))||void 0===e||null===(t=e.call)||void 0===t||!t.debug)}function W(){var e=this;(0,o.default)(this,b).subscribe(u.default.local.FRAME_MESSAGE,(function(t){var n=t.name;t._;if(n===u.default.wallkit.WALLKIT_EVENT_USER)e.getWallkitUserData()})),(0,o.default)(this,b).subscribe(u.default.local.SUCCESS_AUTH,(function(t){v(e,L,M).call(e)&&console.log("subscribe ventsNames.local.SUCCESS_AUTH",t),e.getWallkitUserData()})),(0,o.default)(this,b).subscribe(u.default.local.LOGOUT,(function(){e.setAllDataWkStatusesInDOMElements(),v(e,O,D).call(e,!1)})),(0,o.default)(this,b).subscribe(u.default.local.CHECK_USER_ACCESS,(function(t){v(e,L,M).call(e)&&console.log("subscribe ventsNames.local.CHECK_USER_ACCESS",t),v(e,O,D).call(e,t)}))}function N(){var e=this;document.body.addEventListener("click",(function(t){try{if(v(e,L,M).call(e)&&(console.log("Click on element: ",t.target),console.log("Does element have class ".concat((0,o.default)(e,k),": ").concat(t.target.classList.contains((0,o.default)(e,k))))),!t.target.classList.contains("".concat((0,o.default)(e,k))))return;var n=Array.from(t.target.classList).find((function(e){return e.startsWith("wk")}));if(v(e,L,M).call(e)&&(console.log("Popup's slug and params: ",n),console.log('Exit if slug and param === "undefined"')),void 0===n)return;var r=n.split(""),a=r[1],i=r[2];if(v(e,L,M).call(e)&&(console.log("Popup's slug: ",a),console.log("Popup's params: ",i)),void 0!==a&&void 0===i)return v(e,L,M).call(e)&&console.log("Open popup without params. Only with slug: ",a),(0,o.default)(e,w).open(a),void t.preventDefault();var s=i.split("-"),l=s[0],u=s[1];if(v(e,L,M).call(e)&&(console.log("Popup's param key: ",l),console.log("Popup's param value: ",u)),void 0!==l&&void 0!==u){"ticket"===l&&(l="ti_event_ticket");var c=JSON.stringify({item_type:l,item_key:u}),d="".concat(a,"?[").concat(c,"]");v(e,L,M).call(e)&&console.log("Open popup with params: ",d),(0,o.default)(e,w).open(d),t.preventDefault()}}catch(e){console.log("WK Call ERROR:",e)}}))}function D(e){v(this,L,M).call(this)&&console.log('Set user has access data "'.concat(e,'" in body element.')),document.body.dataset.wkCallUserHasAccess=e}function U(){console.log("User status: ",this.getUserStatus())}function j(){console.log("Elements, clicking on which opens popups:");var e,t=d(document.querySelectorAll(".".concat((0,o.default)(this,k))));try{for(t.s();!(e=t.n()).done;){var n=e.value;console.log(n)}}catch(e){t.e(e)}finally{t.f()}}function K(){console.log("Elements that react to the user's status:");var e,t=d(document.querySelectorAll(".".concat((0,o.default)(this,y))));try{for(t.s();!(e=t.n()).done;){var n=e.value;console.log(n)}}catch(e){t.e(e)}finally{t.f()}}function H(){console.log("Elements that react to the user's plans:");var e,t=d(document.querySelectorAll(".".concat((0,o.default)(this,E))));try{for(t.s();!(e=t.n()).done;){var n=e.value;console.log(n)}}catch(e){t.e(e)}finally{t.f()}}function B(){console.log("Elements that react to the user's events:");var e,t=d(document.querySelectorAll(".".concat((0,o.default)(this,A))));try{for(t.s();!(e=t.n()).done;){var n=e.value;console.log(n)}}catch(e){t.e(e)}finally{t.f()}}t.default=x},8390:(e,t,n)=>{"use strict";var r=n(5656);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(8047)),i=r(n(7240)),o=r(n(3298)),s=r(n(1795)),l=r(n(5194)),u=r(n(8478)),c=r(n(4753)),d=r(n(9889)),f=n(6073);function h(e,t){m(e,t),t.add(e)}function p(e,t,n){m(e,t),t.set(e,n)}function m(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function v(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var w=new WeakMap,g=new WeakMap,b=new WeakSet,_=new WeakSet,k=new WeakSet,y=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,o.default)(this,e),h(this,k),h(this,_),h(this,b),p(this,w,{writable:!0,value:void 0}),p(this,g,{writable:!0,value:void 0}),this.content=t,(0,u.default)(this,w,v(this,b,E).call(this,n)),this.sdk=new c.default,(0,u.default)(this,g,new d.default),this.accessCount=0,this.accessCountLimit=0}var t;return(0,s.default)(e,[{key:"formatTaxonomies",value:function(e){var t={},n=[],r=[],a=function(){var a;r.push(i),n.push(e[i].label);var o="term_keys[".concat(i,"]"),s="term_titles[".concat(i,"]");null!==(a=e[i])&&void 0!==a&&a.items&&(t[o]=[],t[s]=[],e[i].items.forEach((function(e){t[o].push(e.slug),t[s].push(e.name)}))),t[o]=t[o].join(","),t[s]=t[s].join(",")};for(var i in e)a();return t.taxonomy_titles=n.join(","),t.taxonomy_keys=r.join(","),t}},{key:"checkContentAccessAndSync",value:function(e){var t=this,n={type:e.type,title:e.title,link:e.link||window.location.href,image:e.image||null};return Object.assign(n,this.formatTaxonomies(e.taxonomies)),this.sdk.client.get({path:v(this,k,L).call(this,e.id,n)}).then((function(n){return t.sdk.methods.isAuthenticated()&&t.getAccessDetails(e.id),(0,l.default)(t,g).notify(f.CHECK_USER_ACCESS,n.allow),{allowed:n.allow,data:n}})).catch((function(e){return(0,l.default)(t,g).notify(f.CHECK_USER_ACCESS,!1),{allowed:!1,error:e}}))}},{key:"checkAccess",value:(t=(0,i.default)(a.default.mark((function e(){var t;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.sdk.methods.checkAccess(this.content.id);case 3:if(t=e.sent,!this.sdk.methods.isAuthenticated()&&!(0,l.default)(this,w).checkAccessDetails){e.next=7;break}return e.next=7,this.getAccessDetails(this.content.id);case 7:return(0,l.default)(this,g).notify(f.CHECK_USER_ACCESS,t.allow),e.abrupt("return",{allowed:t.allow,data:t});case 11:if(e.prev=11,e.t0=e.catch(0),"incorrect_content_key"!==e.t0.error){e.next=15;break}return e.abrupt("return",this.checkContentAccessAndSync(this.content));case 15:return(0,l.default)(this,g).notify(f.CHECK_USER_ACCESS,!1),e.abrupt("return",{allowed:!1,error:e.t0});case 17:case"end":return e.stop()}}),e,this,[[0,11]])}))),function(){return t.apply(this,arguments)})},{key:"getAccessDetails",value:function(e){var t=this;return this.sdk.client.get({path:"/user/content-access-details/".concat(e)}).then((function(e){if(e){var n=e.content_terms;return t.accessCount=n.usedLimitInPeriod,t.accessCountLimit=n.accessLimit,{accessCount:t.accessCount,accessCountLimit:t.accessCountLimit}}return{accessCount:0,accessCountLimit:0}})).catch((function(e){return e}))}}]),e}();function E(e){return void 0===e.checkAccessDetails&&(e.checkAccessDetails=!1),e}function A(e){var t=[];for(var n in e)void 0!==e[n]&&t.push("".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(e[n])));return t.join("&")}function L(e,t){var n=v(this,_,A).call(this,t);return"/user/content-sync-and-check/".concat(e,"?").concat(n)}t.default=y},6073:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.WALLKIT_SDK_LOADED=t.WALLKIT_LOGOUT=t.WALLKIT_FRAME_ROUTE_CHANGE=t.WALLKIT_FRAME_READY=t.WALLKIT_FIREBASE_TOKEN=t.WALLKIT_EVENT_USER=t.WALLKIT_EVENT_TOKEN=t.WALLKIT_EVENT_REGISTRATION=t.WALLKIT_EVENT_ONE_TAP_SIGN_IN=t.WALLKIT_EVENT_GET_TOKEN=t.WALLKIT_EVENT_FIREBASE_TOKEN=t.WALLKIT_EVENT_FIREBASE_CUSTOM_TOKEN=t.WALLKIT_EVENT_EXTERNAL_PROVIDER_TOKEN=t.WALLKIT_EVENT_CHANGE_LANGUAGE=t.WALLKIT_EVENT_AUTH=t.WALLKIT_CHANGE_FRAME=t.TICKETS_TOKEN_AUTH_SUCCESS=t.SUCCESS_FIREBASE_AUTH=t.SUCCESS_AUTH=t.RECAPTCHA_VALIDATION_SUCCESS=t.RECAPTCHA_VALIDATION_FAILED=t.RECAPTCHA_LOADED=t.PRE_SIGN_IN=t.MODAL_CREATED=t.MODAL_CLOSED=t.LOGOUT=t.FRAME_MOUNTED=t.FRAME_MODAL_CLOSED=t.FRAME_MESSAGE=t.FRAME_CREATED=t.FIREBASE_UI_SHOWN=t.FIREBASE_LOADED=t.FIREBASE_INIT=t.EXTERNAL_PROVIDER_TOKEN_AUTH_SUCCESS=t.DEFAULT_AUTH_FORM_SLUG_UPDATED=t.CHECK_USER_ACCESS=t.AUTH_MODAL_CLOSED=void 0;var n="frame-created";t.FRAME_CREATED=n;var r="frame-mounted";t.FRAME_MOUNTED=r;var a="modal-created";t.MODAL_CREATED=a;var i="success-auth";t.SUCCESS_AUTH=i;var o="pre-sign-in";t.PRE_SIGN_IN=o;var s="success-firebase-auth";t.SUCCESS_FIREBASE_AUTH=s;t.WALLKIT_SDK_LOADED="wallkit-js-sdk-loaded";var l="frame-message";t.FRAME_MESSAGE=l;var u="auth-modal-closed";t.AUTH_MODAL_CLOSED=u;var c="frame-modal-closed";t.FRAME_MODAL_CLOSED=c;var d="modal-closed";t.MODAL_CLOSED=d;var f="recaptcha-loaded";t.RECAPTCHA_LOADED=f;var h="recaptcha-validation-failed";t.RECAPTCHA_VALIDATION_FAILED=h;var p="recaptcha-validation-success";t.RECAPTCHA_VALIDATION_SUCCESS=p;var m="tickets-token-auth-success";t.TICKETS_TOKEN_AUTH_SUCCESS=m;t.FIREBASE_LOADED="firebase-loaded";t.FIREBASE_INIT="firebase-init";t.FIREBASE_UI_SHOWN="firebase-ui-shown";var v="check-user-access";t.CHECK_USER_ACCESS=v;var w="external-provider-token-auth-success";t.EXTERNAL_PROVIDER_TOKEN_AUTH_SUCCESS=w;var g="logout";t.LOGOUT=g;var b="default-auth-form-slug-updated";t.DEFAULT_AUTH_FORM_SLUG_UPDATED=b;t.WALLKIT_CHANGE_FRAME="wk-event-modal";var _="wk-event-logout";t.WALLKIT_LOGOUT=_;var k="wk-firebase-token";t.WALLKIT_FIREBASE_TOKEN=k;var y="wk-event-firebase-token";t.WALLKIT_EVENT_FIREBASE_TOKEN=y;var E="wk-event-token";t.WALLKIT_EVENT_TOKEN=E;var A="wk-event-modals-ready";t.WALLKIT_FRAME_READY=A;var L="wk-event-get-token";t.WALLKIT_EVENT_GET_TOKEN=L;var S="wk-event-auth";t.WALLKIT_EVENT_AUTH=S;var T="wk-event-user";t.WALLKIT_EVENT_USER=T;var O="wk-event-registration";t.WALLKIT_EVENT_REGISTRATION=O;var F="wk-event-one-tap-sign-in";t.WALLKIT_EVENT_ONE_TAP_SIGN_IN=F;var R="wk-event-route-change";t.WALLKIT_FRAME_ROUTE_CHANGE=R;var C="wk-event-firebase-custom-token";t.WALLKIT_EVENT_FIREBASE_CUSTOM_TOKEN=C;var I="wk-event-change-language";t.WALLKIT_EVENT_CHANGE_LANGUAGE=I;var P="wk-event-external-provider-token";t.WALLKIT_EVENT_EXTERNAL_PROVIDER_TOKEN=P;var x={local:{FRAME_CREATED:n,FRAME_MOUNTED:r,MODAL_CREATED:a,SUCCESS_AUTH:i,SUCCESS_FIREBASE_AUTH:s,FRAME_MESSAGE:l,AUTH_MODAL_CLOSED:u,FRAME_MODAL_CLOSED:c,MODAL_CLOSED:d,RECAPTCHA_LOADED:f,RECAPTCHA_VALIDATION_FAILED:h,RECAPTCHA_VALIDATION_SUCCESS:p,TICKETS_TOKEN_AUTH_SUCCESS:m,CHECK_USER_ACCESS:v,PRE_SIGN_IN:o,EXTERNAL_PROVIDER_TOKEN_AUTH_SUCCESS:w,DEFAULT_AUTH_FORM_SLUG_UPDATED:b,LOGOUT:g},wallkit:{FRAME_CREATED:n,WALLKIT_LOGOUT:_,WALLKIT_FIREBASE_TOKEN:k,WALLKIT_EVENT_FIREBASE_TOKEN:y,WALLKIT_EVENT_TOKEN:E,WALLKIT_FRAME_READY:A,WALLKIT_EVENT_GET_TOKEN:L,WALLKIT_EVENT_AUTH:S,WALLKIT_EVENT_USER:T,WALLKIT_EVENT_REGISTRATION:O,WALLKIT_EVENT_ONE_TAP_SIGN_IN:F,WALLKIT_FRAME_ROUTE_CHANGE:R,WALLKIT_EVENT_FIREBASE_CUSTOM_TOKEN:C,WALLKIT_EVENT_CHANGE_LANGUAGE:I,WALLKIT_EVENT_EXTERNAL_PROVIDER_TOKEN:P}};t.default=x},9889:(e,t,n)=>{"use strict";var r=n(5656);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(8047)),i=r(n(7240)),o=r(n(3298)),s=r(n(1795)),l=function(){function e(){return(0,o.default)(this,e),e.instance?e.instance:(e.instance=this,this.listeners=[],this)}var t;return(0,s.default)(e,[{key:"subscribe",value:function(e,t,n){this.listeners.push({name:e,callback:t,options:n})}},{key:"unsubscribe",value:function(e,t){this.listeners=this.listeners.filter((function(n){return n.name!==e||n.callback!==t}))}},{key:"notify",value:function(e,t){var n=[];this.listeners.forEach((function(r,a){var i;e===r.name&&(r.callback(t),null!=r&&null!==(i=r.options)&&void 0!==i&&i.once&&n.push(a))})),this.listeners=this.listeners.filter((function(e,t){return!n.includes(t)}))}},{key:"getEventByName",value:function(e){var t;return null===(t=this.listeners)||void 0===t?void 0:t.find((function(t){return t.name===e}))}},{key:"preventiveEvent",value:(t=(0,i.default)(a.default.mark((function e(t,n){var r,i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=this.getEventByName(t))){e.next=12;break}return e.prev=2,e.next=5,r.callback(n);case 5:return i=e.sent,e.abrupt("return",!!i);case 9:e.prev=9,e.t0=e.catch(2),console.log("ERROR:",e.t0);case 12:return e.abrupt("return",!0);case 13:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(e,n){return t.apply(this,arguments)})}]),e}();t.default=l},447:(e,t,n)=>{"use strict";var r=n(5656);Object.defineProperty(t,"__esModule",{value:!0}),t.TriggerButton=void 0;var a=r(n(3298)),i=r(n(1795)),o=r(n(5194)),s=r(n(8478)),l=n(2909),u=r(n(9889)),c=n(6073),d=n(8031),f=n(9066),h=r(n(5828)),p=r(n(4174));function m(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){b(e,t),t.add(e)}function g(e,t,n){b(e,t),t.set(e,n)}function b(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var k=new WeakMap,y=new WeakMap,E=new WeakMap,A=new WeakMap,L=new WeakMap,S=new WeakSet,T=new WeakSet,O=function(){function e(t,n){(0,a.default)(this,e),w(this,T),w(this,S),g(this,k,{writable:!0,value:{email:"Sign in with email",emaillink:"Sign by email link"}}),g(this,y,{writable:!0,value:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg"}),g(this,E,{writable:!0,value:{email:f.TRIGGER_EMAIL_BUTTON_CLASS_NAME,emaillink:f.TRIGGER_EMAILLINK_BUTTON_CLASS_NAME}}),g(this,A,{writable:!0,value:{email:f.TRIGGER_EMAIL_BUTTON_TITLE_SELECTOR,emaillink:f.TRIGGER_EMAILLINK_BUTTON_TITLE_SELECTOR,google:f.TRIGGER_GOOGLE_BUTTON_TITLE_SELECTOR}}),g(this,L,{writable:!0,value:void 0}),(0,s.default)(this,L,this.checkOptions(n)),this.events=new u.default,this.selector=t,this.elements={};var r=(0,o.default)(this,L)||{},i=r.email,l=r.emaillink;(0,h.default)(i)||(this.elements.email=this.createElement("email"),n.emailOnClick&&this.elements.email.addEventListener("click",n.emailOnClick.bind(this))),(0,h.default)(l)||(this.elements.emaillink=this.createElement("emaillink"),n.emaillinkOnClick&&this.elements.emaillink.addEventListener("click",n.emaillinkOnClick.bind(this))),this.subscribeEventForChanges()}return(0,i.default)(e,[{key:"checkOptions",value:function(e){if(!Array.isArray(e.authProviders))return e;var t,n=m(e.authProviders);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("string"==typeof r||!(0,h.default)(r.provider)){var a="string"==typeof r?r:r.provider.toLowerCase();e[a]={fullLabel:"",signInLabel:"",signUpLabel:"",label:"",backgroundColor:"",textColor:"",textColorStyle:"",iconUrl:"",styles:{}};var i=r.fullLabel,s=r.signInLabel,l=r.signUpLabel,u=r.buttonColor,c=r.buttonTextColor,f=r.iconUrl;"email"===a&&(e[a].fullLabel=(0,o.default)(this,k)[a],e[a].label=(0,o.default)(this,k)[a],e[a].iconUrl=(0,o.default)(this,y)),(0,h.default)(i)||(e[a].fullLabel=i,e[a].label=i),(0,h.default)(s)||(e[a].signInLabel=s,e.defaultFormSlug===d.SIGN_IN_FORM_SLUG&&(e[a].label=s)),(0,h.default)(l)||(e[a].signUpLabel=l,e.defaultFormSlug===d.SIGN_UP_FORM_SLUG&&(e[a].label=l)),(0,h.default)(u)||(e[a].backgroundColor=u,e[a].styles.backgroundColor=u),(0,h.default)(c)||(e[a].textColor=c,e[a].textColorStyle=' style="color:'.concat(c,'"')),(0,h.default)(f)||(e[a].iconUrl=f)}}}catch(e){n.e(e)}finally{n.f()}return e}},{key:"subscribeEventForChanges",value:function(){var e=this;this.events.subscribe(c.FIREBASE_UI_SHOWN,(function(){_(e,T,R).call(e,(0,o.default)(e,L).defaultFormSlug,!1),_(e,S,F).call(e)}),{once:!0}),this.events.subscribe(c.DEFAULT_AUTH_FORM_SLUG_UPDATED,(function(t){var n=(0,p.default)(t,"new",!1),r=(0,p.default)(t,"old",!1);n&&n!==r&&_(e,T,R).call(e,n,r)}))}},{key:"createElement",value:function(e){var t,n=e||"email",r=null!==(t=(0,o.default)(this,E)[n])&&void 0!==t?t:f.TRIGGER_BUTTON_CLASS_NAME,a="wk-auth-form-button-".concat(n,"-title"),i=(0,o.default)(this,L)[n],s=i.iconUrl,u=i.textColorStyle,c=i.label,d=i.styles;return(0,l.createElement)("div",{className:r,innerHTML:'\n                <span class="firebaseui-idp-icon-wrapper">\n                    <img class="firebaseui-idp-icon" alt="" src="'.concat(s,'">\n                </span>\n                <span class="').concat(a,' firebaseui-idp-text firebaseui-idp-text-long"').concat(u,">").concat(c,"</span>"),styles:d})}},{key:"hide",value:function(){var e=this;!(0,h.default)(this.elements)&&Object.keys(this.elements).length&&Object.keys(this.elements).forEach((function(t){e.elements[t].style.display="none"}))}},{key:"show",value:function(){var e=this;!(0,h.default)(this.elements)&&Object.keys(this.elements).length&&Object.keys(this.elements).forEach((function(t){e.elements[t].style.display="block"}))}},{key:"render",value:function(){var e=this,t=document.querySelector(this.selector);t&&!(0,h.default)(this.elements)&&Object.keys(this.elements).length&&Object.keys(this.elements).forEach((function(n){t.appendChild(e.elements[n])}))}},{key:"isVisible",get:function(){var e=this,t=!1;return!(0,h.default)(this.elements)&&(Object.keys(this.elements).length&&Object.keys(this.elements).forEach((function(n){if(window.getComputedStyle(e.elements[n]))return t="block"===window.getComputedStyle(e.elements[n]).getPropertyValue("display")})),t)}}]),e}();function F(){var e=this;if(Array.isArray((0,o.default)(this,L).authProviders)){var t,n=m((0,o.default)(this,L).authProviders);try{var r=function(){var n=t.value;if((0,h.default)(n.provider))return"continue";var r=n.provider.toLowerCase();if("email"!==r){var a=(0,p.default)((0,o.default)(e,L)[r],"textColor",!1);if(!a)return"continue";var i=document.querySelectorAll((0,o.default)(e,A)[r]);i&&i.forEach((function(e){e.style.color=a}))}};for(n.s();!(t=n.n()).done;)r()}catch(e){n.e(e)}finally{n.f()}}}function R(e,t){var n=this;if(Array.isArray((0,o.default)(this,L).authProviders)&&e&&e!==t&&[d.SIGN_UP_FORM_SLUG,d.SIGN_IN_FORM_SLUG].includes(e)){var r,a=m((0,o.default)(this,L).authProviders);try{var i=function(){var t=r.value;if((0,h.default)(t.provider))return"continue";var a=t.provider.toLowerCase(),i=(0,o.default)(n,L)[a],s=i.signInLabel,l=i.signUpLabel,u=i.fullLabel;if(!((0,h.default)((0,o.default)(n,L)[a])||(0,h.default)(s)&&(0,h.default)(l))){var c=document.querySelectorAll((0,o.default)(n,A)[a]),f=e===d.SIGN_UP_FORM_SLUG?l||u:s||u;c&&f&&c.forEach((function(e){e.innerHTML=f}))}};for(a.s();!(r=a.n()).done;)i()}catch(e){a.e(e)}finally{a.f()}}}t.TriggerButton=O},4195:(e,t,n)=>{"use strict";var r=n(5656);Object.defineProperty(t,"__esModule",{value:!0}),t.CheckBoxField=void 0;var a=r(n(3298)),i=r(n(1795)),o=r(n(1185)),s=r(n(7964)),l=r(n(8442)),u=r(n(7474)),c=n(4751),d=n(2909);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var a=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,l.default)(this,n)}}var h=function(e){(0,s.default)(n,e);var t=f(n);function n(e){var r;return(0,a.default)(this,n),(r=t.call(this,e)).type="checkbox",r.input.addEventListener("change",r.validate.bind((0,o.default)(r))),r}return(0,i.default)(n,[{key:"createCheckMark",value:function(){return(0,d.createElement)("span",{className:"wk-form-field__checkmark"})}},{key:"createWrapper",value:function(){return(0,d.createElement)("div",{className:"wk-form-field wk-form-field--checkbox"})}},{key:"getValue",value:function(){return this.input.checked}},{key:"render",value:function(e){this.inputWrapper=this.createInputWrapper();var t=this.createLabel(e.label,e.name);t.appendChild(this.input),t.appendChild(this.createCheckMark()),this.inputWrapper.appendChild(t),this.wrapper.appendChild(this.inputWrapper)}}]),n}(c.FormField);t.CheckBoxField=h},4386:(e,t,n)=>{"use strict";var r=n(5656);Object.defineProperty(t,"__esModule",{value:!0}),t.PasswordField=void 0;var a=r(n(3298)),i=r(n(1795)),o=r(n(1185)),s=r(n(4560)),l=r(n(7964)),u=r(n(8442)),c=r(n(7474)),d=r(n(5194)),f=r(n(8478)),h=n(4751);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var a=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}function m(e,t){w(e,t),t.add(e)}function v(e,t,n){w(e,t),t.set(e,n)}function w(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function g(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var b=new WeakMap,_=new WeakMap,k=new WeakMap,y=new WeakMap,E=new WeakMap,A=new WeakMap,L=new WeakMap,S=new WeakMap,T=new WeakMap,O=new WeakSet,F=new WeakSet,R=function(e){(0,l.default)(n,e);var t=p(n);function n(e){var r,i;(0,a.default)(this,n),i=t.call(this,e),m((0,o.default)(i),F),m((0,o.default)(i),O),v((0,o.default)(i),b,{writable:!0,value:void 0}),v((0,o.default)(i),_,{writable:!0,value:'<div>\n            <span>Password should match requirements:</span>\n            <ul class="wk-field-list">\n                <li>at least 1 uppercase character (A-Z)</li>\n                <li>at least 1 lowercase character (a-z)</li>\n                <li>at least 1 digit (0-9)</li>\n                <li>at least 1 special character (punctuation)</li>\n                <li>at least 8 characters length</li>\n            </ul>\n        </div>'}),v((0,o.default)(i),k,{writable:!0,value:"At least 8 characters length"}),v((0,o.default)(i),y,{writable:!0,value:"At least 1 uppercase character (A-Z)"}),v((0,o.default)(i),E,{writable:!0,value:"At least 1 lowercase character (a-z)"}),v((0,o.default)(i),A,{writable:!0,value:"At least 1 digit (0-9)"}),v((0,o.default)(i),L,{writable:!0,value:"At least 1 special character (punctuation)"}),v((0,o.default)(i),S,{writable:!0,value:"Password should be: "}),v((0,o.default)(i),T,{writable:!0,value:""}),(0,f.default)((0,o.default)(i),b,e);var s=(e.messages||{}).passwordHintDescription;return i.insertAffix('<div id="show-password-toggle" class="wk-eye-toggle"></div>',i.togglePasswordVisibility.bind((0,o.default)(i))),e.passwordHint&&i.insertDescription(s||(0,d.default)((0,o.default)(i),_)),i.ignoreValidation=null!==(r=e.ignoreValidation)&&void 0!==r&&r,i}return(0,i.default)(n,[{key:"togglePasswordVisibility",value:function(){var e=this.wrapper.querySelector("#show-password-toggle"),t="wk-eye-toggled";e&&(e.classList.contains(t)?(e.classList.remove(t),this.switchPasswordInputType("password")):(e.classList.add(t),this.switchPasswordInputType("text")))}},{key:"switchPasswordInputType",value:function(e){this.input&&(this.input.type=e||"password")}},{key:"validate",value:function(){var e=this.getValue(),t=g(this,F,I).call(this,e),r=(0,d.default)(this,b).messages||{},a=r.passwordPrefix,i=r.passwordPostfix;return t.valid?(0,s.default)((0,c.default)(n.prototype),"validate",this).call(this):(this.setError("<div>\n                <span>".concat(a||(0,d.default)(this,S)).concat(t.message).concat(i||(0,d.default)(this,T),"</span>\n            </div>")),!1)}}]),n}(h.FormField);function C(e,t,n){return new RegExp(t).test(e)?{valid:!0}:{message:n,valid:!1}}function I(e){if(this.ignoreValidation)return{valid:!0};for(var t=(0,d.default)(this,b).messages||{},n=t.passwordRuleLength,r=t.passwordRuleUppercase,a=t.passwordRuleLowercase,i=t.passwordRuleDigit,o=t.passwordRuleSpecial,s=0,l=[{regex:"^(?=.{8,})",message:n||(0,d.default)(this,k)},{regex:"^(?=.*[A-Z])",message:r||(0,d.default)(this,y)},{regex:"^(?=.*[a-z])",message:a||(0,d.default)(this,E)},{regex:"^(?=.*[0-9])",message:i||(0,d.default)(this,A)},{regex:"^(?=.*[`~!@#$%^&*()+={}/|:;'<>,.?_-])",message:o||(0,d.default)(this,L)}];s<l.length;s++){var u=l[s],c=g(this,O,C).call(this,e,u.regex,u.message);if(!c.valid)return c}return{valid:!0}}t.PasswordField=R},4751:(e,t,n)=>{"use strict";var r=n(5656);Object.defineProperty(t,"__esModule",{value:!0}),t.FormField=void 0;var a=r(n(3298)),i=r(n(1795)),o=r(n(5194)),s=r(n(8478)),l=n(2909),u=r(n(5828));function c(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}var d=new WeakMap,f=new WeakMap,h=new WeakMap,p=new WeakMap,m=function(){function e(t){var n;if((0,a.default)(this,e),c(this,d,{writable:!0,value:"This field is required."}),c(this,f,{writable:!0,value:"Enter your email address to continue."}),c(this,h,{writable:!0,value:"This email address isn't correct."}),c(this,p,{writable:!0,value:"Enter your password to continue."}),(0,u.default)(t))throw new Error("No Options Provided");var r=(t||{}).messages;if(this.wrapper=this.createWrapper(t),this.input=this.createInput(t),this.type=t.type||"text",this.message=null,this.isValid=!1,this.required=t.required||!1,this.slug=t.dataSlug,this.render(t),t.affix&&this.insertAffix(t.affix.content,t.affix.onClick),t.description&&this.insertDescription(t.description),t.onChange&&this.input.addEventListener("change",t.onChange.bind(this)),t.onInput&&this.input.addEventListener("input",t.onInput.bind(this)),!(0,u.default)(r)){var i=r||{},l=i.required,m=i.emptyEmail,v=i.incorrectEmail,w=i.emptyPassword;(0,s.default)(this,d,l||(0,o.default)(this,d)),(0,s.default)(this,f,m||(0,o.default)(this,f)),(0,s.default)(this,h,v||(0,o.default)(this,h)),(0,s.default)(this,p,w||(0,o.default)(this,p))}this.ignoreValidation=null!==(n=t.ignoreValidation)&&void 0!==n&&n,this.input.addEventListener("blur",this.validate.bind(this)),t.onEnter&&this.input.addEventListener("keydown",(function(e){13===e.keyCode&&t.onEnter()})),t.onValidate&&"function"==typeof t.onValidate&&(this.onValidate=t.onValidate),t.relatedData&&(this.relatedData=t.relatedData)}return(0,i.default)(e,[{key:"getElement",value:function(){return this.wrapper}},{key:"getValue",value:function(){return this.input.value}},{key:"validate",value:function(){if(this.ignoreValidation)return!0;var e=this.getValue();if(this.required&&!e)return this.setError((0,o.default)(this,d)),!1;if("email"===this.type){if(!e)return this.setError((0,o.default)(this,f)),!1;if(!e.length>4||!e.includes("@")||!e.includes("."))return this.setError((0,o.default)(this,h)),!1}else if("password"===this.type&&!e)return this.setError((0,o.default)(this,p)),!1;return!(this.onValidate&&!this.onValidate(this))&&(this.resetValidation(),this.setFieldValidationState(!0),!0)}},{key:"createWrapper",value:function(){return(0,l.createElement)("div",{className:"wk-form-field"})}},{key:"createInputWrapper",value:function(){return(0,l.createElement)("div",{className:"wk-form-field__input-wrapper"})}},{key:"insertAffix",value:function(e,t){var n=(0,l.createElement)("div",{className:"wk-form-field__field-affix",innerHTML:e});n.addEventListener("click",t),this.inputWrapper.appendChild(n)}},{key:"insertDescription",value:function(e){var t=(0,l.createElement)("div",{className:"wk-form-field__field-description",innerHTML:e});this.wrapper.appendChild(t)}},{key:"createInput",value:function(e){return(0,l.createElement)("input",{className:"wk-form-field__input",id:e.id||e.name,attributes:{name:e.name,type:e.type||"text",placeholder:e.placeholder||""}})}},{key:"createLabel",value:function(e,t){return(0,l.createElement)("label",{className:"wk-form-field__label",attributes:{for:t},innerHTML:e})}},{key:"createMessage",value:function(e,t){var n=(0,l.createElement)("span",{className:"wk-form-field__message"});return n.innerHTML=e,n}},{key:"setError",value:function(e){this.message?this.message&&(this.message.innerHTML=e):(this.setFieldValidationState(!1),this.message=this.createMessage(e,!1),(0,l.insertAfter)(this.message,this.inputWrapper))}},{key:"removeMessage",value:function(){this.message&&(this.message.remove(),this.message=null)}},{key:"setFieldValidationState",value:function(e){this.isValid=e,e?(this.wrapper.classList.add("wk-form-field--valid"),this.wrapper.classList.remove("wk-form-field--invalid")):(this.wrapper.classList.add("wk-form-field--invalid"),this.wrapper.classList.remove("wk-form-field--valid"))}},{key:"resetValidation",value:function(){this.removeMessage(),this.wrapper.classList.remove("wk-form-field--valid","wk-form-field--invalid")}},{key:"resetField",value:function(){this.input.value="",this.resetValidation()}},{key:"focus",value:function(){this.input.focus()}},{key:"render",value:function(e){this.inputWrapper=this.createInputWrapper(),this.wrapper.appendChild(this.createLabel(e.label,e.name)),this.inputWrapper.appendChild(this.input),this.wrapper.appendChild(this.inputWrapper)}}]),e}();t.FormField=m},8031:(e,t,n)=>{"use strict";var r=n(5656);Object.defineProperty(t,"__esModule",{value:!0}),t.SIGN_UP_FORM_SLUG=t.SIGN_IN_FORM_SLUG=t.RESET_PASSWORD_FORM_SLUG=t.FORGOT_PASSWORD_FORM_SLUG=t.EMAIL_LINK_FORM_SLUG=t.AuthForm=void 0;var a=r(n(366)),i=r(n(3298)),o=r(n(1795)),s=r(n(5194)),l=r(n(8478)),u=(n(2909),n(447)),c=n(4138),d=n(8955),f=n(7486),h=n(2217),p=n(2511),m=n(6073),v=r(n(5828));function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}var _="sign-up";t.SIGN_UP_FORM_SLUG=_;var k="sign-in";t.SIGN_IN_FORM_SLUG=k;var y="forgot-password";t.FORGOT_PASSWORD_FORM_SLUG=y;var E="reset-password";t.RESET_PASSWORD_FORM_SLUG=E;var A="email-link";t.EMAIL_LINK_FORM_SLUG=A;var L=new WeakMap,S=function(){function e(t,n){var r,o,s,m=this;(0,i.default)(this,e),b(this,L,{writable:!0,value:void 0}),(0,l.default)(this,L,n),this.defaultForm=(null==n?void 0:n.defaultForm)||!1;var w=n.customizeAuthForms||{},S=w.messages,T=w.signIn,O=w.signUp,F=w.emailLink,R=w.forgotPassword,C=w.resetPassword,I={};(0,v.default)(T)||(0,v.default)(T.messages)||(I=T.messages),this.loginForm=new c.LoginForm(t,g(g({cancelBtn:!1!==n.triggerButton,signUp:null===(r=n.signUp)||void 0===r||r,passwordSignInIgnoreValidation:n.passwordSignInIgnoreValidation||!1},T||{}),{},{messages:g(g({},S||{}),I),onSubmit:function(e){n.onLogin&&n.onLogin(e)},onCancel:function(){n.onCancel&&(n.onCancel(),m.loginForm.resetForm())}})),this.loginForm.formWrapper.addEventListener("click",(function(e){"auth-signup-link"===e.target.id?(e.preventDefault(),m.showForm(_)):"auth-password-link"===e.target.id&&(e.preventDefault(),m.showForm(y))})),this.loginForm.hide();var P={};(0,v.default)(O)||(0,v.default)(O.messages)||(P=O.messages),!0===n.signUp&&(this.signUpForm=new d.SignupForm(t,g(g({cancelBtn:!1!==n.triggerButton,termsOfService:n.termsOfService},O||{}),{},{messages:g(g({},S||{}),P),onSubmit:function(e){n.onSignUp&&n.onSignUp(e)},onCancel:function(){n.onCancel&&(n.onCancel(),m.signUpForm.resetForm())}})),this.signUpForm.formWrapper.addEventListener("click",(function(e){"auth-signin-link"===e.target.id&&(e.preventDefault(),m.showForm(k))})),this.signUpForm.hide());var x={};(0,v.default)(F)||(0,v.default)(F.messages)||(x=F.messages),this.emailLinkForm=new p.EmailLinkForm(t,g(g({cancelBtn:!1!==n.triggerButton,signUp:null===(o=n.signUp)||void 0===o||o},F||{}),{},{messages:g(g({},S||{}),x),onSubmit:function(e){n.onGetEmailLink&&n.onGetEmailLink(e)},onCancel:function(){n.onCancel&&(n.onCancel(),m.emailLinkForm.resetForm())}})),this.emailLinkForm.formWrapper.addEventListener("click",(function(e){"auth-signup-link"===e.target.id?(e.preventDefault(),m.showForm(_)):"auth-password-link"===e.target.id&&(e.preventDefault(),m.showForm(y))})),this.emailLinkForm.formWrapper.addEventListener("click",(function(e){"back-to-login"===e.target.id&&(e.preventDefault(),n.onCancel&&(n.onCancel(),m.loginForm.resetForm()))})),this.emailLinkForm.hide();var M={};(0,v.default)(R)||(0,v.default)(R.messages)||(M=R.messages),this.forgotPasswordForm=new f.ForgotPasswordForm(t,g(g({},R||{}),{},{messages:g(g({},S||{}),M),onSubmit:function(e){n.onPasswordForgot&&n.onPasswordForgot(e)}})),this.forgotPasswordForm.formWrapper.addEventListener("click",(function(e){"back-to-login"===e.target.id&&(e.preventDefault(),m.showForm(k),m.forgotPasswordForm.reRender())})),this.forgotPasswordForm.hide();var W={};(0,v.default)(C)||(0,v.default)(C.messages)||(W=C.messages),this.resetPasswordForm=new h.ResetPasswordForm(t,g(g({},C||{}),{},{messages:g(g({},S||{}),W),onSubmit:function(e){n.onPasswordReset&&n.onPasswordReset(e)}})),this.resetPasswordForm.formWrapper.addEventListener("click",(function(e){"back-to-login"===e.target.id&&(e.preventDefault(),m.showForm(k),m.resetPasswordForm.reRender())})),this.resetPasswordForm.hide(),!1!==n.triggerButton&&(this.triggerButton=new u.TriggerButton(t,{authProviders:n.authProviders,defaultFormSlug:this.defaultFormSlug,emailOnClick:function(){var e=n.defaultForm||k;n.getShowAuthFormSlug&&(e=n.getShowAuthFormSlug()||e);m.defaultForm=e,m.defaultForm.show(),m.triggerButton.hide(),n.onAuthFormShow&&n.onAuthFormShow()},emaillinkOnClick:function(){m.defaultForm=A,m.defaultForm.show(),m.triggerButton.hide(),n.onAuthFormShow&&n.onAuthFormShow()}})),this.forms=(s={},(0,a.default)(s,y,this.forgotPasswordForm),(0,a.default)(s,E,this.resetPasswordForm),(0,a.default)(s,k,this.loginForm),(0,a.default)(s,_,this.signUpForm),(0,a.default)(s,A,this.emailLinkForm),s)}return(0,o.default)(e,[{key:"defaultForm",get:function(){return this.forms[this.defaultFormSlug]},set:function(e){var t=this.defaultFormSlug;e&&[_,k,y,E,A].includes(e)?this.defaultFormSlug=e:this.defaultFormSlug=(0,s.default)(this,L).defaultForm||_,!1!==(0,s.default)(this,L).triggerButton&&this.triggerButton&&this.triggerButton.events.notify(m.DEFAULT_AUTH_FORM_SLUG_UPDATED,{new:this.defaultFormSlug,old:t})}},{key:"activeForm",get:function(){var e=this,t=!1;return this.forms&&Object.keys(this.forms).length&&Object.keys(this.forms).forEach((function(n){e.forms[n].isVisible&&(t=e.forms[n])})),t}},{key:"showForm",value:function(e){e&&this.forms[e]&&(this.hide(),this.forms[e].show())}},{key:"showDefaultForm",value:function(){this.showForm(this.defaultFormSlug)}},{key:"reset",value:function(){this.hide(),this.triggerButton?this.triggerButton.show():this.showDefaultForm()}},{key:"hide",value:function(){if(this.forms)for(var e in this.forms){var t=this.forms[e];t&&(t.hide(),t.resetForm())}}},{key:"handleError",value:function(e,t){this.activeForm&&(null===e?this.activeForm.resetFormError(e):this.activeForm.setFormError(e,t))}},{key:"showSuccessEmailLink",value:function(){var e=this.emailLinkForm.emailField.getValue(),t=((0,s.default)(this,L).customizeAuthForms||{}).successEmailLink||{},n=t.descriptionPrefix,r=t.descriptionPostfix,a=t.backLinkTitle;this.emailLinkForm.showFormResult('\n            <div class="wk-success-message wk-email-link-success wk-email-link-message">\n                <p class="wk-success-message__description">'.concat(n||"Please follow the instructions sent to ","<b>").concat(e,"</b>").concat(r||" to sign in.",'</p>\n                <button id="back-to-login" class="wk-form-button wk-form-button--cancel">').concat(a||"Back to login","</button>\n            </div>\n        "))}},{key:"showSuccessPasswordForgot",value:function(){var e=this.forgotPasswordForm.emailField.getValue(),t=((0,s.default)(this,L).customizeAuthForms||{}).successPasswordForgot||{},n=t.descriptionPrefix,r=t.descriptionPostfix,a=t.backLinkTitle;this.forgotPasswordForm.showFormResult('\n            <div class="wk-success-message wk-password-reset-success wk-password-forgot-message">\n                <p class="wk-success-message__description">'.concat(n||"Please follow the instructions sent to ","<b>").concat(e,"</b>").concat(r||" to set a new password.",'</p>\n                <button id="back-to-login" class="wk-form-button wk-form-button--cancel">').concat(a||"Back to login","</button>\n            </div>\n        "))}},{key:"showSuccessPasswordReset",value:function(){var e=((0,s.default)(this,L)||{}).authOnPasswordReset,t=((0,s.default)(this,L).customizeAuthForms||{}).successPasswordReset||{},n=t.description,r=t.backLinkTitle;this.resetPasswordForm.showFormResult('\n            <div class="wk-success-message wk-password-reset-success wk-password-reset-message">\n                <h2 class="wk-success-message__title">'.concat(n||"Your password had been saved successfully!","</h2>\n                ").concat(e?"":'<button id="back-to-login" class="wk-form-button wk-form-button--cancel">'+(r||"Back to login")+"</button>","\n            </div>\n        "))}},{key:"render",value:function(){this.loginForm&&this.loginForm.render(),this.signUpForm&&this.signUpForm.render(),this.emailLinkForm&&this.emailLinkForm.render(),this.forgotPasswordForm&&this.forgotPasswordForm.render(),this.resetPasswordForm&&this.resetPasswordForm.render(),this.triggerButton?this.triggerButton.render():this.showDefaultForm()}}]),e}();t.AuthForm=S},8445:(e,t,n)=>{"use strict";var r=n(5656);Object.defineProperty(t,"__esModule",{value:!0}),t.ChangePasswordForm=void 0;var a=r(n(3298)),i=r(n(1795)),o=r(n(1185)),s=r(n(7964)),l=r(n(8442)),u=r(n(7474)),c=r(n(5194)),d=r(n(8478)),f=n(2909),h=n(9356),p=n(4386);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var a=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,l.default)(this,n)}}function v(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}var w=new WeakMap,g=function(e){(0,s.default)(n,e);var t=m(n);function n(e,r){var i;(0,a.default)(this,n),i=t.call(this,e,r),v((0,o.default)(i),w,{writable:!0,value:void 0}),i.onCancel=r.onCancel||!1,(0,d.default)((0,o.default)(i),w,r),(0,c.default)((0,o.default)(i),w).title=r.title||"Change Password",(0,c.default)((0,o.default)(i),w).footer=i.getFormFooter()||r.footer;var s=r.messages||{},l=s.emptyPassword,u=s.newNotMatchOld,f=s.confirmationMatchNew;return i.oldPasswordField=new p.PasswordField({dataSlug:"old_password",name:"wk-old-password",ignoreValidation:!0,passwordHint:!1,label:"Old Password",type:"password",messages:r.messages||{},onEnter:function(){i.submitForm()},onValidate:function(e){return!!e.getValue()||(e.setError("<div>\n                            <span>".concat(l||"Password cannot be empty.","</span>\n                        </div>")),!1)}}),i.newPasswordField=new p.PasswordField({dataSlug:"new_password",name:"wk-new-password",ignoreValidation:!1,passwordHint:!0,label:"New Password",type:"password",messages:r.messages||{},relatedData:{oldPassword:i.oldPasswordField},onEnter:function(){i.submitForm()},onValidate:function(e){return e.relatedData.oldPassword.getValue()!==e.getValue()||(e.setError("<div>\n                            <span>".concat(u||"The new password must not match the old one.","</span>\n                        </div>")),!1)}}),i.newPasswordConfirmField=new p.PasswordField({dataSlug:"new_password_confirm",name:"wk-new-password-confirm",ignoreValidation:!1,passwordHint:!1,label:"New Password Confirmation",type:"password",messages:r.messages||{},relatedData:{newPassword:i.newPasswordField},onEnter:function(){i.submitForm()},onValidate:function(e){return e.relatedData.newPassword.getValue()===e.getValue()||(e.setError("<div>\n                            <span>".concat(f||"The password confirmation must be the same as the new password.","</span>\n                        </div>")),!1)}}),i.fields=[i.oldPasswordField,i.newPasswordField,i.newPasswordConfirmField],i.init(),i}return(0,i.default)(n,[{key:"cancelForm",value:function(){"function"==typeof this.onCancel&&this.onCancel()}},{key:"getFormFooter",value:function(){var e=(0,f.createElement)("div",{className:"wk-form__footer"}),t=((0,c.default)(this,w)||{}).cancelBtnTitle;return e.appendChild((0,f.createElement)("a",{className:"wk-form__link account-settings-link",innerText:t||"Cancel",attributes:{href:"#"}})),e.appendChild(this.submitBtn),e}}]),n}(h.Form);t.ChangePasswordForm=g},2511:(e,t,n)=>{"use strict";var r=n(5656);Object.defineProperty(t,"__esModule",{value:!0}),t.EmailLinkForm=void 0;var a=r(n(3298)),i=r(n(1795)),o=r(n(1185)),s=r(n(7964)),l=r(n(8442)),u=r(n(7474)),c=n(2909),d=n(9356),f=n(4751);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var a=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,l.default)(this,n)}}var p=function(e){(0,s.default)(n,e);var t=h(n);function n(e,r){var i;return(0,a.default)(this,n),(i=t.call(this,e,r)).options=r,i.options.title=r.title||"Sign in with email",i.options.footer=i.getFormFooter()||r.footer,i.emailField=new f.FormField({name:"wk-fb-email",dataSlug:"email",label:"Email",type:"email",messages:r.messages||{},onEnter:function(){i.submitForm()}}),i.fields=[i.emailField],i.init(),r.onCancel&&i.cancelBtn.addEventListener("click",r.onCancel.bind((0,o.default)(i))),i}return(0,i.default)(n,[{key:"getFormFooter",value:function(){var e=(0,c.createElement)("div"),t=(0,c.createElement)("div",{className:"wk-form__sub-footer"}),n=(0,c.createElement)("div",{className:"wk-form__footer-sign-up",innerText:this.options.signUpPreLinkTitle||""});!0===this.options.signUp&&n.appendChild((0,c.createElement)("a",{id:"auth-signup-link",className:"wk-form__link",innerText:this.options.signUpLinkTitle||"Sign Up",attributes:{href:"#"}})),t.appendChild(n);var r=(0,c.createElement)("div",{className:"wk-form__footer wk-form__footer--right"});return e.appendChild(t),!1!==this.options.cancelBtn&&r.appendChild(this.cancelBtn),r.appendChild(this.submitBtn),e.appendChild(r),e}}]),n}(d.Form);t.EmailLinkForm=p},7486:(e,t,n)=>{"use strict";var r=n(5656);Object.defineProperty(t,"__esModule",{value:!0}),t.ForgotPasswordForm=void 0;var a=r(n(3298)),i=r(n(1795)),o=r(n(7964)),s=r(n(8442)),l=r(n(7474)),u=n(2909),c=n(9356),d=n(4751);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var a=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var h=function(e){(0,o.default)(n,e);var t=f(n);function n(e,r){var i;return(0,a.default)(this,n),(i=t.call(this,e,r)).options=r,i.options.title=r.title||"Reset Password",i.options.footer=i.getFormFooter()||r.footer,i.emailField=new d.FormField({name:"wk-fb-email",dataSlug:"email",label:"Email",type:"email",messages:r.messages||{},onEnter:function(){i.submitForm()}}),i.fields=[i.emailField],i.init(),i}return(0,i.default)(n,[{key:"getFormFooter",value:function(){var e=(0,u.createElement)("div",{className:"wk-form__footer"});return e.appendChild(this.cancelBtn),this.cancelBtn.id="back-to-login",e.appendChild(this.submitBtn),e}}]),n}(c.Form);t.ForgotPasswordForm=h},4138:(e,t,n)=>{"use strict";var r=n(5656);Object.defineProperty(t,"__esModule",{value:!0}),t.LoginForm=void 0;var a=r(n(3298)),i=r(n(1795)),o=r(n(1185)),s=r(n(7964)),l=r(n(8442)),u=r(n(7474)),c=n(2909),d=n(9356),f=n(4751),h=n(4386);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var a=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,l.default)(this,n)}}var m=function(e){(0,s.default)(n,e);var t=p(n);function n(e,r){var i;return(0,a.default)(this,n),(i=t.call(this,e,r)).options=r,i.options.title=r.title||"Sign in with email",i.options.footer=i.getFormFooter()||r.footer,i.emailField=new f.FormField({dataSlug:"email",name:"wk-fb-email",label:"Email",type:"email",messages:r.messages||{},onEnter:function(){i.passwordField.focus()}}),i.passwordField=new h.PasswordField({dataSlug:"password",name:"wk-fb-password",ignoreValidation:r.passwordSignInIgnoreValidation||!1,label:"Password",type:"password",messages:r.messages||{},onEnter:function(){i.submitForm()}}),i.fields=[i.emailField,i.passwordField],i.init(),r.onCancel&&i.cancelBtn.addEventListener("click",r.onCancel.bind((0,o.default)(i))),i}return(0,i.default)(n,[{key:"getFormFooter",value:function(){var e=(0,c.createElement)("div"),t=(0,c.createElement)("div",{className:"wk-form__sub-footer"}),n=(0,c.createElement)("div",{className:"wk-form__footer-sign-up",innerText:this.options.signUpPreLinkTitle||""});!0===this.options.signUp&&n.appendChild((0,c.createElement)("a",{id:"auth-signup-link",className:"wk-form__link",innerText:this.options.signUpLinkTitle||"Sign Up",attributes:{href:"#"}})),t.appendChild(n),t.appendChild((0,c.createElement)("a",{className:"wk-form__link wk-form__reset-password",innerText:"Forgot password",id:"auth-password-link",attributes:{href:"#"}}));var r=(0,c.createElement)("div",{className:"wk-form__footer wk-form__footer--right"});return e.appendChild(t),!1!==this.options.cancelBtn&&r.appendChild(this.cancelBtn),r.appendChild(this.submitBtn),e.appendChild(r),e}}]),n}(d.Form);t.LoginForm=m},2217:(e,t,n)=>{"use strict";var r=n(5656);Object.defineProperty(t,"__esModule",{value:!0}),t.ResetPasswordForm=void 0;var a=r(n(3298)),i=r(n(1795)),o=r(n(7964)),s=r(n(8442)),l=r(n(7474)),u=n(2909),c=n(9356),d=n(4386);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var a=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var h=function(e){(0,o.default)(n,e);var t=f(n);function n(e,r){var i;return(0,a.default)(this,n),(i=t.call(this,e,r)).options=r,i.options.title=r.title||"Reset Password",i.options.footer=i.getFormFooter()||r.footer,i.newPasswordField=new d.PasswordField({dataSlug:"new_password",name:"wk-new-password",ignoreValidation:!1,passwordHint:!0,label:"New Password",type:"password",messages:r.messages||{},onEnter:function(){i.submitForm()}}),i.fields=[i.newPasswordField],i.init(),i}return(0,i.default)(n,[{key:"getFormFooter",value:function(){var e=(0,u.createElement)("div",{className:"wk-form__footer"});return e.appendChild(this.cancelBtn),this.cancelBtn.id="back-to-login",e.appendChild(this.submitBtn),e}}]),n}(c.Form);t.ResetPasswordForm=h},8955:(e,t,n)=>{"use strict";var r=n(5656);Object.defineProperty(t,"__esModule",{value:!0}),t.SignupForm=void 0;var a=r(n(366)),i=r(n(3298)),o=r(n(1795)),s=r(n(1185)),l=r(n(7964)),u=r(n(8442)),c=r(n(7474)),d=n(2909),f=n(9356),h=n(4751),p=n(4386),m=n(4195);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var a=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}function b(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function _(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var k=new WeakSet,y=new WeakSet,E=function(e){(0,l.default)(n,e);var t=g(n);function n(e,r){var a;(0,i.default)(this,n),a=t.call(this,e,r),b((0,s.default)(a),y),b((0,s.default)(a),k),a.options=r,a.options.title=r.title||"Sign Up",a.options.footer=a.getFormFooter()||r.footer,a.options.termsOfService.termsOfService=_((0,s.default)(a),k,A).call((0,s.default)(a),a.options.termsOfService.termsOfService),a.emailField=new h.FormField({dataSlug:"email",name:"wk-fb-email",label:"Email",type:"email",messages:r.messages||{},onEnter:function(){a.nameField.focus()}}),a.nameField=new h.FormField({dataSlug:"name",name:"wk-fb-name",label:"Name",type:"text",messages:r.messages||{},onEnter:function(){a.passwordField.focus()}}),a.passwordField=new p.PasswordField({dataSlug:"password",name:"wk-fb-password",ignoreValidation:!1,passwordHint:!0,label:"Password",type:"password",messages:r.messages||{},onEnter:function(){a.submitForm()}});var o=r.messages||{},l=o.tosRequired,u=o.required;return _((0,s.default)(a),y,L).call((0,s.default)(a),r)&&(a.tosField=new m.CheckBoxField({dataSlug:"agreement",name:"wk-fb-agreement",required:!0,label:a.getTosAcceptLabel(r.termsOfService),type:"checkbox",messages:w(w({},r.messages||{}),{required:l||u||!1})})),a.fields=[a.emailField,a.nameField,a.passwordField],a.tosField&&a.fields.push(a.tosField),a.init(),r.onCancel&&a.cancelBtn.addEventListener("click",r.onCancel.bind((0,s.default)(a))),a}return(0,o.default)(n,[{key:"getFormFooter",value:function(){var e=(0,d.createElement)("div",{className:"wk-form__footer"}),t=(0,d.createElement)("div",{className:"wk-form__footer-sign-in",innerText:this.options.signInPreLinkTitle||"Already have an account? "});return t.appendChild((0,d.createElement)("a",{className:"wk-form__link",innerText:this.options.signInLinkTitle||"Sign-in",id:"auth-signin-link",attributes:{href:"#"}})),e.appendChild(t),!1!==this.options.cancelBtn&&e.appendChild(this.cancelBtn),e.appendChild(this.submitBtn),e}},{key:"getTosAcceptLabel",value:function(e){if(!e||!e.termsOfService)return"";if("string"==typeof e.termsOfService)return e.termsOfService;var t="By signing up I agree with the";return e.tosURL&&(t+=' <a href="'.concat(e.tosURL,'" target="_blank">Terms & Conditions</a>')),e.tosURL&&e.privacyPolicyURL&&(t+=" and "),e.privacyPolicyURL&&(t+=' <a href="'.concat(e.privacyPolicyURL,'" target="_blank">Privacy Policy</a>')),t}}]),n}(f.Form);function A(e){return(void 0===e||"string"!=typeof e&&"boolean"!=typeof e)&&(e=!0),e}function L(e){return!!e.termsOfService.termsOfService&&(!!e.termsOfService.termsOfService&&"string"==typeof e.termsOfService.termsOfService||!!e.termsOfService.tosURL||!!e.termsOfService.privacyPolicyURL)}t.SignupForm=E},9356:(e,t,n)=>{"use strict";var r=n(5656);Object.defineProperty(t,"__esModule",{value:!0}),t.Form=void 0;var a=r(n(3298)),i=r(n(1795)),o=n(2909),s=r(n(5828)),l=r(n(4174)),u=function(){function e(t,n){(0,a.default)(this,e),this.targetElementSelector=t,this.formWrapper=(0,o.createElement)("div",{className:"wk-form"}),this.submitBtn=(0,o.createElement)("button",{className:"wk-form-button",innerText:n.submitBtnTitle||"Submit"}),this.cancelBtn=(0,o.createElement)("button",{className:"wk-form-button wk-form-button--cancel",innerText:n.cancelBtnTitle||"Cancel"}),this.loading=!1,this.options=n,this.fields=[]}return(0,i.default)(e,[{key:"render",value:function(e){try{var t=document.querySelector(e||this.targetElementSelector);t&&t.appendChild(this.getFormElement())}catch(e){console.log("FORM RENDER ERROR:",e)}}},{key:"getFormElement",value:function(){return this.formWrapper}},{key:"setFormError",value:function(e,t){var n=!1;(0,s.default)(this.options.messages)||(n=(0,l.default)(this.options.messages,t,!1)),this.formErrorPlaceholder.innerText=n||e,this.formErrorPlaceholder.classList.add("wk-form__error--show"),(0,s.default)(t)||(this.formErrorPlaceholder.dataset.errorCode=t)}},{key:"resetFormError",value:function(){this.formErrorPlaceholder.innerText="",this.formErrorPlaceholder.classList.remove("wk-form__error--show")}},{key:"resetFields",value:function(){this.fields.forEach((function(e){return e.resetField()}))}},{key:"resetForm",value:function(){this.resetFields(),this.resetFormError()}},{key:"showFormResult",value:function(e){e&&(this.formWrapper.innerHTML="",this.formWrapper.appendChild((0,o.createElement)("div",{className:"wk-form-result",innerHTML:e||""})))}},{key:"insertFields",value:function(){var e=this;return this.formWrapperFields=(0,o.createElement)("div",{className:"wk-form-fields"}),this.fields.forEach((function(t){e.formWrapperFields.appendChild(t.getElement())})),this.formWrapper.appendChild(this.formWrapperFields),this}},{key:"insertHeader",value:function(){return this.formWrapperHeader=(0,o.createElement)("div",{className:"wk-form-header"}),this.options.title&&this.formWrapperHeader.appendChild((0,o.createElement)("h2",{className:"wk-form-header__title",innerText:this.options.title})),this.options.description&&this.formWrapperHeader.appendChild((0,o.createElement)("h2",{className:"wk-form-header__description",innerText:this.options.description})),this.formErrorPlaceholder=(0,o.createElement)("div",{className:"wk-form__error"}),this.formWrapperHeader.appendChild(this.formErrorPlaceholder),this.formWrapper.appendChild(this.formWrapperHeader),this}},{key:"insertFooter",value:function(){var e=(0,o.createElement)("div",{className:"wk-form-footer"});return this.options.footer?e.appendChild(this.options.footer):e.appendChild(this.submitBtn),this.formWrapper.appendChild(e),this}},{key:"validateForm",value:function(){var e=null;return this.fields.forEach((function(t){var n=t.validate();!1!==e&&(e=n)})),e}},{key:"show",value:function(){return this.formWrapper.style.display="block",this}},{key:"hide",value:function(){return this.formWrapper.style.display="none",this}},{key:"isVisible",get:function(){return!!window.getComputedStyle(this.formWrapper)&&"block"===window.getComputedStyle(this.formWrapper).getPropertyValue("display")}},{key:"submitForm",value:function(){if(this.validateForm()&&this.options.onSubmit){var e={};this.fields.forEach((function(t){e[t.slug]=t.getValue()})),this.resetFormError(),this.options.onSubmit(e)}}},{key:"reRender",value:function(){this.formWrapper.innerHTML="",this.insertFormElements()}},{key:"insertFormElements",value:function(){this.insertHeader(),this.insertFields(),this.insertFooter()}},{key:"init",value:function(){return this.insertFormElements(),this.submitBtn.addEventListener("click",this.submitForm.bind(this)),this}}]),e}();t.Form=u},8967:(e,t,n)=>{"use strict";var r=n(5656);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(3298)),i=r(n(1795)),o=n(2909),s=n(9066),l=n(6073),u=r(n(9889));function c(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}var d=new WeakSet,f=function(){function e(t){if((0,a.default)(this,e),c(this,d),e.instance)return e.instance;e.instance=this,this.currentFrameName="",this.options=t,this.frameElement=null,this.ready=!1,this.events=new u.default}return(0,i.default)(e,[{key:"element",get:function(){return this.frameElement}},{key:"getFrameURL",get:function(){var e,t="dev"===this.options.mode?s.WALLKIT_POPUP_DEV_URL:s.WALLKIT_POPUP_URL,n=null!==(e=this.options.lang)&&void 0!==e?e:"en";return"".concat(t,"?PUBLIC_KEY=").concat(this.options.public_key,"&version=").concat(this.options.version,"&lang=").concat(n)}},{key:"createFrame",value:function(){return this.frameElement=(0,o.createElement)("iframe",{id:s.WALLKIT_FRAME_ID,className:"".concat(s.WALLKIT_FRAME_ID," ").concat("intrinsic-ignore"),attributes:{scrolling:"no",allowtransparency:"true",frameborder:"0",width:s.WALLKIT_MODAL_MIN_WIDTH,height:s.WALLKIT_MODAL_MIN_HEIGHT}}),this.frameElement.setAttribute("src",this.getFrameURL),this.events.notify(l.FRAME_CREATED,!0),this.frameElement}},{key:"resize",value:function(e,t){e=e>=s.WALLKIT_MODAL_MIN_WIDTH?e:s.WALLKIT_MODAL_MIN_WIDTH,t=t>=s.WALLKIT_MODAL_MIN_HEIGHT?t:s.WALLKIT_MODAL_MIN_HEIGHT,this.frameElement&&(this.frameElement.width=e,this.frameElement.height=t)}},{key:"sendEvent",value:function(e,t,n){var r=this,a=function(){if(r.frameElement&&r.frameElement.contentWindow){var a=r.frameElement.contentWindow;r.events.notify(e,t),a.postMessage({name:e,value:t,params:n},"*")}};this.ready?a():this.events.subscribe(l.WALLKIT_FRAME_READY,a.bind(this))}},{key:"openFrame",value:function(e,t){var n=this;this.currentFrameName=e,this.ready?this.sendEvent(l.WALLKIT_CHANGE_FRAME,e,t):this.events.subscribe(l.WALLKIT_FRAME_READY,(function(){n.sendEvent(l.WALLKIT_CHANGE_FRAME,e,t)}),{once:!0})}},{key:"onFrameReady",value:function(){var e,t;(this.ready=!0,null!==(e=this.options)&&void 0!==e&&e.onReady)&&(null===(t=this.options)||void 0===t||t.onReady())}},{key:"init",value:function(){return function(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}(this,d,h).call(this),this.createFrame()}}]),e}();function h(){var e=this;this.events.subscribe(l.WALLKIT_FRAME_ROUTE_CHANGE,(function(t){e.currentFrameName=t})),this.events.subscribe(l.WALLKIT_FRAME_READY,(function(t){!0===t&&e.onFrameReady()}))}t.default=f},7761:(e,t,n)=>{"use strict";var r=n(5656);Object.defineProperty(t,"__esModule",{value:!0}),t.Localization=void 0;var a=r(n(3298)),i=r(n(1795)),o=r(n(5194)),s=r(n(8478)),l=n(8006),u=n(6073),c=r(n(9889));function d(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}var f=new WeakMap,h=function(){function e(){(0,a.default)(this,e),d(this,f,{writable:!0,value:void 0}),(0,s.default)(this,f,new c.default)}return(0,i.default)(e,null,[{key:"assembleLanguage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";return"string"==typeof e&&l.FB_AVAILABLE_LANGUAGES.includes(e.toLowerCase())?e:"en"}},{key:"changeLanguage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";"string"==typeof e&&(0,o.default)(this,f).notify(u.WALLKIT_EVENT_CHANGE_LANGUAGE,e)}}]),e}();t.Localization=h},9269:(e,t,n)=>{"use strict";var r=n(5656);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(366)),i=r(n(3298)),o=r(n(1795)),s=n(9066),l=r(n(2909)),u=n(1758),c=n(5234),d=r(n(9889)),f=n(6073);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function m(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var v=new WeakSet,w=new WeakSet,g=new WeakSet,b=new WeakSet,_=new WeakSet,k=new WeakSet,y=new WeakSet,E=new WeakSet,A=function(){function e(t){(0,i.default)(this,e),p(this,E),p(this,y),p(this,k),p(this,_),p(this,b),p(this,g),p(this,w),p(this,v),this.options=t,this.modalFrame=t?t.resourceFrame:null,this.content=t?t.content:null,this.modalWrapper=null,this.modalContent=null,this.loaderElement=null,this.isLoading=!1,this.closeOutside=!0,this.onClose=t?t.onClose:null}return(0,o.default)(e,[{key:"bindCloseEvent",value:function(e){return e.addEventListener("click",this.hide.bind(this))}},{key:"insertContent",value:function(e){this.modalContent&&e&&("string"==typeof e?this.modalContent.insertAdjacentHTML("beforeend",e):e instanceof HTMLElement&&this.modalContent.appendChild(e))}},{key:"toggleLoader",value:function(e){this.isLoading=e,this.loaderElement.style.display=e?"flex":"none"}},{key:"open",value:function(e,t){this.modalFrame&&(this.modalFrame.openFrame(e,t),this.show())}},{key:"destroy",value:function(){}},{key:"show",value:function(){this.modalWrapper.style.display="flex"}},{key:"hide",value:function(){(new d.default).notify(f.MODAL_CLOSED,{name:m(this,v,L).call(this)}),this.onClose&&this.onClose(),this.modalWrapper.style.display="none"}},{key:"resize",value:function(e,t){this.modalFrame&&this.modalFrame.resize(e,t)}},{key:"sendEvent",value:function(e,t,n){this.modalFrame&&this.modalFrame.sendEvent(e,t,n)}},{key:"openByHash",value:function(){var e=(0,c.parseModalHashURL)();e?this.open(e.name,e.params):(0,c.parseUrlToShowAuthModal)()&&this.open("sign-in")}},{key:"onReady",value:function(){var e;null!==(e=this.options)&&void 0!==e&&e.onReady&&this.options.onReady(this)}},{key:"init",value:function(){m(this,b,O).call(this),m(this,_,F).call(this),m(this,k,R).call(this),m(this,y,C).call(this),this.onReady()}}]),e}();function L(){var e,t;return null!==(e=null===(t=this.options)||void 0===t?void 0:t.modalName)&&void 0!==e?e:"wk-modal"}function S(e,t,n){for(var r=m(this,v,L).call(this)+"-"+t,i=0,o=r;l.default.checkIfElementExists("#"+o);)o=r+"-"+ ++i;return l.default.createElement(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:o},n))}function T(){var e=m(this,w,S).call(this,"div","close-btn",{className:s.WALLKIT_MODAL_CLOSE_BTN_CLASSNAME});return e.innerHTML="&#xd7;",this.bindCloseEvent(e),e}function O(){var e,t,n=this,r=s.WALLKIT_MODAL_WRAPPER_CLASSNAME;null!==(e=this.options)&&void 0!==e&&e.className&&(r+=" "+(null===(t=this.options)||void 0===t?void 0:t.className));return this.modalWrapper=m(this,w,S).call(this,"div","wrapper",{styles:{display:"none"},className:r}),this.modalWrapper.addEventListener("click",(function(e){e.target.id===n.modalWrapper.id&&n.closeOutside&&n.hide()})),this.modalWrapper}function F(){return this.modalContent=m(this,w,S).call(this,"div","content",{className:s.WALLKIT_MODAL_CONTENT_CLASSNAME}),this.modalContent.style.minWidth=s.WALLKIT_MODAL_MIN_WIDTH+"px",this.modalContent.style.minHeight=s.WALLKIT_MODAL_MIN_HEIGHT+"px",this.modalContent.style.maxWidth=s.WALLKIT_MODAL_MAX_WIDTH+"px",this.modalContent}function R(){var e;this.loaderElement=m(this,w,S).call(this,"div","wallkit-modal-spinner",{className:"wallkit-spinner",styles:{display:null!==(e=this.options)&&void 0!==e&&e.initialLoader?"flex":"none"}}),this.loaderElement.insertAdjacentHTML("beforeend",'<div class="wallkit-spinner__container"><div class="cube1"></div><div class="cube2"></div></div>')}function C(){return m(this,E,I).call(this),this.modalWrapper.appendChild(this.modalContent),this.modalContent.appendChild(this.loaderElement),this.modalContent.appendChild(m(this,g,T).call(this)),this.modalFrame?this.insertContent(this.modalFrame.init()):this.modalContent&&this.insertContent(this.content),l.default.injectInBody(this.modalWrapper)}function I(){(0,u.loadWallkitAsset)("css","1.0","spinner")}t.default=A},4753:(e,t,n)=>{"use strict";var r=n(5656);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(3298)),i=r(n(1795)),o=r(n(5194)),s=r(n(8478)),l=n(2909),u=n(9066),c=n(6073),d=r(n(9889));function f(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}var h=new WeakMap,p=new WeakMap,m=new WeakMap,v=function(){function e(t){return(0,a.default)(this,e),f(this,h,{writable:!0,value:void 0}),f(this,p,{writable:!0,value:void 0}),f(this,m,{writable:!0,value:void 0}),e.instance?e.instance:t?(e.instance=this,this.methods=null,this.client=null,(0,s.default)(this,h,t),(0,s.default)(this,p,new d.default),(0,s.default)(this,m,"dev"===t.mode?"https://api.dev.wallkit.net/api/v1":void 0),void(window.Wallkit?this.onLoad():this.load())):new Error("No Options Provided")}return(0,i.default)(e,[{key:"onLoad",value:function(){var e,t,n,r;window.Wallkit&&(window.Wallkit.init({resource:(0,o.default)(this,h).public_key,api_url:(0,o.default)(this,m),subDomainCookie:null!==(e=null===(t=(0,o.default)(this,h).cookies)||void 0===t?void 0:t.subDomain)&&void 0!==e&&e}),this.methods=window.Wallkit,this.client=window.Wallkit.client,(0,o.default)(this,p).notify(c.WALLKIT_SDK_LOADED,window.Wallkit),null!==(n=(0,o.default)(this,h))&&void 0!==n&&n.onLoaded&&(null===(r=(0,o.default)(this,h))||void 0===r||r.onLoaded()))}},{key:"awaitLoad",value:function(){var e=this;return new Promise((function(t){e.methods?t(e):(0,o.default)(e,p).subscribe(c.WALLKIT_SDK_LOADED,(function(){return t(e)}))}))}},{key:"load",value:function(){(0,l.insertScript)("".concat(u.WALLKIT_CDN_URL,"/js/sdk/0.0.51/wallkit.umd.min.js"),"wallkit-js-sdk",this.onLoad.bind(this))}}]),e}();t.default=v},4442:(e,t,n)=>{"use strict";var r=n(5656);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(8047)),i=r(n(7240)),o=r(n(366)),s=r(n(3298)),l=r(n(1795)),u=r(n(5194)),c=r(n(8478)),d=r(n(9269)),f=n(8445),h=n(9066),p=r(n(5828));function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t){g(e,t),t.add(e)}function g(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function b(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var _=new WeakMap,k=new WeakSet,y=new WeakSet,E=new WeakSet,A=new WeakSet,L=new WeakSet,S=function(){function e(t){var n,r,a;(0,s.default)(this,e),w(this,L),w(this,A),w(this,E),w(this,y),w(this,k),a={writable:!0,value:void 0},g(n=this,r=_),r.set(n,a),(0,c.default)(this,_,t),this.popup=t.popup,this.authentication=t.authentication,b(this,k,T).call(this,t)}return(0,l.default)(e,[{key:"cancelModalForm",value:function(e){this.modal.hide(),e.openPopupName&&this.popup.open(e.openPopupName)}},{key:"showChangePassword",value:function(){this.modal.show(),b(this,y,O).call(this)}},{key:"getDefaultUserManagerModalContent",value:function(){return'<div>\n                    <div id="user-manager-modal-error"></div>\n                    <div id="'.concat(h.WALLKIT_USER_MANAGER_MODAL_FORM_PLACEHOLDER_ID,'"></div>\n                </div>')}}]),e}();function T(e){var t=this;this.modal=new d.default({modalName:e.name||"user-manager-modal",content:e.content||this.getDefaultUserManagerModalContent(),className:e.className||"wallkit-auth-modal",initialLoader:e.loader||!1}),this.modal.init(),this.modal.modalWrapper.addEventListener("click",(function(e){t.changePasswordForm&&e.target.classList.contains("account-settings-link")&&(e.preventDefault(),t.changePasswordForm.cancelForm())}))}function O(){var e=this;if(this.changePasswordForm)this.changePasswordForm.resetForm(),this.changePasswordForm.reRender();else{var t=(0,u.default)(this,_).customizeForms||{},n=t.messages,r=t.changePassword,a={};(0,p.default)(r)||(0,p.default)(r.messages)||(a=r.messages),this.changePasswordForm=new f.ChangePasswordForm("#".concat(h.WALLKIT_USER_MANAGER_MODAL_FORM_PLACEHOLDER_ID),v(v({},r||{}),{},{messages:v(v({},n||{}),a),onCancel:function(){e.cancelModalForm({openPopupName:"account-settings"})},onSubmit:function(t){b(e,E,F).call(e,t)}})),this.changePasswordForm.render()}}function F(e){return R.apply(this,arguments)}function R(){return(R=(0,i.default)(a.default.mark((function e(t){var n,r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.old_password,r=t.new_password,e.prev=1,this.modal&&this.modal.toggleLoader(!0),e.next=5,this.authentication.firebase.reauthenticateWithCredential(n);case 5:return e.next=7,this.authentication.firebase.updatePassword(r);case 7:b(this,L,I).call(this),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),b(this,A,C).call(this,e.t0);case 13:case"end":return e.stop()}}),e,this,[[1,10]])})))).apply(this,arguments)}function C(e){this.changePasswordForm&&((0,p.default)(e.message)||this.changePasswordForm.setFormError(e.message,e.code||!1),this.modal&&this.modal.toggleLoader(!1))}function I(){if(this.changePasswordForm){var e=((0,u.default)(this,_).customizeForms||{}).successPasswordChange||{},t=e.description,n=e.backLinkTitle;this.changePasswordForm.showFormResult('\n            <div class="wk-success-message wk-password-reset-success">\n                <h2 class="wk-success-message__title">'.concat(t||"Your password has been successfully changed!",'</h2>\n                <a href="#" class="wk-form__link account-settings-link">').concat(n||"Back to account settings","</a>\n            </div>\n        ")),this.modal&&this.modal.toggleLoader(!1)}}t.default=S},2909:(e,t,n)=>{"use strict";var r=n(2125);Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeSelector=t.loadCSS=t.isMobile=t.isDocumentAvailable=t.insertScript=t.insertAfter=t.injectInHead=t.injectInBody=t.default=t.createElement=t.checkIfElementExists=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=o?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(a,s,l):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(n(542));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}var o=function(){return!!document};t.isDocumentAvailable=o;var s=function(e){return o()?!!document.querySelector(e):a.default.handleError("Document is not available",a.ERRORS_TYPES.DOM_ERROR)};t.checkIfElementExists=s;t.insertAfter=function(e,t){t.parentNode.insertBefore(e,t.nextSibling)};var l=function(e,t){if(!o())return a.default.handleError("Document is not available",a.ERRORS_TYPES.DOM_ERROR);if(!e)return a.default.checkRequiredArgument(e);var n=document.createElement(e),r=null!=t?t:{},i=r.id,s=r.className,l=r.styles,u=r.attributes,c=r.innerText,d=r.innerHTML;if(i&&(n.id=i),c&&(n.innerText=c),d&&(n.innerHTML=d),s&&n.setAttribute("class",s),l&&Object.keys(l)&&Object.keys(l).length)for(var f in l)l.hasOwnProperty(f)&&(n.style[f]=l[f]);if(u&&Object.keys(u)&&Object.keys(u).length)for(var h in u)u.hasOwnProperty(h)&&n.setAttribute(h,u[h]);return n};t.createElement=l;var u=function(e){return o()?e?document.body.appendChild(e):a.default.checkRequiredArgument(e,"element"):a.default.handleError("Document is not available",a.ERRORS_TYPES.DOM_ERROR)};t.injectInBody=u;t.injectInHead=function(e){return o()?e?document.head.appendChild(e):a.default.checkRequiredArgument(e,"element"):a.default.handleError("Document is not available",a.ERRORS_TYPES.DOM_ERROR)};var c=function(e,t){if(!o())return a.default.handleError("Document is not available",a.ERRORS_TYPES.DOM_ERROR);if(!s("#"+t)){var n=document.querySelector("head"),r=document.createElement("link");return t&&(r.id=t),r.rel="stylesheet",r.type="text/css",r.href=e,r.media="all",n.appendChild(r)}};t.loadCSS=c;var d=function(e,t,n){if(!o())return a.default.handleError("Document is not available",a.ERRORS_TYPES.DOM_ERROR);if(!s("#"+t)){var r=l("script",{id:t,attributes:{src:e}});return n&&r.addEventListener("load",n,{once:!0}),u(r)}};t.insertScript=d;var f=function(){return"undefined"!=typeof window&&window.innerWidth<800};t.isMobile=f;var h=function(e){return e&&!["#","."].includes(e.charAt(0))&&(e="#".concat(e)),e};t.normalizeSelector=h;var p={createElement:l,injectInBody:u,checkIfElementExists:s,loadCSS:c,insertScript:d,isMobile:f,normalizeSelector:h};t.default=p},5048:(e,t,n)=>{"use strict";var r=n(5656);Object.defineProperty(t,"__esModule",{value:!0}),t.setCookie=t.removeCookie=t.default=void 0;var a=r(n(366)),i=function(e,t,n){if(e&&t){var r=(n=n||{}).expires;if("number"==typeof r&&r){var a=new Date;a.setTime(a.getTime()+1e3*r),r=n.expires=a}r&&r.toUTCString&&(n.expires=r.toUTCString());var i="".concat(e,"=").concat(encodeURIComponent(t),"; ");for(var o in n){var s=n[o];s&&(i+="".concat(o,"=").concat(s,"; "))}document.cookie=i}};t.setCookie=i;var o=function(e,t){var n,r=(n={},(0,a.default)(n,e,""),(0,a.default)(n,"expires","Thu, 01 Jan 1970 00:00:00 UTC"),(0,a.default)(n,"path","/"),(0,a.default)(n,"domain",t||null),n),i="";for(var o in r){var s=r[o];null!=s&&(i+="".concat(o,"=").concat(s,"; "))}document.cookie=i};t.removeCookie=o;var s={setCookie:i,removeCookie:o};t.default=s},7857:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isCrawler=void 0;t.isCrawler=function(){return/bot|googlebot|crawler|spider|robot|crawling|facebookexternalhit|facebookcatalog/i.test(navigator.userAgent)}},1758:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadWallkitAsset=t.loadScripts=t.default=void 0;var r=n(2909),a=n(9066),i=function(e,t,n){if("css"===e){var i=n;return i+=!(arguments.length>3&&void 0!==arguments[3])||arguments[3]?".min.css":".css",void(0,r.loadCSS)("".concat(a.WALLKIT_CDN_ASSETS_URL,"/css/").concat(t,"/").concat(i),"wk-css-".concat(n))}};t.loadWallkitAsset=i;var o=function(e){Array.isArray(e)&&e.forEach((function(e){(0,r.insertScript)(e.url,e.id,e.onload)}))};t.loadScripts=o;var s={loadWallkitAsset:i,loadScripts:o};t.default=s},347:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={setItem:function(e,t){return this.isAvailable()?window.localStorage.setItem(e,t):null},getItem:function(e){return this.isAvailable()?window.localStorage.getItem(e):null},removeItem:function(e){if(this.isAvailable())return window.localStorage.removeItem(e)},isAvailable:function(){try{return window.localStorage.setItem("",""),window.localStorage.removeItem(""),!0}catch(e){return!1}}};t.default=n},8672:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isApplePayAvailable=void 0;t.isApplePayAvailable=function(){try{return!!window.ApplePaySession&&window.ApplePaySession.canMakePayments()}catch(e){return console.error("ApplePay Error",e),!1}}},5234:(e,t,n)=>{"use strict";var r=n(5656);Object.defineProperty(t,"__esModule",{value:!0}),t.resetSearchParams=t.resetHash=t.parseUrlToShowAuthModal=t.parseResetPasswordOobCodeHash=t.parseModalHashURL=t.parseAuthTokenHash=t.parseAuthEmailLinkOobCodeHash=t.getParentDomain=t.getDomainWithoutSubdomain=void 0;var a=r(n(2125)),i=r(n(5828));function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.parseModalHashURL=function(){var e=/#WkModal\((.*)\)$/.exec(decodeURIComponent(window.location.hash));if(e&&e[1]){var t=e[1].split(/,(.+)/);if(void 0!==t[1])try{t[1]=JSON.parse(t[1])}catch(e){t[1]={value:t[1].trim()}}return window.location.hash="",{name:t[0],params:"object"===(0,a.default)(t[1])?t[1]:null}}};t.parseAuthTokenHash=function(){var e=decodeURIComponent(window.location.hash);if(null!=e&&e.includes("wk-authorize")){var t=e.split("="),n=null==t?void 0:t[1];if(n)return n}return null};t.resetHash=function(){window.location.hash="";var e=window.location.href.replace("#","");window.history.pushState("","",e)};var l=function(e){if(e&&window.location.search&&window.location.search.includes(e)){"?"===window.location.search.replace(e,"")&&(e="?"+e);var t=window.location.href.replace(e,"");window.history.pushState("","",t)}};t.resetSearchParams=l;var u=function(e){var t=new URL(e).hostname.split(".");return t.slice(0).slice(-(4===t.length?3:2)).join(".")};t.getDomainWithoutSubdomain=u;t.getParentDomain=function(){return".".concat(u(window.location))};t.parseResetPasswordOobCodeHash=function(){var e=decodeURIComponent(window.location.hash);if(null!=e&&e.includes("#reset-password=")){var t=e.split("="),n=null==t?void 0:t[1];if(n)return n}return null};t.parseAuthEmailLinkOobCodeHash=function(){var e=decodeURIComponent(window.location.hash),t={};if(null!=e&&e.includes("#auth-email-link=")){var n=e.split("&");if(Array.isArray(n)){var r,a=o(n);try{for(a.s();!(r=a.n()).done;){var s=r.value.split("=");(0,i.default)(s[0])||(0,i.default)(s[1])||(s[0]=s[0].toLowerCase(),s[0].startsWith("#")&&(s[0]=s[0].slice(1)),"auth-email-link"===s[0]&&(s[0]="oobcode"),t[s[0]]=s[1])}}catch(e){a.e(e)}finally{a.f()}}}return t};t.parseUrlToShowAuthModal=function(){var e="auth-modal=true",t=decodeURIComponent(window.location.search);return!(null==t||!t.includes(e))&&(l(e),!0)}},4174:(e,t,n)=>{var r="__lodash_hash_undefined__",a=1/0,i="[object Function]",o="[object GeneratorFunction]",s="[object Symbol]",l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/,c=/^\./,d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/\\(\\)?/g,h=/^\[object .+?Constructor\]$/,p="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,m="object"==typeof self&&self&&self.Object===Object&&self,v=p||m||Function("return this")();var w,g=Array.prototype,b=Function.prototype,_=Object.prototype,k=v["__core-js_shared__"],y=(w=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||""))?"Symbol(src)_1."+w:"",E=b.toString,A=_.hasOwnProperty,L=_.toString,S=RegExp("^"+E.call(A).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),T=v.Symbol,O=g.splice,F=j(v,"Map"),R=j(Object,"create"),C=T?T.prototype:void 0,I=C?C.toString:void 0;function P(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function x(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function M(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function W(e,t){for(var n,r,a=e.length;a--;)if((n=e[a][0])===(r=t)||n!=n&&r!=r)return a;return-1}function N(e,t){var n;t=function(e,t){if(G(e))return!1;var n=typeof e;if("number"==n||"symbol"==n||"boolean"==n||null==e||z(e))return!0;return u.test(e)||!l.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:G(n=t)?n:K(n);for(var r=0,a=t.length;null!=e&&r<a;)e=e[H(t[r++])];return r&&r==a?e:void 0}function D(e){if(!V(e)||(t=e,y&&y in t))return!1;var t,n=function(e){var t=V(e)?L.call(e):"";return t==i||t==o}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?S:h;return n.test(function(e){if(null!=e){try{return E.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function U(e,t){var n,r,a=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?a["string"==typeof t?"string":"hash"]:a.map}function j(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return D(n)?n:void 0}P.prototype.clear=function(){this.__data__=R?R(null):{}},P.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},P.prototype.get=function(e){var t=this.__data__;if(R){var n=t[e];return n===r?void 0:n}return A.call(t,e)?t[e]:void 0},P.prototype.has=function(e){var t=this.__data__;return R?void 0!==t[e]:A.call(t,e)},P.prototype.set=function(e,t){return this.__data__[e]=R&&void 0===t?r:t,this},x.prototype.clear=function(){this.__data__=[]},x.prototype.delete=function(e){var t=this.__data__,n=W(t,e);return!(n<0)&&(n==t.length-1?t.pop():O.call(t,n,1),!0)},x.prototype.get=function(e){var t=this.__data__,n=W(t,e);return n<0?void 0:t[n][1]},x.prototype.has=function(e){return W(this.__data__,e)>-1},x.prototype.set=function(e,t){var n=this.__data__,r=W(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},M.prototype.clear=function(){this.__data__={hash:new P,map:new(F||x),string:new P}},M.prototype.delete=function(e){return U(this,e).delete(e)},M.prototype.get=function(e){return U(this,e).get(e)},M.prototype.has=function(e){return U(this,e).has(e)},M.prototype.set=function(e,t){return U(this,e).set(e,t),this};var K=B((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(z(e))return I?I.call(e):"";var t=e+"";return"0"==t&&1/e==-a?"-0":t}(t);var n=[];return c.test(e)&&n.push(""),e.replace(d,(function(e,t,r,a){n.push(r?a.replace(f,"$1"):t||e)})),n}));function H(e){if("string"==typeof e||z(e))return e;var t=e+"";return"0"==t&&1/e==-a?"-0":t}function B(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o),o};return n.cache=new(B.Cache||M),n}B.Cache=M;var G=Array.isArray;function V(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function z(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&L.call(e)==s}e.exports=function(e,t,n){var r=null==e?void 0:N(e,t);return void 0===r?n:r}},5828:(e,t,n)=>{e=n.nmd(e);var r=9007199254740991,a="[object Arguments]",i="[object Function]",o="[object GeneratorFunction]",s="[object Map]",l="[object Promise]",u="[object Set]",c="[object WeakMap]",d="[object DataView]",f=/^\[object .+?Constructor\]$/,h="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,p="object"==typeof self&&self&&self.Object===Object&&self,m=h||p||Function("return this")(),v=t&&!t.nodeType&&t,w=v&&e&&!e.nodeType&&e,g=w&&w.exports===v;var b,_,k,y=Function.prototype,E=Object.prototype,A=m["__core-js_shared__"],L=(b=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+b:"",S=y.toString,T=E.hasOwnProperty,O=E.toString,F=RegExp("^"+S.call(T).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),R=g?m.Buffer:void 0,C=E.propertyIsEnumerable,I=R?R.isBuffer:void 0,P=(_=Object.keys,k=Object,function(e){return _(k(e))}),x=z(m,"DataView"),M=z(m,"Map"),W=z(m,"Promise"),N=z(m,"Set"),D=z(m,"WeakMap"),U=!C.call({valueOf:1},"valueOf"),j=Y(x),K=Y(M),H=Y(W),B=Y(N),G=Y(D);function V(e){if(!ee(e)||function(e){return!!L&&L in e}(e))return!1;var t=Q(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?F:f;return t.test(Y(e))}function z(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return V(n)?n:void 0}var q=function(e){return O.call(e)};function Y(e){if(null!=e){try{return S.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function $(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&J(e)}(e)&&T.call(e,"callee")&&(!C.call(e,"callee")||O.call(e)==a)}(x&&q(new x(new ArrayBuffer(1)))!=d||M&&q(new M)!=s||W&&q(W.resolve())!=l||N&&q(new N)!=u||D&&q(new D)!=c)&&(q=function(e){var t=O.call(e),n="[object Object]"==t?e.constructor:void 0,r=n?Y(n):void 0;if(r)switch(r){case j:return d;case K:return s;case H:return l;case B:return u;case G:return c}return t});var X=Array.isArray;function J(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!Q(e)}var Z=I||function(){return!1};function Q(e){var t=ee(e)?O.call(e):"";return t==i||t==o}function ee(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){if(J(e)&&(X(e)||"string"==typeof e||"function"==typeof e.splice||Z(e)||$(e)))return!e.length;var t=q(e);if(t==s||t==u)return!e.size;if(U||function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||E)}(e))return!P(e).length;for(var n in e)if(T.call(e,n))return!1;return!0}},1185:e=>{e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},7240:e=>{function t(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(a,i){var o=e.apply(n,r);function s(e){t(o,a,i,s,l,"next",e)}function l(e){t(o,a,i,s,l,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},4869:e=>{e.exports=function(e,t){return t.get?t.get.call(e):t.value},e.exports.__esModule=!0,e.exports.default=e.exports},9194:e=>{e.exports=function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}},e.exports.__esModule=!0,e.exports.default=e.exports},3298:e=>{e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},4578:e=>{e.exports=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)},e.exports.__esModule=!0,e.exports.default=e.exports},5194:(e,t,n)=>{var r=n(4869),a=n(4578);e.exports=function(e,t){var n=a(e,t,"get");return r(e,n)},e.exports.__esModule=!0,e.exports.default=e.exports},8478:(e,t,n)=>{var r=n(9194),a=n(4578);e.exports=function(e,t,n){var i=a(e,t,"set");return r(e,i,n),n},e.exports.__esModule=!0,e.exports.default=e.exports},1795:(e,t,n)=>{var r=n(4573);function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,r(a.key),a)}}e.exports=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},366:(e,t,n)=>{var r=n(4573);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},4560:(e,t,n)=>{var r=n(93);function a(){return"undefined"!=typeof Reflect&&Reflect.get?(e.exports=a=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=a=function(e,t,n){var a=r(e,t);if(a){var i=Object.getOwnPropertyDescriptor(a,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},e.exports.__esModule=!0,e.exports.default=e.exports),a.apply(this,arguments)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},7474:e=>{function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},7964:(e,t,n)=>{var r=n(3903);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},5656:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},8442:(e,t,n)=>{var r=n(2125).default,a=n(1185);e.exports=function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return a(e)},e.exports.__esModule=!0,e.exports.default=e.exports},3333:(e,t,n)=>{var r=n(2125).default;function a(){"use strict";e.exports=a=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var a=t&&t.prototype instanceof m?t:m,i=Object.create(a.prototype),s=new O(r||[]);return o(i,"_invoke",{value:A(e,n,s)}),i}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var p={};function m(){}function v(){}function w(){}var g={};d(g,l,(function(){return this}));var b=Object.getPrototypeOf,_=b&&b(b(F([])));_&&_!==n&&i.call(_,l)&&(g=_);var k=w.prototype=m.prototype=Object.create(g);function y(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(a,o,s,l){var u=h(e[a],e,o);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==r(d)&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(d).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,l)}))}l(u.arg)}var a;o(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(i,i):i()}})}function A(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return R()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var s=L(o,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=h(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function L(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,L(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var a=h(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,p;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function F(e){if(e){var t=e[l];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:R}}function R(){return{value:void 0,done:!0}}return v.prototype=w,o(k,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:v,configurable:!0}),v.displayName=d(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,d(e,c,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},y(E.prototype),d(E.prototype,u,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,a,i){void 0===i&&(i=Promise);var o=new E(f(e,n,r,a),i);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(k),d(k,c,"Generator"),d(k,l,(function(){return this})),d(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=F,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=i.call(a,"catchLoc"),l=i.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;T(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:F(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},3903:e=>{function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},93:(e,t,n)=>{var r=n(7474);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},577:(e,t,n)=>{var r=n(2125).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4573:(e,t,n)=>{var r=n(2125).default,a=n(577);e.exports=function(e){var t=a(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},2125:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},8047:(e,t,n)=>{var r=n(3333)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r](i,i.exports,n),i.loaded=!0,i.exports}return n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n(6004)})()));