(()=>{var e={926:e=>{function t(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}e.exports=function(e){return function(){var n=this,i=arguments;return new Promise((function(r,a){var o=e.apply(n,i);function s(e){t(o,r,a,s,l,"next",e)}function l(e){t(o,r,a,s,l,"throw",e)}s(void 0)}))}},e.exports.default=e.exports,e.exports.__esModule=!0},358:e=>{e.exports=function(e,t){return t.get?t.get.call(e):t.value},e.exports.default=e.exports,e.exports.__esModule=!0},625:e=>{e.exports=function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}},e.exports.default=e.exports,e.exports.__esModule=!0},575:e=>{e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0},486:e=>{e.exports=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)},e.exports.default=e.exports,e.exports.__esModule=!0},226:(e,t,n)=>{var i=n(358),r=n(486);e.exports=function(e,t){var n=r(e,t,"get");return i(e,n)},e.exports.default=e.exports,e.exports.__esModule=!0},962:(e,t,n)=>{var i=n(625),r=n(486);e.exports=function(e,t,n){var a=r(e,t,"set");return i(e,a,n),n},e.exports.default=e.exports,e.exports.__esModule=!0},913:e=>{function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e},e.exports.default=e.exports,e.exports.__esModule=!0},713:e=>{e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0},318:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},8:e=>{function t(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=t=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),t(n)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0},757:(e,t,n)=>{e.exports=n(666)},639:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LIBRARY_STYLES=void 0,t.LIBRARY_STYLES="\n        .wallkit-modal-wrapper {\n            z-index: 100;\n            position: fixed;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background: rgba(18, 18, 20, 0.9);\n            display: flex;\n            align-items: center;\n            justify-content: flex-start;\n            flex-direction: column;\n            overflow-y: auto;\n            padding: 70px 15px 20px;\n        }\n\n        .wallkit-modal-wrapper__content {\n            background-color: #fff;\n            flex-shrink: 0;\n            position: relative;\n            box-sizing: border-box;\n            overflow: hidden;\n        }\n        \n        @media screen and (max-width: 500px) {\n            .wallkit-modal-wrapper__content {\n                width: 100%;\n                min-width: auto!important;\n            }\n        }\n\n        .wallkit-modal-wrapper__close-btn {\n            position: absolute;\n            right: 10px;\n            top: 10px;\n            cursor: pointer;\n            color: #000;\n            font-size: 37px;\n            width: 37px;\n            height: 37px;\n            text-align: center;\n            line-height: 34px;\n        }\n\n        .wallkit-modal-wrapper .wk-frame {\n            transition: all 0.3s linear 0s;\n            max-width: 100%;\n            border: none;\n        }\n\n        .wallkit-auth-modal {\n            z-index: 999;\n        }\n\n        .wallkit-auth-modal .wallkit-modal-wrapper__content {\n            padding: 20px;\n        }\n\n        .wallkit-auth-modal .wallkit-auth-modal__title {\n            font-family: Roboto, sans-serif;\n            text-align: center;\n        }\n\n        button:focus {\n            background-color: #000;\n        }\n"},425:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FIREBASE_TOKEN_NAME=t.WALLKIT_TOKEN_NAME=t.WALLKIT_DEV_FIREBASE_CONFIG=t.WALLKIT_FIREBASE_CONFIG=t.WALLKIT_FRAME_ID=t.WALLKIT_FIREBASE_UI_PLACEHOLDER_ID=t.WALLKIT_MODAL_MIN_HEIGHT=t.WALLKIT_MODAL_MIN_WIDTH=t.WALLKIT_MODAL_CONTENT_CLASSNAME=t.WALLKIT_MODAL_CLOSE_BTN_CLASSNAME=t.WALLKIT_MODAL_WRAPPER_CLASSNAME=t.ALLOWED_ORIGINS=t.WALLKIT_CDN_ASSETS_URL=t.WALLKIT_CDN_URL=t.WALLKIT_POPUP_DEV_URL=t.WALLKIT_POPUP_URL=void 0,t.WALLKIT_POPUP_URL="https://wallkit.net/popups",t.WALLKIT_POPUP_DEV_URL="https://dev.wallkit.net/popups";t.WALLKIT_CDN_URL="https://cdn.wallkit.net",t.WALLKIT_CDN_ASSETS_URL="https://cdn.wallkit.net/assets";var n=[document.location.origin,"http://127.0.0.1:8000","https://wallkit.net","https://dev.wallkit.net","https://demo.wallkit.net"];t.ALLOWED_ORIGINS=n,t.WALLKIT_MODAL_WRAPPER_CLASSNAME="wallkit-modal-wrapper",t.WALLKIT_MODAL_CLOSE_BTN_CLASSNAME="wallkit-modal-wrapper__close-btn",t.WALLKIT_MODAL_CONTENT_CLASSNAME="wallkit-modal-wrapper__content",t.WALLKIT_MODAL_MIN_WIDTH="500",t.WALLKIT_MODAL_MIN_HEIGHT="250",t.WALLKIT_FIREBASE_UI_PLACEHOLDER_ID="firebase-ui-placeholder",t.WALLKIT_FRAME_ID="wk-frame",t.WALLKIT_FIREBASE_CONFIG={apiKey:"AIzaSyAoRdxZIlUE0HInqtzDid6rNxluhs5nCqg",authDomain:"wallkit-production.firebaseapp.com",databaseURL:"https://wallkit-production.firebaseio.com",projectId:"wallkit-production",storageBucket:"wallkit-production.appspot.com",messagingSenderId:"779443518820",appId:"1:779443518820:web:ffc6660647590674e20e71",measurementId:"G-GWJ1GC5B30"},t.WALLKIT_DEV_FIREBASE_CONFIG={apiKey:"AIzaSyCmIluc9x63JOu7I5UMZ8q5M4AbluBeC8o",authDomain:"wallkit-258413.firebaseapp.com",databaseURL:"https://wallkit-258413.firebaseio.com",projectId:"wallkit-258413",storageBucket:"wallkit-258413.appspot.com",messagingSenderId:"767802802956",appId:"1:767802802956:web:e8fc363619c47f7fff7f29",measurementId:"G-ER6R7Z47R3"},t.WALLKIT_TOKEN_NAME="wk-token",t.FIREBASE_TOKEN_NAME="firebase-token"},334:(e,t,n)=>{"use strict";var i=n(318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DEFAULT_ERROR_MESSAGES=t.ERRORS_TYPES=void 0;var r=i(n(575)),a=i(n(913)),o={DOM_ERROR:"DOM_ERROR",ARGUMENT_ERROR:"ARGUMENT_ERROR"};t.ERRORS_TYPES=o;var s={DOM_ERROR:"DOM Manipulation gone wrong",ARGUMENT_ERROR:"One of the argument were not provided"};t.DEFAULT_ERROR_MESSAGES=s;var l=function(){function e(){(0,r.default)(this,e)}return(0,a.default)(e,null,[{key:"isErrorRecognisable",value:function(e){return!!o[e]}},{key:"getErrorTypeMessage",value:function(e){var t;return null!==(t=s[e])&&void 0!==t?t:"Unrecognised Error"}},{key:"handleError",value:function(t,n){if(n&&this.isErrorRecognisable(n)){var i=null!=t?t:e.getErrorTypeMessage(n),r="ERROR::".concat(n,"; ").concat(i,";");throw console.log(r),new e(r)}var a="ERROR::".concat(n,";");throw console.log(a),new e(a)}},{key:"checkRequiredArgument",value:function(e,t){void 0===e&&this.handleError("Argument ".concat(t," is not provided"),o.ARGUMENT_ERROR)}}]),e}();t.default=l},236:(e,t,n)=>{"use strict";var i=n(318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(575)),a=i(n(913)),o=i(n(226)),s=i(n(962)),l=i(n(375)),u=i(n(65)),c=i(n(754)),d=n(372),h=new WeakMap,f=new WeakMap,p=new WeakMap,v=new WeakMap,E=function(){function e(t){(0,r.default)(this,e),h.set(this,{writable:!0,value:void 0}),f.set(this,{writable:!0,value:void 0}),p.set(this,{writable:!0,value:void 0}),v.set(this,{writable:!0,value:void 0}),(0,s.default)(this,h,{parseUTM:void 0===(null==t?void 0:t.parseUTM)||t.parseUTM}),(0,s.default)(this,p,new u.default),(0,s.default)(this,f,new l.default),(0,s.default)(this,v,new c.default),this.utmTags={}}return(0,a.default)(e,[{key:"parseUTMTags",value:function(){var e=this;if(!window.location.search.includes("utm"))return{};var t=new URLSearchParams(window.location.search),n={};return["utm_source","utm_medium","utm_campaign"].forEach((function(e){t.get(e)&&(n[e]=t.get(e))})),this.utmTags=n,(0,o.default)(this,p).isAuthenticated()?(0,o.default)(this,f).methods.updateUser({extra:this.utmTags}):this.hasUTMTags&&(0,o.default)(this,v).subscribe(d.SUCCESS_AUTH,(function(){(0,o.default)(e,f).methods.updateUser({extra:e.utmTags})}),{once:!0}),n}},{key:"hasUTMTags",get:function(){return!!Object.keys(this.utmTags).length}},{key:"init",value:function(){!1!==(0,o.default)(this,h).parseUTM&&this.parseUTMTags()}}]),e}();t.default=E},930:(e,t,n)=>{"use strict";var i=n(318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(757)),a=i(n(926)),o=i(n(713)),s=i(n(8)),l=i(n(575)),u=i(n(913)),c=i(n(226)),d=i(n(962)),h=n(369),f=n(813),p=n(425);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var m=new WeakMap,A=new WeakSet,L=new WeakSet,w=function(){function e(t){var n,i,r,a,o;(0,l.default)(this,e),L.add(this),A.add(this),m.set(this,{writable:!0,value:void 0}),(0,d.default)(this,m,null==t?void 0:t.mode),this.config=null==t?void 0:t.config,this.providers=null==t?void 0:t.providers,this.tosURL=null==t?void 0:t.tosURL,this.privacyPolicyURL=null==t?void 0:t.privacyPolicyURL,this.captchaKey=null!==(n=null==t?void 0:t.captchaKey)&&void 0!==n?n:"6LeNZrwbAAAAAKXPTmJj5KMdUwI2GE6XAUbCU6DM",this.firebase=null,this.firebaseui=null,this.elementPlaceholder=null!==(i=null==t?void 0:t.elementSelector)&&void 0!==i?i:"#".concat(p.WALLKIT_FIREBASE_UI_PLACEHOLDER_ID),this.onSuccessAuth=null!==(r=null==t?void 0:t.onSuccessAuth)&&void 0!==r?r:null,this.onAuthStateChanged=null!==(a=null==t?void 0:t.onAuthStateChanged)&&void 0!==a?a:null,this.uiShown=null!==(o=null==t?void 0:t.uiShown)&&void 0!==o?o:null}var t;return(0,u.default)(e,[{key:"allowedProviders",get:function(){return{google:this.firebase.auth.GoogleAuthProvider.PROVIDER_ID,email:this.firebase.auth.EmailAuthProvider.PROVIDER_ID,facebook:this.firebase.auth.FacebookAuthProvider.PROVIDER_ID,apple:"apple.com",microsoft:"microsoft.com"}}},{key:"formatSelectedProviders",value:function(e){var t=this,n=[];return Array.isArray(e)&&(n=e.map((function(e){if("object"===(0,s.default)(e)){if(t.allowedProviders[e.provider])return E(E({},e),{},{provider:t.allowedProviders[e.provider]})}else if(t.allowedProviders[e])return t.allowedProviders[e]})).filter((function(e){return!!e}))),n}},{key:"initFirebase",value:function(e){var t=this,n=e.config,i=e.providers,r=void 0===i?["email","google"]:i,a=e.tosUrl,o=void 0===a?"https://wallkit.net":a,s=e.privacyPolicyUrl,l=void 0===s?"https://wallkit.net":s,u="dev"===(0,c.default)(this,m)?p.WALLKIT_DEV_FIREBASE_CONFIG:p.WALLKIT_FIREBASE_CONFIG;this.firebase.initializeApp(null!=n?n:u);var d=new this.firebaseui.auth.AuthUI(this.firebase.auth());d.disableAutoSignIn();var h={callbacks:{signInSuccessWithAuthResult:function(e){e.user.getIdToken().then((function(n){var i={user:e.user,userId:e.user.uid,token:n};t.onSuccessAuth&&t.onSuccessAuth(i,e)}))},uiShown:function(){t.uiShown&&t.uiShown()}},signInFlow:"popup",signInOptions:this.formatSelectedProviders(r),credentialHelper:this.firebaseui.auth.CredentialHelper.GOOGLE_YOLO,tosUrl:o,privacyPolicyUrl:l};d.start(this.elementPlaceholder,h),this.firebaseui=d,this.firebase.auth().onAuthStateChanged(_(this,L,y).bind(this))}},{key:"reset",value:function(){this.firebaseui&&(this.firebaseui.reset(),this.firebaseui.start(this.elementPlaceholder))}},{key:"logout",value:function(){var e=this;return new Promise((function(t){e.firebase&&e.firebase.auth?e.firebase.auth().signOut().then((function(){return t(!0)})):t(!1)}))}},{key:"authWithCustomToken",value:(t=(0,a.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!this.firebase||!this.firebase.auth){e.next=5;break}return e.next=4,this.firebase.auth().signInWithCustomToken(t);case 4:return e.abrupt("return",e.sent);case 5:return e.abrupt("return",!1);case 8:return e.prev=8,e.t0=e.catch(0),console.error("Custom Token Auth Fail"),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(e){return t.apply(this,arguments)})},{key:"init",value:function(){var e=this;_(this,A,T).call(this).then((function(){e.initFirebase({config:e.config,providers:e.providers,tosUrl:e.tosURL,privacyPolicyUrl:e.privacyPolicyURL})}))}}]),e}();function T(){var e=this;return new Promise((function(t,n){(0,f.insertScript)("https://www.gstatic.com/firebasejs/8.7.0/firebase-app.js","firebase-app",(function(){var n=[{url:"https://www.gstatic.com/firebasejs/8.7.0/firebase-analytics.js",id:"firebase-analytics",defer:!0,onload:function(){return r()}},{url:"https://www.gstatic.com/firebasejs/8.7.0/firebase-auth.js",id:"firebase-auth",defer:!0,onload:function(){return r()}},{url:"https://www.gstatic.com/firebasejs/8.7.0/firebase-firestore.js",id:"firebase-firestore",defer:!0,onload:function(){return r()}},{url:"https://www.gstatic.com/firebasejs/ui/4.8.0/firebase-ui-auth.js",id:"firebase-ui",defer:!0,onload:function(){return r()}},{url:"https://www.gstatic.com/firebasejs/8.7.0/firebase-app-check.js",id:"firebase-app-check",defer:!0,onload:function(){return r()}}],i=0,r=function(){++i===n.length&&(e.firebase=window.firebase,e.firebaseui=window.firebaseui,t({firebase:window.firebase,firebaseui:window.firebaseui}))};(0,h.loadScripts)(n),(0,f.loadCSS)("https://www.gstatic.com/firebasejs/ui/4.8.0/firebase-ui-auth.css","firebase-ui-styles")}))}))}function y(e){var t=this;e&&e.getIdToken().then((function(e){t.onAuthStateChanged&&t.onAuthStateChanged(e)}))}t.default=w},697:(e,t,n)=>{"use strict";var i=n(318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(757)),a=i(n(926)),o=i(n(575)),s=i(n(913)),l=i(n(226)),u=i(n(962)),c=i(n(372)),d=n(813),h=n(369),f=i(n(375)),p=i(n(754));function v(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var E=new WeakMap,_=new WeakSet,m=new WeakSet,A=function(){function e(t,n){if((0,o.default)(this,e),m.add(this),_.add(this),E.set(this,{writable:!0,value:void 0}),!t)throw Error("Authentication Instance is not provided");this.enabled=!!n,this.authentication=t,this.options=n,this.loaded=!1,this.valid=!1,this.siteKey=null==n?void 0:n.siteKey,this.grecaptcha=null,(0,u.default)(this,E,new f.default),this.events=new p.default}var t,n,i;return(0,s.default)(e,[{key:"setOptions",value:function(e){return e&&(this.options=e,this.enabled=!0),this}},{key:"load",value:(i=(0,a.default)(r.default.mark((function e(){var t,n=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.options){e.next=3;break}return e.abrupt("return",!1);case 3:if(!this.loaded){e.next=5;break}return e.abrupt("return",!0);case 5:t=[{url:"https://www.google.com/recaptcha/api.js",id:"recaptcha-script",defer:!0,onload:function(){n.loaded=!0,n.grecaptcha=window.grecaptcha,n.events.notify(c.default.RECAPTCHA_LOADED,!0),Promise.resolve(!0)}}],window.onRecaptchaAuth=v(this,m,w).bind(this),v(this,_,L).call(this),this.hideBadge(),(0,h.loadScripts)(t),e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,this,[[0,12]])}))),function(){return i.apply(this,arguments)})},{key:"hideBadge",value:function(){var e=(0,d.createElement)("style");e.innerText=".grecaptcha-badge {\n                    visibility: hidden;\n                };",(0,d.injectInHead)(e)}},{key:"resetProcess",value:function(){this.grecaptcha&&this.grecaptcha.reset(),this.authentication.firebase.reset(),this.authentication.modal.toggleLoader(!1)}},{key:"initCaptchaProcess",value:(n=(0,a.default)(r.default.mark((function e(){var t,n,i,a,o,s,l=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{this.valid=!1,this.grecaptcha&&this.grecaptcha.reset(),t=function(){l.valid||(l.events.notify(c.default.local.RECAPTCHA_VALIDATION_FAILED),l.authentication.firebase.reset(),l.authentication.modal.toggleLoader(!0))},n=function(){l.authentication.modal.toggleLoader(!0),l.grecaptcha.ready((function(){l.grecaptcha.execute().then((function(){l.events.subscribe(c.default.local.MODAL_CLOSED,(function(){return l.resetProcess()}),{once:!0})})).catch((function(){return l.resetProcess()}))}))},i=function(){n();var e=document.querySelector(".firebaseui-id-email"),i=document.querySelector(".firebaseui-id-page-sign-in .firebaseui-id-submit"),r=document.querySelector(".firebaseui-id-page-sign-in .firebaseui-id-secondary-link");e&&(e.addEventListener("input",(function(){t()})),e.addEventListener("keydown",(function(e){e.code&&"Enter"===e.code&&t()}))),r&&(r.onclick=function(){t()}),i&&(i.onclick=function(){t()})},a=document.querySelector('.firebaseui-idp-button[data-provider-id="password"]'),o=document.querySelector(".firebaseui-id-email"),a?a.addEventListener("click",i.bind(this)):o&&((s=document.querySelector(".firebaseui-id-page-sign-in .firebaseui-id-submit"))&&(s.onclick=function(){t()}),o.addEventListener("input",(function(){l.valid||(o.blur(),n())})))}catch(e){this.authentication.firebase.reset(),console.error("error",e)}case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"init",value:(t=(0,a.default)(r.default.mark((function e(){var t;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.options&&!this.loaded){e.next=3;break}return e.abrupt("return",!1);case 3:if(!0!==this.options){e.next=12;break}return e.next=6,(0,l.default)(this,E).methods.getReCaptchaSettings();case 6:if(!(t=e.sent)||!t.active){e.next=10;break}return this.siteKey=t.recaptcha_public_key,e.abrupt("return",this.load());case 10:e.next=13;break;case 12:return e.abrupt("return",this.load());case 13:return e.abrupt("return",!1);case 16:return e.prev=16,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",!1);case 20:case"end":return e.stop()}}),e,this,[[0,16]])}))),function(){return t.apply(this,arguments)})}]),e}();function L(){var e=(0,d.createElement)("div");e.classList.add("g-recaptcha"),e.dataset.sitekey=this.siteKey,e.dataset.size="invisible",e.dataset.callback="onRecaptchaAuth",this.authentication.modal.modalContent.appendChild(e)}function w(e){var t=this;return(0,l.default)(this,E).methods.validateReCaptchaToken(e).then((function(){t.events.notify(c.default.local.RECAPTCHA_VALIDATION_SUCCESS),t.valid=!0,t.authentication.modal.toggleLoader(!1)})).catch((function(){t.valid=!1})).finally((function(){t.authentication.modal.toggleLoader(!1)}))}t.default=A},109:(e,t,n)=>{"use strict";var i=n(318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(575)),a=i(n(913)),o=i(n(226)),s=i(n(962)),l=i(n(797)),u=n(98),c=new WeakMap,d=function(){function e(t,n){(0,r.default)(this,e),c.set(this,{writable:!0,value:void 0}),t&&((0,s.default)(this,c,t),n?this.set(n):this.token=this.getStoredTokenValue()||null)}return(0,a.default)(e,[{key:"get",value:function(){return this.token}},{key:"getStoredTokenValue",value:function(){return l.default.getItem((0,o.default)(this,c))||null}},{key:"remove",value:function(){this.token=null,(0,u.removeCookie)((0,o.default)(this,c)),l.default.removeItem((0,o.default)(this,c))}},{key:"set",value:function(e){this.token=e,(0,u.setCookie)((0,o.default)(this,c),e,{expires:"Fri, 31 Dec 9999 23:59:59 GMT",path:"/"}),l.default.setItem((0,o.default)(this,c),e)}}]),e}();t.default=d},65:(e,t,n)=>{"use strict";var i=n(318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(757)),a=i(n(926)),o=i(n(713)),s=i(n(8)),l=i(n(575)),u=i(n(913)),c=i(n(226)),d=i(n(962)),h=i(n(852)),f=i(n(930)),p=n(425),v=i(n(372)),E=i(n(754)),_=i(n(408)),m=i(n(375)),A=i(n(109)),L=i(n(697));function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var b=new WeakMap,k=new WeakSet,O=new WeakSet,g=new WeakSet,S=new WeakSet,I=function(){function e(t){var n=this;if((0,l.default)(this,e),S.add(this),g.add(this),O.add(this),k.add(this),b.set(this,{writable:!0,value:void 0}),e.instance)return e.instance;if(e.instance=this,(0,d.default)(this,b,t),this.token=new A.default(p.WALLKIT_TOKEN_NAME),this.firebaseToken=new A.default(p.FIREBASE_TOKEN_NAME),this.frame=new _.default,this.sdk=new m.default,null!=t&&t.firebase){this.modal=y(this,k,R).call(this),this.modal.init();var i={mode:t.mode,onAuthStateChanged:this.updateFirebaseToken.bind(this),onSuccessAuth:this.onSuccessAuth.bind(this),uiShown:this.onFirebaseInit.bind(this),onAuthFail:this.onFirebaseAuthFail.bind(this)};"object"===(0,s.default)(t.firebase)&&(i=T(T({},i),t.firebase)),this.firebase=new f.default(i),this.firebase.init()}this.reCaptcha=new L.default(this,null==t?void 0:t.reCaptcha),this.reCaptcha.events.subscribe(v.default.local.RECAPTCHA_VALIDATION_FAILED,(function(){y(n,g,M).call(n,"ReCaptcha Validation Failed! Please try again!")})),this.reCaptcha.events.subscribe(v.default.local.RECAPTCHA_VALIDATION_SUCCESS,(function(){y(n,S,W).call(n)})),null!=t&&t.reCaptcha&&(this.isAuthenticated()||this.reCaptcha.init()),this.events=new E.default}var t,n;return(0,u.default)(e,[{key:"isAuthenticated",value:function(){return this.sdk?this.sdk.methods.isAuthenticated():!!this.token.get()}},{key:"onSuccessAuth",value:function(e){var t=this;this.modal.toggleLoader(!0),this.updateFirebaseToken(e.token),this.events.notify(v.default.local.SUCCESS_FIREBASE_AUTH,e),this.authInWallkit(e.token).then((function(e){e?t.modal.hide():t.firebase.reset(),t.modal.toggleLoader(!1)})).catch((function(e){return function(e){t.firebase.reset(),t.modal.toggleLoader(!1),y(t,g,M).call(t,(null==e?void 0:e.message)||"Something went wrong!")}(e)}))}},{key:"authInWallkit",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return y(this,S,W).call(this),new Promise((function(n){t?e.sdk.methods.authenticateWithFirebase(t).then((function(t){var i=t.token,r=t.existed;e.setToken(i);var a=setTimeout((function(){n(!1)}),1e4);e.sdk.methods.subscribeLocalEvent("user",(function t(){clearTimeout(a),e.sdk.methods.unsubscribeLocalEvent("user",t),e.events.notify(v.default.local.SUCCESS_AUTH,{register:!r}),n(!0)}))})).catch((function(t){var i;y(e,g,M).call(e,null==t||null===(i=t.response)||void 0===i?void 0:i.error_description),e.removeTokens(),n(!1)})):n(!1)}))}},{key:"show",value:(n=(0,a.default)(r.default.mark((function e(){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.modal.show();case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"updateFirebaseToken",value:function(e){this.firebaseToken.set(e),this.frame.sendEvent(v.default.wallkit.WALLKIT_EVENT_FIREBASE_TOKEN,e),this.sdk.methods.setFirebaseToken(e)}},{key:"onFirebaseInit",value:function(){var e=this;this.reCaptcha.enabled&&this.reCaptcha.loaded?this.reCaptcha.initCaptchaProcess():this.reCaptcha.loaded||this.events.subscribe(v.default.local.RECAPTCHA_LOADED,(function(){e.reCaptcha.initCaptchaProcess()}),{once:!0}),this.modal.toggleLoader(!1)}},{key:"removeToken",value:function(){this.token.remove()}},{key:"removeFirebaseToken",value:function(){this.firebaseToken.remove()}},{key:"removeTokens",value:function(){this.removeToken(),this.removeFirebaseToken()}},{key:"setToken",value:function(e){this.token.set(e),this.sdk.methods.setToken(e)}},{key:"logout",value:function(){var e=this;this.removeToken(),this.firebase.logout().then((function(t){t&&(e.removeFirebaseToken(),e.reCaptcha.enabled&&!e.reCaptcha.loaded?e.reCaptcha.init().then((function(){e.firebase.reset()})).catch((function(t){console.error(t),e.firebase.reset()})):e.reCaptcha.loaded?(e.firebase.reset(),e.reCaptcha.grecaptcha.reset(),e.reCaptcha.initCaptchaProcess()):e.firebase.reset())}))}},{key:"dispatchTokens",value:function(){this.isAuthenticated()&&(this.token.get()&&this.frame.sendEvent(v.default.wallkit.WALLKIT_EVENT_TOKEN,this.token.get()),this.firebaseToken.get()&&this.frame.sendEvent(v.default.wallkit.WALLKIT_EVENT_FIREBASE_TOKEN,this.firebaseToken.get()))}},{key:"handleTicketsToken",value:(t=(0,a.default)(r.default.mark((function e(t){var n,i,a;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.sdk.methods.getAuthTokensByTicketPassToken(t);case 3:if(!(n=e.sent)){e.next=19;break}return e.next=7,this.firebase.authWithCustomToken(n.firebase_custom_token);case 7:return i=e.sent,e.next=10,i.user.getIdToken();case 10:return a=e.sent,this.updateFirebaseToken(a),this.setToken(n.token),e.next=15,this.sdk.methods.getUser();case 15:return this.dispatchTokens(),this.events.notify(v.default.local.SUCCESS_AUTH,!0),this.events.notify(v.default.local.TICKETS_TOKEN_AUTH_SUCCESS,!0),e.abrupt("return",!0);case 19:return e.abrupt("return",!1);case 22:return e.prev=22,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",e.t0);case 26:case"end":return e.stop()}}),e,this,[[0,22]])}))),function(e){return t.apply(this,arguments)})},{key:"onFirebaseAuthFail",value:function(e){this.modal.toggleLoader(!1)}},{key:"handleOneTapResponse",value:function(e){var t=e.credential;this.frame.sendEvent(v.default.wallkit.WALLKIT_EVENT_ONE_TAP_SIGN_IN,t)}},{key:"init",value:function(){y(this,O,C).call(this)}}]),e}();function R(){var e,t,n,i='<div>\n                                        <div id="authorization-error"></div>\n                                        <h2 class="wallkit-auth-modal__title">'.concat(null!==(e=null===(t=(0,c.default)(this,b))||void 0===t?void 0:t.modalTitle)&&void 0!==e?e:"Sign In",'</h2>\n                                        <div id="').concat(p.WALLKIT_FIREBASE_UI_PLACEHOLDER_ID,'"></div>\n                                     </div>');return new h.default({modalName:"auth-modal",content:(null===(n=(0,c.default)(this,b))||void 0===n?void 0:n.content)||i,className:"wallkit-auth-modal",initialLoader:!0})}function C(){var e=this;this.events.subscribe(v.default.local.FRAME_MESSAGE,(function(t){var n=t.name,i=t.value;switch(n){case v.default.wallkit.WALLKIT_EVENT_TOKEN:i&&e.setToken(i);break;case v.default.wallkit.WALLKIT_EVENT_AUTH:case v.default.wallkit.WALLKIT_EVENT_REGISTRATION:case v.default.wallkit.WALLKIT_EVENT_GET_TOKEN:if(i){var r=i.token;e.setToken(r)}break;case v.default.wallkit.WALLKIT_FIREBASE_TOKEN:e.firebaseToken.set(i),e.sdk&&e.sdk.methods.setFirebaseToken(i);break;case v.default.wallkit.WALLKIT_EVENT_FIREBASE_CUSTOM_TOKEN:i&&e.firebase.authWithCustomToken(i);break;case v.default.wallkit.WALLKIT_LOGOUT:e.logout()}}))}function M(e){var t=document.getElementById("authorization-error");t&&(t.innerHTML=e||"")}function W(){y(this,g,M).call(this,null)}t.default=I},189:(e,t,n)=>{"use strict";var i=n(318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(575)),a=i(n(913)),o=i(n(962)),s=i(n(375));function l(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var u=new WeakMap,c=new WeakSet,d=new WeakSet,h=function(){function e(t,n){(0,r.default)(this,e),d.add(this),c.add(this),u.set(this,{writable:!0,value:void 0}),this.content=t,(0,o.default)(this,u,n),this.sdk=new s.default,this.accessCount=0,this.accessCountLimit=0}return(0,a.default)(e,[{key:"formatTaxonomies",value:function(e){var t={},n=[],i=[],r=function(r){var a;i.push(r),n.push(e[r].label);var o="term_keys[".concat(r,"]"),s="term_titles[".concat(r,"]"),l=t[o],u=t[s];null!==(a=e[r])&&void 0!==a&&a.items&&e[r].items.forEach((function(e){l?l.push(e.slug):t[o]=[e.slug],u?u.push(e.slug):t[s]=[e.name]})),t[o]=t[o].join(","),t[s]=t[s].join(",")};for(var a in e)r(a);return t.taxonomy_titles=n.join(","),t.taxonomy_keys=i.join(","),t}},{key:"checkContentAccessAndSync",value:function(e){var t=this,n={type:e.type,title:e.title,link:e.link||window.location.href,image:e.image||null};return Object.assign(n,this.formatTaxonomies(e.taxonomies)),this.sdk.client.get({path:l(this,d,p).call(this,e.id,n)}).then((function(n){return t.sdk.methods.isAuthenticated()&&t.getAccessDetails(e.id),{allowed:n.allow,data:n}})).catch((function(e){return{allowed:!1,error:e}}))}},{key:"checkAccess",value:function(){var e=this;return this.sdk.methods.checkAccess(this.content.id).then((function(t){return e.sdk.methods.isAuthenticated()&&e.getAccessDetails(e.content.id),{allowed:t.allow,data:t}})).catch((function(t){return"incorrect_content_key"===t.error?e.checkContentAccessAndSync(e.content):{allowed:!1,error:t}}))}},{key:"getAccessDetails",value:function(e){var t=this;return this.sdk.client.get({path:"/user/content-access-details/".concat(e)}).then((function(e){if(e){var n=e.content_terms;return t.accessCount=n.usedLimitInPeriod,t.accessCountLimit=n.accessLimit,{accessCount:t.accessCount,accessCountLimit:t.accessCountLimit}}return{accessCount:0,accessCountLimit:0}})).catch((function(e){return e}))}}]),e}();function f(e){var t=[];for(var n in e)void 0!==e[n]&&t.push("".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(e[n])));return t.join("&")}function p(e,t){var n=l(this,c,f).call(this,t);return"/user/content-sync-and-check/".concat(e,"?").concat(n)}t.default=h},372:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.WALLKIT_EVENT_FIREBASE_CUSTOM_TOKEN=t.WALLKIT_FRAME_ROUTE_CHANGE=t.WALLKIT_EVENT_ONE_TAP_SIGN_IN=t.WALLKIT_EVENT_REGISTRATION=t.WALLKIT_EVENT_USER=t.WALLKIT_EVENT_AUTH=t.WALLKIT_EVENT_GET_TOKEN=t.WALLKIT_FRAME_READY=t.WALLKIT_EVENT_TOKEN=t.WALLKIT_EVENT_FIREBASE_TOKEN=t.WALLKIT_FIREBASE_TOKEN=t.WALLKIT_LOGOUT=t.WALLKIT_CHANGE_FRAME=t.TICKETS_TOKEN_AUTH_SUCCESS=t.RECAPTCHA_VALIDATION_SUCCESS=t.RECAPTCHA_VALIDATION_FAILED=t.RECAPTCHA_LOADED=t.MODAL_CLOSED=t.FRAME_MODAL_CLOSED=t.AUTH_MODAL_CLOSED=t.FRAME_MESSAGE=t.WALLKIT_SDK_LOADED=t.SUCCESS_FIREBASE_AUTH=t.SUCCESS_AUTH=t.MODAL_CREATED=t.FRAME_MOUNTED=t.FRAME_CREATED=void 0;var n="frame-created";t.FRAME_CREATED=n;var i="frame-mounted";t.FRAME_MOUNTED=i;var r="modal-created";t.MODAL_CREATED=r;var a="success-auth";t.SUCCESS_AUTH=a;var o="success-firebase-auth";t.SUCCESS_FIREBASE_AUTH=o,t.WALLKIT_SDK_LOADED="wallkit-js-sdk-loaded";var s="frame-message";t.FRAME_MESSAGE=s;var l="auth-modal-closed";t.AUTH_MODAL_CLOSED=l;var u="frame-modal-closed";t.FRAME_MODAL_CLOSED=u;var c="modal-closed";t.MODAL_CLOSED=c;var d="recaptcha-loaded";t.RECAPTCHA_LOADED=d;var h="recaptcha-validation-failed";t.RECAPTCHA_VALIDATION_FAILED=h;var f="recaptcha-validation-success";t.RECAPTCHA_VALIDATION_SUCCESS=f;var p="tickets-token-auth-success";t.TICKETS_TOKEN_AUTH_SUCCESS=p,t.WALLKIT_CHANGE_FRAME="wk-event-modal";var v="wk-event-logout";t.WALLKIT_LOGOUT=v;var E="wk-firebase-token";t.WALLKIT_FIREBASE_TOKEN=E;var _="wk-event-firebase-token";t.WALLKIT_EVENT_FIREBASE_TOKEN=_;var m="wk-event-token";t.WALLKIT_EVENT_TOKEN=m;var A="wk-event-modals-ready";t.WALLKIT_FRAME_READY=A;var L="wk-event-get-token";t.WALLKIT_EVENT_GET_TOKEN=L;var w="wk-event-auth";t.WALLKIT_EVENT_AUTH=w;var T="wk-event-user";t.WALLKIT_EVENT_USER=T;var y="wk-event-registration";t.WALLKIT_EVENT_REGISTRATION=y;var b="wk-event-one-tap-sign-in";t.WALLKIT_EVENT_ONE_TAP_SIGN_IN=b;var k="wk-event-route-change";t.WALLKIT_FRAME_ROUTE_CHANGE=k;var O="wk-event-firebase-custom-token";t.WALLKIT_EVENT_FIREBASE_CUSTOM_TOKEN=O;var g={local:{FRAME_CREATED:n,FRAME_MOUNTED:i,MODAL_CREATED:r,SUCCESS_AUTH:a,SUCCESS_FIREBASE_AUTH:o,FRAME_MESSAGE:s,AUTH_MODAL_CLOSED:l,FRAME_MODAL_CLOSED:u,MODAL_CLOSED:c,RECAPTCHA_LOADED:d,RECAPTCHA_VALIDATION_FAILED:h,RECAPTCHA_VALIDATION_SUCCESS:f,TICKETS_TOKEN_AUTH_SUCCESS:p},wallkit:{FRAME_CREATED:n,WALLKIT_LOGOUT:v,WALLKIT_FIREBASE_TOKEN:E,WALLKIT_EVENT_FIREBASE_TOKEN:_,WALLKIT_EVENT_TOKEN:m,WALLKIT_FRAME_READY:A,WALLKIT_EVENT_GET_TOKEN:L,WALLKIT_EVENT_AUTH:w,WALLKIT_EVENT_USER:T,WALLKIT_EVENT_REGISTRATION:y,WALLKIT_EVENT_ONE_TAP_SIGN_IN:b,WALLKIT_FRAME_ROUTE_CHANGE:k,WALLKIT_EVENT_FIREBASE_CUSTOM_TOKEN:O}};t.default=g},754:(e,t,n)=>{"use strict";var i=n(318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(575)),a=i(n(913)),o=function(){function e(){return(0,r.default)(this,e),e.instance?e.instance:(e.instance=this,this.listeners=[],this)}return(0,a.default)(e,[{key:"subscribe",value:function(e,t,n){this.listeners.push({name:e,callback:t,options:n})}},{key:"unsubscribe",value:function(e,t){this.listeners=this.listeners.filter((function(n){return n.name!==e||n.callback!==t}))}},{key:"notify",value:function(e,t){var n=[];this.listeners.forEach((function(i,r){var a;e===i.name&&(i.callback(t),null!=i&&null!==(a=i.options)&&void 0!==a&&a.once&&n.push(r))})),this.listeners=this.listeners.filter((function(e,t){return!n.includes(t)}))}}]),e}();t.default=o},408:(e,t,n)=>{"use strict";var i=n(318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(575)),a=i(n(913)),o=n(813),s=n(425),l=n(372),u=i(n(754)),c=new WeakSet,d=function(){function e(t){if((0,r.default)(this,e),c.add(this),e.instance)return e.instance;e.instance=this,this.currentFrameName="",this.options=t,this.frameElement=null,this.ready=!1,this.events=new u.default}return(0,a.default)(e,[{key:"element",get:function(){return this.frameElement}},{key:"getFrameURL",get:function(){var e="dev"===this.options.mode?s.WALLKIT_POPUP_DEV_URL:s.WALLKIT_POPUP_URL;return"".concat(e,"?PUBLIC_KEY=").concat(this.options.public_key,"&version=").concat(this.options.version)}},{key:"createFrame",value:function(){return this.frameElement=(0,o.createElement)("iframe",{id:s.WALLKIT_FRAME_ID,className:s.WALLKIT_FRAME_ID,attributes:{scrolling:"no",allowtransparency:"true",frameborder:"0",width:s.WALLKIT_MODAL_MIN_WIDTH,height:s.WALLKIT_MODAL_MIN_HEIGHT}}),this.frameElement.setAttribute("src",this.getFrameURL),this.events.notify(l.FRAME_CREATED,!0),this.frameElement}},{key:"resize",value:function(e,t){e=e>=s.WALLKIT_MODAL_MIN_WIDTH?e:s.WALLKIT_MODAL_MIN_WIDTH,t=t>=s.WALLKIT_MODAL_MIN_HEIGHT?t:s.WALLKIT_MODAL_MIN_HEIGHT,this.frameElement&&(this.frameElement.width=e,this.frameElement.height=t)}},{key:"sendEvent",value:function(e,t,n){if(this.frameElement&&this.frameElement.contentWindow){var i=this.frameElement.contentWindow;this.events.notify(e,t),i.postMessage({name:e,value:t,params:n},"*")}}},{key:"openFrame",value:function(e,t){var n=this;this.currentFrameName=e,this.ready?this.sendEvent(l.WALLKIT_CHANGE_FRAME,e,t):this.events.subscribe(l.WALLKIT_FRAME_READY,(function(){n.sendEvent(l.WALLKIT_CHANGE_FRAME,e,t)}),{once:!0})}},{key:"onFrameReady",value:function(){var e,t;this.ready=!0,null!==(e=this.options)&&void 0!==e&&e.onReady&&(null===(t=this.options)||void 0===t||t.onReady())}},{key:"init",value:function(){return function(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}(this,c,h).call(this),this.createFrame()}}]),e}();function h(){var e=this;this.events.subscribe(l.WALLKIT_FRAME_ROUTE_CHANGE,(function(t){e.currentFrameName=t})),this.events.subscribe(l.WALLKIT_FRAME_READY,(function(t){!0===t&&e.onFrameReady()}))}t.default=d},852:(e,t,n)=>{"use strict";var i=n(318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(713)),a=i(n(575)),o=i(n(913)),s=n(425),l=i(n(813)),u=n(369),c=n(37),d=i(n(754)),h=n(372);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var v=new WeakSet,E=new WeakSet,_=new WeakSet,m=new WeakSet,A=new WeakSet,L=new WeakSet,w=new WeakSet,T=new WeakSet,y=function(){function e(t){(0,a.default)(this,e),T.add(this),w.add(this),L.add(this),A.add(this),m.add(this),_.add(this),E.add(this),v.add(this),this.options=t,this.modalFrame=t?t.resourceFrame:null,this.content=t?t.content:null,this.modalWrapper=null,this.modalContent=null,this.loaderElement=null,this.isLoading=!1,this.closeOutside=!0,this.onClose=t?t.onClose:null}return(0,o.default)(e,[{key:"bindCloseEvent",value:function(e){return e.addEventListener("click",this.hide.bind(this))}},{key:"insertContent",value:function(e){this.modalContent&&e&&("string"==typeof e?this.modalContent.insertAdjacentHTML("beforeend",e):e instanceof HTMLElement&&this.modalContent.appendChild(e))}},{key:"toggleLoader",value:function(e){this.isLoading=e,this.loaderElement.style.display=e?"flex":"none"}},{key:"open",value:function(e,t){this.modalFrame&&(this.modalFrame.openFrame(e,t),this.show())}},{key:"destroy",value:function(){}},{key:"show",value:function(){this.modalWrapper.style.display="flex"}},{key:"hide",value:function(){(new d.default).notify(h.MODAL_CLOSED,{name:p(this,v,b).call(this)}),this.onClose&&this.onClose(),this.modalWrapper.style.display="none"}},{key:"resize",value:function(e,t){this.modalFrame&&this.modalFrame.resize(e,t)}},{key:"sendEvent",value:function(e,t,n){this.modalFrame&&this.modalFrame.sendEvent(e,t,n)}},{key:"openByHash",value:function(){var e=(0,c.parseModalHashURL)();e&&this.open(e.name,e.params)}},{key:"onReady",value:function(){var e;null!==(e=this.options)&&void 0!==e&&e.onReady&&this.options.onReady(this)}},{key:"init",value:function(){p(this,m,g).call(this),p(this,A,S).call(this),p(this,L,I).call(this),p(this,w,R).call(this),this.onReady()}}]),e}();function b(){var e,t;return null!==(e=null===(t=this.options)||void 0===t?void 0:t.modalName)&&void 0!==e?e:"wk-modal"}function k(e,t,n){for(var i=p(this,v,b).call(this)+"-"+t,a=0,o=i;l.default.checkIfElementExists("#"+o);)o=i+"-"+ ++a;return l.default.createElement(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:o},n))}function O(){var e=p(this,E,k).call(this,"div","close-btn",{className:s.WALLKIT_MODAL_CLOSE_BTN_CLASSNAME});return e.innerHTML="&#xd7;",this.bindCloseEvent(e),e}function g(){var e,t,n=this,i=s.WALLKIT_MODAL_WRAPPER_CLASSNAME;return null!==(e=this.options)&&void 0!==e&&e.className&&(i+=" "+(null===(t=this.options)||void 0===t?void 0:t.className)),this.modalWrapper=p(this,E,k).call(this,"div","wrapper",{styles:{display:"none"},className:i}),this.modalWrapper.addEventListener("click",(function(e){e.target.id===n.modalWrapper.id&&n.closeOutside&&n.hide()})),this.modalWrapper}function S(){return this.modalContent=p(this,E,k).call(this,"div","content",{className:s.WALLKIT_MODAL_CONTENT_CLASSNAME}),this.modalContent.style.minWidth=s.WALLKIT_MODAL_MIN_WIDTH+"px",this.modalContent.style.minHeight=s.WALLKIT_MODAL_MIN_HEIGHT+"px",this.modalContent}function I(){var e;this.loaderElement=p(this,E,k).call(this,"div","wallkit-modal-spinner",{className:"wallkit-spinner",styles:{display:null!==(e=this.options)&&void 0!==e&&e.initialLoader?"flex":"none"}}),this.loaderElement.insertAdjacentHTML("beforeend",'<div class="wallkit-spinner__container"><div class="cube1"></div><div class="cube2"></div></div>')}function R(){return p(this,T,C).call(this),this.modalWrapper.appendChild(this.modalContent),this.modalContent.appendChild(this.loaderElement),this.modalContent.appendChild(p(this,_,O).call(this)),this.modalFrame?this.insertContent(this.modalFrame.init()):this.modalContent&&this.insertContent(this.content),l.default.injectInBody(this.modalWrapper)}function C(){(0,u.loadWallkitAsset)("css","1.0","spinner")}t.default=y},375:(e,t,n)=>{"use strict";var i=n(318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(575)),a=i(n(913)),o=i(n(226)),s=i(n(962)),l=n(813),u=n(425),c=n(372),d=i(n(754)),h=new WeakMap,f=new WeakMap,p=new WeakMap,v=function(){function e(t){return(0,r.default)(this,e),h.set(this,{writable:!0,value:void 0}),f.set(this,{writable:!0,value:void 0}),p.set(this,{writable:!0,value:void 0}),e.instance?e.instance:t?(e.instance=this,this.methods=null,this.client=null,(0,s.default)(this,h,t),(0,s.default)(this,f,new d.default),(0,s.default)(this,p,"dev"===t.mode?"https://api.dev.wallkit.net/api/v1":void 0),void(window.Wallkit?this.onLoad():this.load())):new Error("No Options Provided")}return(0,a.default)(e,[{key:"onLoad",value:function(){var e,t;window.Wallkit&&(window.Wallkit.init({resource:(0,o.default)(this,h).public_key,api_url:(0,o.default)(this,p)}),this.methods=window.Wallkit,this.client=window.Wallkit.client,(0,o.default)(this,f).notify(c.WALLKIT_SDK_LOADED,window.Wallkit),null!==(e=(0,o.default)(this,h))&&void 0!==e&&e.onLoaded&&(null===(t=(0,o.default)(this,h))||void 0===t||t.onLoaded()))}},{key:"awaitLoad",value:function(){var e=this;return new Promise((function(t){e.methods?t(e):(0,o.default)(e,f).subscribe(c.WALLKIT_SDK_LOADED,(function(){return t(e)}))}))}},{key:"load",value:function(){(0,l.insertScript)("".concat(u.WALLKIT_CDN_URL,"/js/sdk/0.0.44/wallkit.umd.min.js"),"wallkit-js-sdk",this.onLoad.bind(this))}}]),e}();t.default=v},813:(e,t,n)=>{"use strict";var i=n(8);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.insertScript=t.loadCSS=t.injectInHead=t.injectInBody=t.createElement=t.checkIfElementExists=t.isDocumentAvailable=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=o?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(r,s,l):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}(n(334));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}var o=function(){return!!document};t.isDocumentAvailable=o;var s=function(e){return o()?!!document.querySelector(e):r.default.handleError("Document is not available",r.ERRORS_TYPES.DOM_ERROR)};t.checkIfElementExists=s;var l=function(e,t){if(!o())return r.default.handleError("Document is not available",r.ERRORS_TYPES.DOM_ERROR);if(!e)return r.default.checkRequiredArgument(e);var n=document.createElement(e),i=null!=t?t:{},a=i.id,s=i.className,l=i.styles,u=i.attributes;if(a&&(n.id=a),s&&n.setAttribute("class",s),l&&Object.keys(l)&&Object.keys(l).length)for(var c in l)l.hasOwnProperty(c)&&(n.style[c]=l[c]);if(u&&Object.keys(u)&&Object.keys(u).length)for(var d in u)u.hasOwnProperty(d)&&(n[d]=u[d]);return n};t.createElement=l;var u=function(e){return o()?e?document.body.appendChild(e):r.default.checkRequiredArgument(e,"element"):r.default.handleError("Document is not available",r.ERRORS_TYPES.DOM_ERROR)};t.injectInBody=u,t.injectInHead=function(e){return o()?e?document.head.appendChild(e):r.default.checkRequiredArgument(e,"element"):r.default.handleError("Document is not available",r.ERRORS_TYPES.DOM_ERROR)};var c=function(e,t){if(!o())return r.default.handleError("Document is not available",r.ERRORS_TYPES.DOM_ERROR);if(!s("#"+t)){var n=document.querySelector("head"),i=document.createElement("link");return t&&(i.id=t),i.rel="stylesheet",i.type="text/css",i.href=e,i.media="all",n.appendChild(i)}};t.loadCSS=c;var d=function(e,t,n){if(!o())return r.default.handleError("Document is not available",r.ERRORS_TYPES.DOM_ERROR);if(!s("#"+t)){var i=l("script",{id:t,attributes:{src:e}});return n&&i.addEventListener("load",n,{once:!0}),u(i)}};t.insertScript=d;var h={createElement:l,injectInBody:u,checkIfElementExists:s,loadCSS:c,insertScript:d};t.default=h},98:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.removeCookie=t.setCookie=void 0;var n=function(e,t,n){var i=(n=n||{}).expires;if("number"==typeof i&&i){var r=new Date;r.setTime(r.getTime()+1e3*i),i=n.expires=r}i&&i.toUTCString&&(n.expires=i.toUTCString()),t=encodeURIComponent(t);var a="".concat(e,"=").concat(t);for(var o in n){a+="; "+o;var s=n[o];s&&(a+="="+s)}document.cookie=a};t.setCookie=n;var i=function(e){document.cookie="".concat(e,"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;")};t.removeCookie=i;var r={setCookie:n,removeCookie:i};t.default=r},369:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.loadScripts=t.loadWallkitAsset=void 0;var i=n(813),r=n(425),a=function(e,t,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];switch(e){case"css":var o=n;return o+=a?".min.css":".css",void(0,i.loadCSS)("".concat(r.WALLKIT_CDN_ASSETS_URL,"/css/").concat(t,"/").concat(o),"wk-css-".concat(n));default:return}};t.loadWallkitAsset=a;var o=function(e){Array.isArray(e)&&e.forEach((function(e){(0,i.insertScript)(e.url,e.id,e.onload)}))};t.loadScripts=o;var s={loadWallkitAsset:a,loadScripts:o};t.default=s},797:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={setItem:function(e,t){return this.isAvailable()?window.localStorage.setItem(e,t):null},getItem:function(e){return this.isAvailable()?window.localStorage.getItem(e):null},removeItem:function(e){if(this.isAvailable())return window.localStorage.removeItem(e)},isAvailable:function(){try{return window.localStorage.setItem("",""),window.localStorage.removeItem(""),!0}catch(e){return!1}}};t.default=n},900:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isApplePayAvailable=void 0,t.isApplePayAvailable=function(){try{return!!window.ApplePaySession&&window.ApplePaySession.canMakePayments()}catch(e){return console.error("ApplePay Error",e),!1}}},37:(e,t,n)=>{"use strict";var i=n(318);Object.defineProperty(t,"__esModule",{value:!0}),t.resetHash=t.parseAuthTokenHash=t.parseModalHashURL=void 0;var r=i(n(8));t.parseModalHashURL=function(){var e=/#WkModal\((.*)\)$/.exec(decodeURIComponent(window.location.hash));if(e&&e[1]){var t=e[1].split(/,(.+)/);if(void 0!==t[1])try{t[1]=JSON.parse(t[1])}catch(e){t[1]={value:t[1].trim()}}return window.location.hash="",{name:t[0],params:"object"===(0,r.default)(t[1])?t[1]:null}}},t.parseAuthTokenHash=function(){var e=decodeURIComponent(window.location.hash);if(null!=e&&e.includes("wk-authorize")){var t=e.split("="),n=null==t?void 0:t[1];if(n)return n}return null},t.resetHash=function(){window.location.hash="";var e=window.location.href.replace("#","");window.history.pushState("","",e)}},666:e=>{var t=function(e){"use strict";var t,n=Object.prototype,i=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var r=t&&t.prototype instanceof E?t:E,a=Object.create(r.prototype),o=new S(i||[]);return a._invoke=function(e,t,n){var i=d;return function(r,a){if(i===f)throw new Error("Generator is already running");if(i===p){if("throw"===r)throw a;return R()}for(n.method=r,n.arg=a;;){var o=n.delegate;if(o){var s=k(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=f;var l=c(e,t,n);if("normal"===l.type){if(i=n.done?p:h,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=p,n.method="throw",n.arg=l.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var d="suspendedStart",h="suspendedYield",f="executing",p="completed",v={};function E(){}function _(){}function m(){}var A={};l(A,a,(function(){return this}));var L=Object.getPrototypeOf,w=L&&L(L(I([])));w&&w!==n&&i.call(w,a)&&(A=w);var T=m.prototype=E.prototype=Object.create(A);function y(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(r,a,o,s){var l=c(e[r],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,s)}))}s(l.arg)}var r;this._invoke=function(e,i){function a(){return new t((function(t,r){n(e,i,t,r)}))}return r=r?r.then(a,a):a()}}function k(e,n){var i=e.iterator[n.method];if(i===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,k(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var r=c(i,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,v;var a=r.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function g(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function I(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function n(){for(;++r<e.length;)if(i.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:R}}function R(){return{value:t,done:!0}}return _.prototype=m,l(T,"constructor",m),l(m,"constructor",_),_.displayName=l(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,s,"GeneratorFunction")),e.prototype=Object.create(T),e},e.awrap=function(e){return{__await:e}},y(b.prototype),l(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,i,r,a){void 0===a&&(a=Promise);var o=new b(u(t,n,i,r),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(T),l(T,s,"Generator"),l(T,a,(function(){return this})),l(T,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=I,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(g),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(i,r){return s.type="throw",s.arg=e,n.next=i,r&&(n.method="next",n.arg=t),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=i.call(o,"catchLoc"),u=i.call(o,"finallyLoc");if(l&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),g(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;g(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,i){return this.delegate={iterator:I(e),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var a=t[i]={exports:{}};return e[i](a,a.exports,n),a.exports}(()=>{"use strict";var e,t,i,r=n(318),a=r(n(713)),o=r(n(575)),s=r(n(913)),l=r(n(65)),u=r(n(852)),c=r(n(408)),d=r(n(375)),h=r(n(754)),f=r(n(236)),p=r(n(189)),v=n(639),E=n(813),_=n(900),m=n(425),A=n(372),L=n(37);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function b(){var e=this;window.addEventListener("message",(function(t){var n=t.data,i=n.value,r=n.name,a=t.origin;e.events.notify(r,i),e.events.notify(A.FRAME_MESSAGE,{name:r,value:i});try{if(m.ALLOWED_ORIGINS.includes(a)&&r)switch(r){case"wk-event-modals-ready":e.authentication.isAuthenticated()?e.frame.sendEvent("wk-event-applepay-ready",(0,_.isApplePayAvailable)()):e.frame.sendEvent("wk-event-get-token",e.config.public_key);break;case"wk-event-resize":0!==i.width&&0!==i.height&&e.popup.resize(i.width,i.height);break;case"show-firebase-auth":var o=i;e.popup.hide(),e.events.subscribe(A.SUCCESS_AUTH,(function(){o&&e.popup.open(o)}),{once:!0}),e.authentication.show();break;case"wk-event-close-modal":e.popup.hide();break;case"wk-event-reload-page":e.popup.hide(),location.reload();break;case"wk-event-storage-available":i||e.authentication.dispatchTokens();break;case"wk-event-close-on-wrapper":e.popup.closeOutside=i}}catch(e){console.log("ERROR",e)}}))}function k(){var e=(0,E.createElement)("style");e.innerHTML=v.LIBRARY_STYLES,(0,E.injectInHead)(e)}function O(){var e=(0,L.parseAuthTokenHash)();e&&(this.authentication.handleTicketsToken(e),(0,L.resetHash)())}window.WallkitIntegration=(e=new WeakSet,t=new WeakSet,i=new WeakSet,function(){function n(r){var a=this;(0,o.default)(this,n),i.add(this),t.add(this),e.add(this),this.config=r,this.events=new h.default,this.frame=new c.default(T(T({},r),{},{onReady:function(){return a.popup.toggleLoader(!1)}})),this.popup=new u.default({resourceFrame:this.frame,initialLoader:!0,onReady:function(e){e.openByHash()},onClose:function(){a.events.notify(A.FRAME_MODAL_CLOSED,{name:a.frame.currentFrameName})}}),this.content=p.default,this.sdk=new d.default(T(T({},r),{},{onLoaded:function(){var e,t,n,i,o,s;a.authentication=new l.default(T(T({},r),{},{firebase:null==r||null===(e=r.auth)||void 0===e?void 0:e.firebase,modalTitle:null==r||null===(t=r.auth)||void 0===t||null===(n=t.modal)||void 0===n?void 0:n.title,content:null==r||null===(i=r.auth)||void 0===i||null===(o=i.modal)||void 0===o?void 0:o.content,reCaptcha:null==r||null===(s=r.auth)||void 0===s?void 0:s.reCaptcha})),a.analytics=new f.default(null==r?void 0:r.analytics),a.init()}}))}return(0,s.default)(n,[{key:"modal",value:function(e,t){this.popup.open(e,t)}},{key:"init",value:function(){y(this,t,k).call(this),this.popup.init(),this.authentication.init(),this.analytics.init(),y(this,e,b).call(this),y(this,i,O).call(this),this.config.onInit&&this.config.onInit(this)}}]),n}()),WallkitIntegration})()})();