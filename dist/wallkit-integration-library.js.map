{"version":3,"file":"wallkit-integration-library.js","mappings":"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AACA,gBAAgB;AAChB;AACA;AACA,GAAG,EAAE,yBAAyB,SAAS,yBAAyB;AAChE,kBAAkB;AAClB;AACA;AACA;AACA;AACA,KAAK;AACL,uDAAuD;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,aAAa;AACb,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kFAAkF;AAClF;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,YAAY;AACzB;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,QAAQ;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,+CAA+C,QAAQ;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA,+CAA+C,QAAQ;AACvD;AACA;AACA;AACA,KAAK;AACL;AACA,+CAA+C,QAAQ;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA,sCAAsC,yBAAyB,SAAS,yBAAyB;;;;;;;ACrTjG;AACA;AACA;AACA;AACA,GAAG,EAAE,yBAAyB,SAAS,yBAAyB;AAChE;AACA;AACA,kCAAkC,yBAAyB,SAAS,yBAAyB;;;;;;;ACP7F,qBAAqB,mBAAO,CAAC,IAAqB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,yBAAyB,SAAS,yBAAyB;;;;;;;ACR5F,cAAc,sCAAiC;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,yBAAyB,SAAS,yBAAyB;;;;;;;ACX1F,cAAc,sCAAiC;AAC/C,kBAAkB,mBAAO,CAAC,GAAkB;AAC5C;AACA;AACA;AACA;AACA,iCAAiC,yBAAyB,SAAS,yBAAyB;;;;;;;ACN5F;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA,GAAG,EAAE,yBAAyB,SAAS,yBAAyB;AAChE;AACA,0BAA0B,yBAAyB,SAAS,yBAAyB;;;;;;;ACTrF;;AAEA,cAAc,mBAAO,CAAC,IAA+B;AACrD;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,IAAI;AACJ;AACA;AACA;;;;;;;UCdA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;UEtBA;UACA;UACA;UACA","sources":["webpack:///webpack/universalModuleDefinition","webpack:///./src/assets/styles.js","webpack:///./src/configs/constants.js","webpack:///./src/configs/languages.js","webpack:///./src/handlers/Error.js","webpack:///./src/index.js","webpack:///./src/managers/analytics/index.js","webpack:///./src/managers/authentication/ReCaptcha.js","webpack:///./src/managers/authentication/Token.js","webpack:///./src/managers/authentication/firebase/Firebase.js","webpack:///./src/managers/authentication/index.js","webpack:///./src/managers/call/index.js","webpack:///./src/managers/content/index.js","webpack:///./src/managers/events/events-name.js","webpack:///./src/managers/events/index.js","webpack:///./src/managers/form/buttons/TriggerButton.js","webpack:///./src/managers/form/field/CheckBoxField.js","webpack:///./src/managers/form/field/PasswordField.js","webpack:///./src/managers/form/field/index.js","webpack:///./src/managers/form/forms/AuthForm.js","webpack:///./src/managers/form/forms/ChangePasswordForm.js","webpack:///./src/managers/form/forms/ForgotPasswordForm.js","webpack:///./src/managers/form/forms/LoginForm.js","webpack:///./src/managers/form/forms/SignUpForm.js","webpack:///./src/managers/form/index.js","webpack:///./src/managers/frame/index.js","webpack:///./src/managers/localization/index.js","webpack:///./src/managers/modal/index.js","webpack:///./src/managers/sdk/index.js","webpack:///./src/managers/user/index.js","webpack:///./src/utils/DOM.js","webpack:///./src/utils/cookie.js","webpack:///./src/utils/loaders.js","webpack:///./src/utils/local-storage.js","webpack:///./src/utils/payments.js","webpack:///./src/utils/url.js","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack:///./node_modules/@babel/runtime/helpers/classApplyDescriptorGet.js","webpack:///./node_modules/@babel/runtime/helpers/classApplyDescriptorSet.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/classExtractFieldDescriptor.js","webpack:///./node_modules/@babel/runtime/helpers/classPrivateFieldGet.js","webpack:///./node_modules/@babel/runtime/helpers/classPrivateFieldSet.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/get.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/interopRequireDefault.js","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/regeneratorRuntime.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/superPropBase.js","webpack:///./node_modules/@babel/runtime/helpers/toPrimitive.js","webpack:///./node_modules/@babel/runtime/helpers/toPropertyKey.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./node_modules/@babel/runtime/regenerator/index.js","webpack:///webpack/bootstrap","webpack:///webpack/before-startup","webpack:///webpack/startup","webpack:///webpack/after-startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(self, () => {\nreturn ","export const LIBRARY_STYLES = `\n        .wallkit-modal-wrapper {\n            z-index: 100;\n            position: fixed;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background: rgba(18, 18, 20, 0.9);\n            display: flex;\n            align-items: center;\n            justify-content: flex-start;\n            flex-direction: column;\n            overflow-y: auto;\n            padding: 70px 15px 20px;\n        }\n\n        .wallkit-modal-wrapper__content {\n            background-color: #fff;\n            flex-shrink: 0;\n            position: relative;\n            box-sizing: border-box;\n            overflow: hidden;\n        }\n        \n        @media screen and (max-width: 500px) {\n            .wallkit-modal-wrapper__content {\n                width: 100%;\n                min-width: auto!important;\n            }\n        }\n\n        .wallkit-modal-wrapper__close-btn {\n            position: absolute;\n            right: 10px;\n            top: 10px;\n            cursor: pointer;\n            color: #000;\n            font-size: 37px;\n            width: 37px;\n            height: 37px;\n            text-align: center;\n            line-height: 34px;\n        }\n\n        .wallkit-modal-wrapper .wk-frame {\n            transition: all 0.3s linear 0s;\n            max-width: 100%;\n            border: none;\n        }\n\n        .wallkit-auth-modal {\n            z-index: 999;\n        }\n\n        .wallkit-auth-modal .wallkit-modal-wrapper__content {\n            padding: 20px;\n        }\n\n        .wallkit-auth-modal .wallkit-auth-modal__title {\n            font-family: Roboto, sans-serif;\n            text-align: center;\n        }\n        \n        .wk-auth-form {\n            display: flex;\n            flex-direction: column;\n        }\n\n        .wk-form-field {\n            display: flex;\n            flex-direction: column;\n            font-family: Oxygen, sans-serif;\n            margin-bottom: 10px;\n        }\n\n        .wk-form-field .wk-form-field__label {\n            font-weight: 500;\n            color: #333;\n            margin-bottom: 5px;\n        }\n\n        .wk-form-field .wk-form-field__input-wrapper {\n            margin-bottom: 5px;\n            position: relative;\n        }\n        \n        .wk-eye-toggle {\n            background: url(https://www.gstatic.com/images/icons/material/system/1x/visibility_black_24dp.png);\n            width: 24px;\n            height: 24px;\n        }\n        \n        .wk-form-field__field-description {\n            font-size: 11px;\n            color: #989898;\n        }\n        \n        .wk-eye-toggle.wk-eye-toggled {\n            background: url(https://www.gstatic.com/images/icons/material/system/1x/visibility_off_black_24dp.png);\n        }\n        \n        .wk-form-field__field-affix {\n            position: absolute;\n            right: 5px;\n            top: 0;\n            bottom: 0;\n        }\n        \n        .wk-form-field .wk-form-field__input {\n            border-radius: 0;\n            border: 0;\n            border-bottom: 1px solid #ccc;\n            padding: 5px;\n            box-sizing: border-box;\n            width: 100%;\n        }\n        \n        .wk-field-list {\n            list-style-type: circle;\n            padding-left: 12px;\n            margin-top: 1px;\n        }\n\n        .wk-form-field .wk-form-field__input:focus {\n            border-bottom: 1px solid #3f51b5;\n            outline: none;\n        }\n\n        .wk-form-field .wk-form-field__message {\n            font-size: 12px;\n        }\n\n        .wk-auth-form-button {\n            background-color: #db4437;\n            direction: ltr;\n            font-weight: 500;\n            height: auto;\n            line-height: normal;\n            max-width: 220px;\n            min-height: 40px;\n            padding: 8px 16px;\n            text-align: left;\n            width: 100%;\n            box-sizing: border-box;\n            box-shadow: 0 2px 2px 0 rgba(0,0,0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.20), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n            border-radius: 2px;\n            font-family: \"Roboto\",\"Helvetica\",\"Arial\",sans-serif;\n            margin: 0 auto 15px;\n            cursor: pointer;\n        }\n        \n        .wk-auth-form-button:focus,\n        .wk-auth-form-button:active,{\n            background-color: #5b6abe;\n        }\n\n        .wk-form-field.wk-form-field--invalid .wk-form-field__input {\n            border-bottom: 1px solid #dd2c00;\n        }\n        \n        .wk-form-field.wk-form-field--checkbox.wk-form-field--invalid .wk-form-field__checkmark {\n            border-color: #dd2c00;\n        }\n\n        .wk-form-field.wk-form-field--valid .wk-form-field__input {\n            border-bottom: 1px solid green;\n        }\n\n        .wk-form-field.wk-form-field--invalid .wk-form-field__message {\n            color: #dd2c00;\n        }\n\n        .wk-form-field.wk-form-field--valid .wk-form-field__message {\n            color: green;\n        }\n\n        .wk-form .wk-form__link {\n            font-size: 14px;\n            color: #3170f3;\n            text-decoration: underline;\n        }\n\n        .wk-form {\n            font-family: Oxygen, sans-serif;\n        }\n        \n        .wk-form-header {\n            margin-bottom: 10px;\n        }\n\n        .wk-form .wk-form__footer {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n        }\n        \n        .wk-form .wk-form__footer.wk-form__footer--right {\n            justify-content: flex-end;\n        }\n\n        .wk-form .wk-form__sub-footer {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 20px;\n        }\n\n        .wk-form__reset-password {\n            text-align: right;\n        }\n\n        .wk-form-result {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n        }\n\n        .wk-form-button {\n            border: none;\n            border-radius: 2px;\n            background-color: #3f51b5;\n            color: #fff;\n            position: relative;\n            height: 36px;\n            margin: 0;\n            min-width: 64px;\n            padding: 0 16px;\n            display: inline-block;\n            font-family: \"Roboto\", \"Helvetica\", \"Arial\", sans-serif;\n            font-size: 14px;\n            font-weight: 500;\n            text-transform: uppercase;\n            letter-spacing: 0;\n            overflow: hidden;\n            will-change: box-shadow;\n            transition: box-shadow .2s cubic-bezier(0.4, 0, 1, 1),background-color .2s cubic-bezier(0.4, 0, 0.2, 1),color .2s cubic-bezier(0.4, 0, 0.2, 1);\n            outline: none;\n            cursor: pointer;\n            text-decoration: none;\n            text-align: center;\n            line-height: 36px;\n            vertical-align: middle;\n        }\n\n        .wk-form__error {\n            display: none;\n            margin: 10px 0;\n            border: 1px solid #f5c6cb;\n            border-radius: 5px;\n            color: #721c24;\n            background-color: #f8d7da;\n            line-height: 21px;\n            padding: 10px;\n        }\n\n        .wk-form__error.wk-form__error--show {\n            display: block;\n        }\n\n        .wk-form-button.wk-form-button--cancel {\n            margin-left: auto;\n            margin-right: 10px;\n            color: #3f51b5;\n            background: none;\n        }\n        \n        .wk-success-message {\n        }\n        \n        .wk-success-message__title {\n            font-weight: 500;\n            margin-bottom: 10px;\n        }\n        \n        .wk-success-message__description {\n            margin-bottom: 10px;\n        }\n        \n        .wk-success-message__description b {\n            font-weight: 500;\n        }\n\n        .wk-form-button.wk-form-button--cancel:hover {\n            background-color: hsla(0,0%,62%,.2);\n        }\n        \n        .wk-password-reset-success .wk-form-button {\n            left: 50%;\n            transform: translateX(-50%);\n        }\n        \n        .wk-form-field.wk-form-field--checkbox .wk-form-field__label {\n            position: relative;\n            padding-left: 30px;     \n            line-height: 20px;\n            font-size: 14px;     \n        } \n        \n        .wk-form-field.wk-form-field--checkbox input {\n            position: absolute;\n            opacity: 0;\n            cursor: pointer;\n            height: 0;\n            width: 0;\n        }\n        \n        .wk-form-field .wk-form-field__checkmark {\n            position: absolute;\n            top: 0;\n            left: 0;\n            height: 18px;\n            width: 18px;\n            background-color: none;\n            border: 2px solid #333;\n            box-sizing: border-box;\n            border-radius: 2px;\n        }\n        \n        .wk-form-field.wk-form-field--checkbox input:checked ~ .wk-form-field__checkmark {\n            background-color: #3f51b5;\n            border-color: #3f51b5;\n        }\n        \n        .wk-form-field__checkmark:after {\n            content: \"\";\n            position: absolute;\n            display: none;\n        }\n        \n        .wk-form-field input:checked ~ .wk-form-field__checkmark:after {\n            display: block;\n        }\n        \n        .wk-form-field .wk-form-field__checkmark:after {\n            left: 5px;\n            top: 2px;\n            width: 3px;\n            height: 7px;\n            border: solid white;\n            border-width: 0 2px 2px 0;\n            -webkit-transform: rotate(45deg);\n            -ms-transform: rotate(45deg);\n            transform: rotate(45deg);\n        }\n`;\n","// Popups\nexport const WALLKIT_POPUP_URL = 'https://wallkit.net/popups';\n// export const WALLKIT_POPUP_URL = 'http://127.0.0.1:8000/popups';\nexport const WALLKIT_POPUP_DEV_URL = 'https://dev.wallkit.net/popups';\n// export const WALLKIT_POPUP_DEV_URL = 'https://wallkit-landing.com/popups';\n// export const WALLKIT_POPUP_DEV_URL = 'http://127.0.0.1:8000/popups';\n\n// Assets\nexport const WALLKIT_CDN_URL = 'https://cdn.wallkit.net';\nexport const WALLKIT_CDN_ASSETS_URL = WALLKIT_CDN_URL + '/assets';\n\n// Safety\nexport const ALLOWED_ORIGINS = [\n    document.location.origin,\n    'http://127.0.0.1:8000',\n    'https://wallkit.net',\n    'https://dev.wallkit.net',\n    'https://demo.wallkit.net',\n    'https://wallkit-landing.com',\n];\n\n// Markup\nexport const WALLKIT_MODAL_WRAPPER_CLASSNAME = 'wallkit-modal-wrapper';\nexport const WALLKIT_MODAL_CLOSE_BTN_CLASSNAME = 'wallkit-modal-wrapper__close-btn';\nexport const WALLKIT_MODAL_CONTENT_CLASSNAME = 'wallkit-modal-wrapper__content';\nexport const WALLKIT_MODAL_MIN_WIDTH = '500';\nexport const WALLKIT_MODAL_MAX_WIDTH = '500';\nexport const WALLKIT_MODAL_MIN_HEIGHT = '250';\nexport const WALLKIT_FIREBASE_UI_PLACEHOLDER_ID = 'firebase-ui-placeholder';\nexport const WALLKIT_FIREBASE_WK_FORM_PLACEHOLDER_ID = 'wk-email-auth-form';\nexport const WALLKIT_AUTH_FORM_PLACEHOLDER_ID = 'wk-auth-form';\nexport const WALLKIT_USER_MANAGER_MODAL_FORM_PLACEHOLDER_ID = 'wk-user-manager-modal-form';\nexport const WALLKIT_FRAME_ID = 'wk-frame';\n\n// Authentication\nexport const WALLKIT_FIREBASE_CONFIG = {\n    apiKey: \"AIzaSyAoRdxZIlUE0HInqtzDid6rNxluhs5nCqg\",\n    authDomain: \"wallkit-production.firebaseapp.com\",\n    databaseURL: \"https://wallkit-production.firebaseio.com\",\n    projectId: \"wallkit-production\",\n    storageBucket: \"wallkit-production.appspot.com\",\n    messagingSenderId: \"779443518820\",\n    appId: \"1:779443518820:web:ffc6660647590674e20e71\",\n    measurementId: \"G-GWJ1GC5B30\"\n};\nexport const WALLKIT_DEV_FIREBASE_CONFIG = {\n    apiKey: \"AIzaSyCmIluc9x63JOu7I5UMZ8q5M4AbluBeC8o\",\n    authDomain: \"wallkit-258413.firebaseapp.com\",\n    databaseURL: \"https://wallkit-258413.firebaseio.com\",\n    projectId: \"wallkit-258413\",\n    storageBucket: \"wallkit-258413.appspot.com\",\n    messagingSenderId: \"767802802956\",\n    appId: \"1:767802802956:web:e8fc363619c47f7fff7f29\",\n    measurementId: \"G-ER6R7Z47R3\"\n};\nexport const WALLKIT_TOKEN_NAME = 'wk-token';\nexport const FIREBASE_TOKEN_NAME = 'firebase-token';\n","export const FB_AVAILABLE_LANGUAGES = [\n    'ar',\n    'bg',\n    'ca',\n    'zh_cn',\n    'zh_tw',\n    'hr',\n    'cs',\n    'da',\n    'nl',\n    'en',\n    'en_gb',\n    'fa',\n    'fil',\n    'fi',\n    'fr',\n    'de',\n    'el',\n    'iw',\n    'hi',\n    'hu',\n    'id',\n    'it',\n    'ja',\n    'ko',\n    'lv',\n    'lt',\n    'no',\n    'pl',\n    'pt_pt',\n    'ro',\n    'ru',\n    'sr',\n    'sk',\n    'sl',\n    'es',\n    'sv',\n    'th',\n    'tr',\n    'uk',\n    'vi'\n];","\nexport const ERRORS_TYPES = {\n    DOM_ERROR: 'DOM_ERROR',\n    ARGUMENT_ERROR: 'ARGUMENT_ERROR'\n}\n\nexport const DEFAULT_ERROR_MESSAGES = {\n    DOM_ERROR: 'DOM Manipulation gone wrong',\n    ARGUMENT_ERROR: 'One of the argument were not provided'\n}\n\n\nexport default class Error {\n    constructor() {\n    }\n\n    static isErrorRecognisable(error_type) {\n        return !!ERRORS_TYPES[error_type];\n    }\n\n    static getErrorTypeMessage(error_type) {\n        return DEFAULT_ERROR_MESSAGES[error_type] ?? 'Unrecognised Error';\n    }\n\n    static handleError(error, error_type) {\n        if (error_type && this.isErrorRecognisable(error_type)) {\n            const message = error ?? Error.getErrorTypeMessage(error_type);\n            const errorMessage = `ERROR::${error_type}; ${message};`;\n            console.log(errorMessage);\n            throw new Error(errorMessage);\n        } else {\n            const errorMessage = `ERROR::${error_type};`;\n            console.log(errorMessage);\n            throw new Error(errorMessage);\n        }\n    }\n\n    static checkRequiredArgument(argument, key) {\n        if (argument === undefined) {\n            this.handleError(`Argument ${key} is not provided`, ERRORS_TYPES.ARGUMENT_ERROR);\n        }\n    }\n}","import Authentication from './managers/authentication';\nimport Modal from './managers/modal';\nimport Frame from './managers/frame';\nimport SDK from './managers/sdk';\nimport Events from \"./managers/events\";\nimport Analytics from \"./managers/analytics\";\nimport Content from \"./managers/content\";\nimport Call from \"./managers/call\";\nimport UserManager from \"./managers/user\"\n\nimport { LIBRARY_STYLES } from './assets/styles';\n\nimport { createElement, injectInHead } from \"./utils/DOM\";\nimport { isApplePayAvailable } from './utils/payments';\n\nimport { ALLOWED_ORIGINS } from './configs/constants';\nimport { SUCCESS_AUTH, FRAME_MESSAGE, FRAME_MODAL_CLOSED } from \"./managers/events/events-name\";\nimport { parseAuthTokenHash, resetHash } from \"./utils/url\";\n\nwindow.WallkitIntegration = class WallkitIntegration {\n    constructor(options) {\n        this.config = options;\n        this.events = new Events();\n\n        this.frame = new Frame({\n            ...options,\n            onReady: () => this.popup.toggleLoader(false)\n        });\n\n        this.popup = new Modal({\n            resourceFrame: this.frame,\n            initialLoader: true,\n            onReady: (modal) => {\n                modal.openByHash();\n            },\n            onClose: () => {\n                this.events.notify(FRAME_MODAL_CLOSED, { name: this.frame.currentFrameName });\n            }\n        });\n\n        this.content = Content;\n\n        this.sdk = new SDK({\n            ...options,\n            onLoaded: () => {\n                this.authentication = new Authentication({\n                    ...options,\n                    firebase: options?.auth?.firebase,\n                    modalTitle: options?.auth?.modal?.title,\n                    content: options?.auth?.content || options?.auth?.modal?.content,\n                    reCaptcha: options?.auth?.reCaptcha,\n                });\n\n                this.analytics = new Analytics(options?.analytics);\n                this.call = new Call(this.popup, this.config);\n\n                this.init();\n\n                this.userManager = new UserManager({\n                    popup: this.popup,\n                    authentication: this.authentication\n                });\n            }\n        });\n    }\n\n    modal (name, params) {\n        this.popup.open(name, params);\n    }\n\n    on (eventName, callback, options) {\n        this.events.subscribe(eventName, callback, options);\n    }\n\n    off (eventName, callback, options) {\n        this.events.unsubscribe(eventName, callback, options);\n    }\n\n    sendEvent (name, value, params) {\n        this.frame.sendEvent(name, value, params);\n    }\n\n    #eventsListener() {\n        window.addEventListener('message', (event) => {\n            const { data: { value, name }, origin } = event;\n\n            this.events.notify(name, value);\n            this.events.notify(FRAME_MESSAGE, { name, value });\n\n            try {\n                if (ALLOWED_ORIGINS.includes(origin) && name) {\n                    switch (name) {\n                        case \"wk-event-modals-ready\" :\n                            if (this.authentication.isAuthenticated()) {\n                                this.frame.sendEvent(\"wk-event-applepay-ready\", isApplePayAvailable());\n                            } else {\n                                this.frame.sendEvent(\"wk-event-get-token\", this.config.public_key);\n                            }\n\n                            break;\n\n                        case \"wk-event-resize\" :\n                            if (value.width !== 0 && value.height !== 0) {\n                                this.popup.resize(value.width, value.height);\n                            }\n\n                            break;\n\n                        case \"show-firebase-auth\":\n                            const redirect = value;\n                            this.popup.hide();\n                            this.events.subscribe(SUCCESS_AUTH, () => {\n                                if (typeof redirect === \"string\") {\n                                    this.popup.open(redirect);\n                                }\n                            }, { once: true });\n                            this.authentication.show();\n                            this.frame.openFrame('');\n                            break;\n\n                        case \"wk-event-close-modal\" :\n                            this.popup.hide();\n\n                            break;\n\n                        case \"wk-event-reload-page\" :\n                            this.popup.hide();\n                            location.reload();\n\n                            break;\n\n                        case \"wk-event-storage-available\":\n                            if (!value) {\n                                this.authentication.dispatchTokens();\n                            }\n\n                            break;\n\n                        case \"wk-event-close-on-wrapper\":\n                            this.popup.closeOutside = value;\n                            break;\n\n                        case \"wk-firebase-change-password\" :\n                            this.popup.hide();\n                            this.userManager.showChangePassword();\n                            break;\n                    }\n                }\n            } catch (error) {\n                console.log('ERROR', error);\n            }\n        });\n    }\n\n    #insertStyles () {\n        const styles = createElement('style');\n        styles.innerHTML = LIBRARY_STYLES;\n\n        injectInHead(styles);\n    }\n\n    #recogniseURLIncomeParams () {\n        const ticketPassAuthToken = parseAuthTokenHash();\n        if (ticketPassAuthToken) {\n            this.authentication.handleTicketsToken(ticketPassAuthToken);\n            resetHash();\n        }\n    }\n\n    init() {\n        this.#insertStyles();\n        this.popup.init();\n\n        if (this.config.auth.defaultInit !== false) {\n            this.authentication.init();\n        }\n\n        this.analytics.init();\n        this.#eventsListener();\n        this.#recogniseURLIncomeParams();\n\n        if (this.config.onInit) {\n            this.config.onInit(this);\n        }\n\n        if(this.config?.call?.use){\n            this.call.init();\n        }\n\n    }\n}\n\nexport * from './managers/events/events-name';\nexport * from './configs/constants';\n\nexport default WallkitIntegration;\n","import SDK from '../sdk';\nimport Authentication from \"../authentication\";\nimport Events from \"../events\";\nimport { SUCCESS_AUTH } from \"../events/events-name\";\n\nexport default class Analytics {\n    #config;\n    #sdk;\n    #authentication;\n    #events;\n\n    constructor(options) {\n        this.#config = {\n            parseUTM: options?.parseUTM !== undefined ? options.parseUTM : true\n        };\n        this.#authentication = new Authentication();\n        this.#sdk = new SDK();\n        this.#events = new Events();\n\n        this.utmTags = {};\n    }\n\n    parseUTMTags() {\n        if (!window.location.search.includes('utm')) return {};\n\n        const queryParams = new URLSearchParams(window.location.search);\n        const utmParams = ['utm_source', 'utm_medium', 'utm_campaign'];\n\n        let foundedUTMParams = {};\n\n        utmParams.forEach((param) => {\n            if (queryParams.get(param)) {\n                foundedUTMParams[param] = queryParams.get(param);\n            }\n        });\n\n        this.utmTags = foundedUTMParams;\n\n        if (this.#authentication.isAuthenticated()) {\n            this.#sdk.methods.updateUser({\n                extra: this.utmTags\n            });\n        } else if (this.hasUTMTags) {\n            this.#events.subscribe(SUCCESS_AUTH, () => {\n                this.#sdk.methods.updateUser({\n                    extra: this.utmTags\n                });\n            }, {once: true});\n        }\n\n        return foundedUTMParams;\n    }\n\n    get hasUTMTags() {\n        return !!Object.keys(this.utmTags).length;\n    }\n\n    init() {\n        if (this.#config.parseUTM !== false) {\n            this.parseUTMTags();\n        }\n    }\n}","import EventsNames from \"../events/events-name\";\nimport { createElement, injectInBody, injectInHead, isMobile } from \"../../utils/DOM\";\nimport { loadScripts } from \"../../utils/loaders\";\nimport SDK from \"../sdk\";\nimport Events from \"../events\";\n\nexport default class ReCaptchaFirebase {\n    #sdk;\n\n    constructor(authenticationInstance, options) {\n        if (!authenticationInstance) {\n            throw Error('Authentication Instance is not provided');\n        }\n\n        this.enabled = this.isEnabled(options);\n        this.authentication = authenticationInstance;\n        this.options = options;\n        this.loaded = false;\n        this.valid = false;\n        this.siteKey = options?.siteKey;\n        this.grecaptcha = null;\n\n        this.#sdk = new SDK();\n        this.events = new Events();\n    }\n\n    isEnabled (options) {\n        if (isMobile()) {\n            return !!options && options?.mobile !== false;\n        } else {\n            return !!options;\n        }\n    }\n\n    setOptions(options) {\n        if (options) {\n            this.options = options;\n            this.enabled = true;\n        }\n\n\n        return this;\n    }\n\n    async load() {\n        try {\n            if (!this.options) {\n                return false;\n            }\n\n            if (this.loaded) {\n                return true;\n            }\n\n            const recaptchaScripts = [\n                {\n                    url: `https://www.google.com/recaptcha/api.js`,\n                    id: 'recaptcha-script',\n                    defer: true,\n                    onload: () => {\n                        this.loaded = true;\n                        this.grecaptcha = window.grecaptcha;\n                        this.events.notify(EventsNames.RECAPTCHA_LOADED, true);\n\n                        Promise.resolve(true);\n                    }\n                },\n            ];\n\n            window.onRecaptchaAuth = this.#onRecaptchaAuth.bind(this);\n            this.#initReCaptchaPlaceholder();\n            this.hideBadge();\n\n            loadScripts(recaptchaScripts);\n        } catch (e) {\n            console.error(e);\n            return false;\n        }\n    }\n\n    #initReCaptchaPlaceholder() {\n        const reCaptchaPlaceholder = createElement('div');\n        reCaptchaPlaceholder.classList.add('g-recaptcha');\n        reCaptchaPlaceholder.dataset.sitekey = this.siteKey;\n        reCaptchaPlaceholder.dataset.size = 'invisible';\n        reCaptchaPlaceholder.dataset.callback = 'onRecaptchaAuth';\n\n        if (this.authentication.modal) {\n          this.authentication.modal.modalContent.appendChild(reCaptchaPlaceholder);\n        }\n    }\n\n    #onRecaptchaAuth(token) {\n        return this.#sdk.methods.validateReCaptchaToken(token).then(() => {\n            this.events.notify(EventsNames.local.RECAPTCHA_VALIDATION_SUCCESS);\n            this.valid = true;\n            this.authentication.modal.toggleLoader(false);\n        }).catch(() => {\n            this.valid = false;\n        }).finally(() => {\n            this.authentication.modal.toggleLoader(false);\n        })\n    }\n\n    hideBadge() {\n        const style = createElement('style');\n        style.innerText = `.grecaptcha-badge {\n                    visibility: hidden;\n                };`;\n        injectInHead(style);\n    }\n\n    resetProcess() {\n        if (this.grecaptcha) {\n            this.grecaptcha.reset();\n        }\n        this.authentication.firebase.reset();\n        this.authentication.modal.toggleLoader(false);\n    }\n\n    async initCaptchaProcess() {\n        try {\n            this.valid = false;\n\n            if (this.grecaptcha) {\n                this.grecaptcha.reset();\n            }\n\n            const handleCaptchaState = () => {\n                if (!this.valid) {\n                    this.events.notify(EventsNames.local.RECAPTCHA_VALIDATION_FAILED);\n                    this.authentication.firebase.reset();\n                    this.authentication.modal.toggleLoader(true);\n                }\n            }\n\n            const executeReCaptcha = () => {\n                this.authentication.modal.toggleLoader(true);\n                this.grecaptcha.ready(() => {\n                    this.grecaptcha.execute().then(() => {\n                        this.events.subscribe(EventsNames.local.MODAL_CLOSED,\n                            () => this.resetProcess(),\n                            { once: true });\n                    }).catch(() => this.resetProcess())\n                });\n            }\n\n            const initTriggers = () => {\n                executeReCaptcha();\n\n                const emailField = document.querySelector('.firebaseui-id-email');\n                const submitBtn = document.querySelector('.firebaseui-id-page-sign-in .firebaseui-id-submit');\n                const cancelBtn = document.querySelector('.firebaseui-id-page-sign-in .firebaseui-id-secondary-link');\n\n                if (emailField) {\n                    emailField.addEventListener('input', () => {\n                        handleCaptchaState();\n                    });\n\n                    emailField.addEventListener('keydown', (event) => {\n                        if (event.code && event.code === 'Enter') {\n                            handleCaptchaState();\n                        }\n                    });\n                }\n\n                if (cancelBtn) {\n                    cancelBtn.onclick = () => {\n                        handleCaptchaState();\n                    }\n                }\n\n                if (submitBtn) {\n                    submitBtn.onclick = () => {\n                        handleCaptchaState();\n                    }\n                }\n            }\n\n            const emailBtn = document.querySelector('.firebaseui-idp-button[data-provider-id=\"password\"]');\n            const emailField = document.querySelector('.firebaseui-id-email');\n\n            if (emailBtn) {\n                emailBtn.addEventListener('click', initTriggers.bind(this));\n            } else if (emailField) {\n                const submitBtn = document.querySelector('.firebaseui-id-page-sign-in .firebaseui-id-submit');\n                if (submitBtn) {\n                    submitBtn.onclick = () => {\n                        handleCaptchaState();\n                    }\n                }\n\n                emailField.addEventListener('input', () => {\n                    if (!this.valid) {\n                        emailField.blur();\n                        executeReCaptcha();\n                    }\n                });\n            }\n        } catch (error) {\n            this.authentication.firebase.reset();\n            console.error('error', error);\n        }\n    }\n\n    async init () {\n        try {\n            if (!this.options || this.loaded) {\n                return false;\n            }\n\n            if (this.options === true) {\n                const response = await this.#sdk.methods.getReCaptchaSettings()\n\n                if (response && response.active) {\n                    this.siteKey = response.recaptcha_public_key;\n\n                    return this.load();\n                }\n\n            } else {\n                return this.load();\n            }\n\n            return false;\n        } catch (error) {\n            console.error(error);\n            return false;\n        }\n    }\n}\n","import LocalStorage from '../../utils/local-storage';\nimport { removeCookie, setCookie } from \"../../utils/cookie\";\nimport localStorage from \"../../utils/local-storage\";\n\nexport default class Token {\n    #slug;\n    #resource;\n\n    constructor(slug, value, resource) {\n        if (slug && resource) {\n            this.#resource = resource;\n            this.#slug = this.createTokenSlug(slug, resource);\n\n            if (value) {\n                this.set(value);\n            } else {\n                this.token = this.getStoredTokenValue() || null;\n            }\n        }\n    }\n\n    createTokenSlug (slug, resource) {\n        return `${slug}_${resource}`;\n    }\n\n    get() {\n        return this.token;\n    }\n\n    getStoredTokenValue() {\n        return LocalStorage.getItem(this.#slug) || null;\n    }\n\n    remove() {\n        this.token = null;\n        removeCookie(this.#slug);\n        localStorage.removeItem(this.#slug);\n    }\n\n    set(value) {\n        this.token = value;\n        setCookie(this.#slug, value, {\n            expires: 'Fri, 31 Dec 9999 23:59:59 GMT',\n            path: \"/\",\n        });\n        localStorage.setItem(this.#slug, value);\n    }\n}","import { loadScripts } from \"../../../utils/loaders\";\nimport { insertScript, loadCSS } from \"../../../utils/DOM\";\nimport {\n    WALLKIT_FIREBASE_CONFIG,\n    WALLKIT_DEV_FIREBASE_CONFIG,\n    WALLKIT_FIREBASE_UI_PLACEHOLDER_ID,\n} from \"../../../configs/constants\";\nimport { Localization } from \"../../localization\";\nimport Events from \"../../events\";\nimport {\n    FIREBASE_INIT,\n    FIREBASE_LOADED,\n    FIREBASE_UI_SHOWN\n} from \"../../events/events-name\";\n\nexport default class Firebase {\n    #mode;\n\n    constructor(options) {\n        this.events = new Events();\n\n        this.firebaseUiConfig = null;\n        this.#mode = options?.mode;\n        this.lang = Localization.assembleLanguage(options.lang || 'en');\n        this.config = options?.config;\n        this.providers = options?.providers;\n        this.tosURL = options?.tosURL;\n        this.privacyPolicyURL = options?.privacyPolicyURL;\n        this.captchaKey = options?.captchaKey ?? '6LeNZrwbAAAAAKXPTmJj5KMdUwI2GE6XAUbCU6DM';\n        this.genuineForm = options?.genuineForm ?? true;\n\n        this.firebase = null;\n        this.firebaseui = null;\n        this.elementPlaceholder = this.#getElementPlaceholder(options);\n        this.onSuccessAuth = options?.onSuccessAuth ?? null;\n        this.onAuthStateChanged = options?.onAuthStateChanged ?? null;\n        this.uiShown = options?.uiShown ?? null;\n\n        this.isUiShown = false;\n        this.initialized = false;\n        this.loaded = false;\n    }\n\n    #getElementPlaceholder(options) {\n      const defaultPlaceholder = `#${WALLKIT_FIREBASE_UI_PLACEHOLDER_ID}`;\n\n      if (this.genuineForm) {\n        return options?.elementSelector ?? defaultPlaceholder;\n      }\n\n      return defaultPlaceholder;\n    }\n\n    get allowedProviders() {\n        return {\n            'google': this.firebase.auth.GoogleAuthProvider.PROVIDER_ID,\n            'email': this.firebase.auth.EmailAuthProvider.PROVIDER_ID,\n            'facebook': this.firebase.auth.FacebookAuthProvider.PROVIDER_ID,\n            'apple': 'apple.com',\n            'microsoft': 'microsoft.com'\n        }\n    };\n\n    hideAuthForm () {\n        const element = document.querySelector(this.elementPlaceholder);\n\n        if (element) {\n            element.style.display = 'none';\n        }\n    }\n\n    showAuthForm () {\n        const element = document.querySelector(this.elementPlaceholder);\n\n        if (element) {\n            element.style.display = 'block';\n        }\n    }\n\n    #loadFirebase() {\n        return new Promise((resolve, reject) => {\n            this.loading = true;\n            const onFirebaseAppLoaded = () => {\n                const scripts = [\n                    {\n                        url: 'https://www.gstatic.com/firebasejs/8.7.0/firebase-analytics.js',\n                        id: 'firebase-analytics',\n                        defer: true,\n                        onload: () => onScriptLoaded()\n                    },\n                    {\n                        url: 'https://www.gstatic.com/firebasejs/8.7.0/firebase-auth.js',\n                        id: 'firebase-auth',\n                        defer: true,\n                        onload: () => onScriptLoaded()\n                    },\n                    {\n                        url: 'https://www.gstatic.com/firebasejs/8.7.0/firebase-firestore.js',\n                        id: 'firebase-firestore',\n                        defer: true,\n                        onload: () => onScriptLoaded()\n                    },\n                    {\n                        url: `https://www.gstatic.com/firebasejs/ui/4.8.0/firebase-ui-auth__${this.lang}.js`,\n                        id: 'firebase-ui',\n                        defer: true,\n                        onload: () => onScriptLoaded()\n                    },\n                    {\n                        url: 'https://www.gstatic.com/firebasejs/8.7.0/firebase-app-check.js',\n                        id: 'firebase-app-check',\n                        defer: true,\n                        onload: () => onScriptLoaded()\n                    },\n                ];\n\n                let loadedCounter = 0;\n                const onScriptLoaded = () => {\n                    loadedCounter++;\n\n                    if (loadedCounter === scripts.length) {\n                        this.firebase = window.firebase;\n                        this.firebaseui = window.firebaseui;\n\n                        this.loaded = true;\n                        resolve({ firebase: window.firebase, firebaseui: window.firebaseui } )\n                    }\n                };\n\n                loadScripts(scripts);\n\n                loadCSS('https://www.gstatic.com/firebasejs/ui/4.8.0/firebase-ui-auth.css','firebase-ui-styles');\n            };\n\n            insertScript('https://www.gstatic.com/firebasejs/8.7.0/firebase-app.js','firebase-app', onFirebaseAppLoaded);\n        });\n    }\n\n    formatSelectedProviders(providers) {\n        let selectedProviders = [];\n        if (Array.isArray(providers)) {\n            selectedProviders = providers.map((item) => {\n                if ((item === 'email' || item.provider === 'email') && this.genuineForm === false) {\n                    return false;\n                }\n\n                if (typeof item === \"object\") {\n                    if (this.allowedProviders[item.provider]) {\n                        return {\n                            ...item,\n                            provider: this.allowedProviders[item.provider]\n                        }\n                    }\n                } else {\n                    if (this.allowedProviders[item]) {\n                        return this.allowedProviders[item];\n                    }\n                }\n            }).filter((item) => !!item);\n        }\n\n        return selectedProviders;\n    }\n\n    #authStateChanged(user) {\n        if (user) {\n            user.getIdToken().then((token) => {\n                if (this.onAuthStateChanged) {\n                    this.onAuthStateChanged(token);\n                }\n            });\n        }\n    }\n\n    #firebaseInitApp(config) {\n        if (this.firebase.apps.length === 0) {\n            const defaultConfig = this.#mode === 'dev' ? WALLKIT_DEV_FIREBASE_CONFIG : WALLKIT_FIREBASE_CONFIG;\n            this.firebase.initializeApp(config ?? defaultConfig);\n        }\n\n        return this.firebase;\n    }\n\n    async initFirebase({\n       config,\n       providers = ['email', 'google'],\n       tosUrl = 'https://wallkit.net',\n       privacyPolicyUrl = 'https://wallkit.net'\n    }) {\n\n        this.#firebaseInitApp(config);\n\n        const firebaseuiInstance = new this.firebaseui.auth.AuthUI(this.firebase.auth());\n        firebaseuiInstance.disableAutoSignIn();\n\n        this.firebaseUiConfig = {\n            callbacks: {\n                signInSuccessWithAuthResult: (result) => {\n                    result.user.getIdToken().then((token) => {\n                        const formattedResult = {\n                            user: result.user,\n                            userId: result.user.uid,\n                            token: token\n                        }\n\n                        if (this.onSuccessAuth) {\n                            this.onSuccessAuth(formattedResult, result);\n                        }\n                    });\n                },\n                uiShown: () => {\n                    if (this.uiShown) {\n                        this.uiShown();\n                    }\n                    this.events.notify(FIREBASE_UI_SHOWN, true);\n                    this.isUiShown = true;\n                }\n            },\n            signInFlow: 'popup',\n            signInOptions: this.formatSelectedProviders(providers),\n            credentialHelper: this.firebaseui.auth.CredentialHelper.GOOGLE_YOLO,\n            tosUrl,\n            privacyPolicyUrl\n        };\n\n        this.firebaseui = firebaseuiInstance;\n        this.startFirebaseUi(this.elementPlaceholder, this.firebaseUiConfig);\n\n        this.firebase.auth().onAuthStateChanged(this.#authStateChanged.bind(this));\n\n        return true;\n    }\n\n    reset() {\n        if (this.firebaseui) {\n            this.firebaseui.reset();\n            this.firebaseui.start(this.elementPlaceholder);\n        }\n    }\n\n    startFirebaseUi(elementPlaceholder, uiConfig) {\n        this.firebaseui.start(elementPlaceholder || this.elementPlaceholder, uiConfig || this.firebaseUiConfig);\n    }\n\n    logout() {\n        return new Promise((resolve) => {\n            if (this.firebase && this.firebase.auth) {\n                this.firebase.auth().signOut().then(() => resolve(true));\n            } else {\n                resolve(false);\n            }\n        });\n    }\n\n    signIn (email, password) {\n        return this.firebase.auth().signInWithEmailAndPassword(email, password)\n            .then((result) => this.handleSuccessAuth(result));\n    }\n\n    signUp (email, password) {\n        return this.firebase.auth().createUserWithEmailAndPassword(email, password)\n            .then((result) => this.handleSuccessAuth(result));\n    }\n\n    updateName (name) {\n      if (name) {\n        const user = this.firebase.auth().currentUser;\n\n        if (user) {\n          user.updateProfile({\n            displayName: name\n          });\n        }\n      }\n    }\n\n    async handleSuccessAuth (result) {\n        try {\n            if (result) {\n                const token = await result.user.getIdToken();\n\n                const formattedResult = {\n                    operationType: result.operationType,\n                    user: result.user,\n                    userId: result.user.uid,\n                    token: token\n                }\n\n                if (this.onSuccessAuth) {\n                    this.onSuccessAuth(formattedResult, result);\n                }\n            }\n        } catch (e) {\n            console.log('ERROR:', e);\n        }\n    }\n\n    sendPasswordResetEmail(email) {\n        return this.firebase.auth().sendPasswordResetEmail(email);\n    }\n\n    async reauthenticateWithCredential (oldPassword) {\n        if (!!oldPassword) {\n            const user = this.firebase.auth().currentUser;\n            if (user) {\n                const credential = this.firebase.auth.EmailAuthProvider.credential(\n                    user.email,\n                    oldPassword\n                );\n                return await user.reauthenticateWithCredential(credential);\n            } else {\n                throw new Error('Your authorization is broken. Please login again.');\n            }\n        } else {\n            throw new Error('Old Password is empty');\n        }\n    }\n\n    async updatePassword (newPassword) {\n        if (!!newPassword) {\n            const user = this.firebase.auth().currentUser;\n            if (user) {\n                await user.updatePassword(newPassword);\n            } else {\n                throw new Error('Your authorization is broken. Please login again.');\n            }\n        } else {\n            throw new Error('New Password is empty');\n        }\n    }\n\n    async authWithCustomToken(token) {\n        try {\n            if (this.firebase && this.firebase.auth) {\n                return await this.firebase.auth().signInWithCustomToken(token);\n            }\n\n            return false;\n        } catch (error) {\n            console.error('Custom Token Auth Fail');\n            return false;\n        }\n    }\n\n    attachEmailListener (callback) {\n        const emailBtn = document.querySelector('.firebaseui-idp-button[data-provider-id=\"password\"]');\n\n        const attachListener = () => {\n            const emailField = document.querySelector('.firebaseui-id-email');\n\n            if (emailField) {\n                emailField.addEventListener('blur', (event) => {\n                    callback(event);\n                });\n            }\n        }\n\n        if (emailBtn) {\n            emailBtn.addEventListener('click', () => {\n                setTimeout(() => {\n                    attachListener();\n                });\n            })\n        } else {\n            attachListener();\n        }\n    }\n\n    init() {\n        this.#loadFirebase().then(() => {\n            this.events.notify(FIREBASE_LOADED, true)\n\n            this.initFirebase({\n                config: this.config,\n                providers: this.providers,\n                tosUrl: this.tosURL,\n                privacyPolicyUrl: this.privacyPolicyURL\n            }).then(() => {\n                this.initialized = true;\n                this.events.notify(FIREBASE_INIT, true)\n            });\n        });\n    }\n}\n","import Modal from '../modal';\nimport Firebase from \"./firebase/Firebase\";\nimport {\n  WALLKIT_FIREBASE_UI_PLACEHOLDER_ID,\n  WALLKIT_FIREBASE_WK_FORM_PLACEHOLDER_ID,\n  WALLKIT_TOKEN_NAME,\n  FIREBASE_TOKEN_NAME, WALLKIT_AUTH_FORM_PLACEHOLDER_ID\n} from \"../../configs/constants\";\nimport EventsNames, { FIREBASE_INIT, FIREBASE_LOADED, FIREBASE_UI_SHOWN } from \"../events/events-name\";\nimport Events from \"../events\";\nimport Frame from \"../frame\";\nimport SDK from \"../sdk\";\nimport Token from \"./Token\";\nimport ReCaptcha from \"./ReCaptcha\";\nimport { AuthForm } from \"../form/forms/AuthForm\";\n\nexport default class Authentication {\n    #options;\n\n    constructor(options) {\n        if (!!Authentication.instance) {\n            return Authentication.instance;\n        }\n\n        Authentication.instance = this;\n\n        this.#options = options;\n\n        this.token = new Token(WALLKIT_TOKEN_NAME, null, options.public_key);\n        this.firebaseToken = new Token(FIREBASE_TOKEN_NAME, null, options.public_key);\n\n        this.frame = new Frame();\n        this.sdk = new SDK();\n\n        if (!!options?.firebase) {\n            let config = {\n                lang: options.lang || 'en',\n                mode: options.mode,\n                onAuthStateChanged: this.updateFirebaseToken.bind(this),\n                onSuccessAuth: this.onSuccessAuth.bind(this),\n                uiShown: this.onFirebaseInit.bind(this),\n                onAuthFail: this.onFirebaseAuthFail.bind(this)\n            }\n\n            if (typeof options.firebase === \"object\") {\n                config = {\n                    ...config,\n                    ...options.firebase\n                }\n\n                if (options.firebase.genuineForm === false) {\n                    config.tosURL = '';\n                    config.privacyPolicyURL = '';\n                }\n            }\n\n            this.firebase = new Firebase(config);\n\n            if (options.firebase.genuineForm === false) {\n                this.initAuthForm();\n            }\n        }\n\n        this.reCaptcha = new ReCaptcha(this, options?.reCaptcha);\n        this.reCaptcha.events.subscribe(EventsNames.local.RECAPTCHA_VALIDATION_FAILED, () => {\n            this.#setAuthorizationError('ReCaptcha Validation Failed! Please try again!');\n        });\n        this.reCaptcha.events.subscribe(EventsNames.local.RECAPTCHA_VALIDATION_SUCCESS, () => {\n            this.#resetAuthorizationError();\n        });\n\n        this.events = new Events();\n    }\n\n    isAuthenticated() {\n        if (this.sdk) {\n            return this.sdk.methods.isAuthenticated();\n        } else {\n            return !!this.token.get();\n        }\n    }\n\n    toggleFormLoader(state) {\n        if (this.modal) {\n            this.modal.toggleLoader(state);\n        }\n    }\n\n    handleLogin (data) {\n      this.firebase.signIn(data.email, data.password)\n        .then(() => {})\n        .catch((error) => {\n          if (error.message) {\n            this.authForm.loginForm.setFormError(error.message);\n          }\n          this.reCaptcha.grecaptcha.reset();\n        });\n    }\n\n    handleSignUp (data) {\n      this.firebase.signUp(data.email, data.password)\n        .then(() => {\n          this.firebase.updateName(data.name);\n        })\n        .catch((error) => {\n          if (error.message) {\n            this.authForm.signUpForm.setFormError(error.message);\n          }\n          this.reCaptcha.grecaptcha.reset();\n        });\n    }\n\n    executeRecaptcha () {\n      this.reCaptcha.grecaptcha.ready(() => {\n        this.reCaptcha.grecaptcha.execute().then(() => {\n          this.modal.toggleLoader(true);\n        }).catch((error) => {\n          console.log('EXECUTE RECAPTCHA ERROR:', error);\n        });\n      })\n    }\n\n    initAuthForm () {\n        const { tosURL, privacyPolicyURL, termsOfService } = this.#options.firebase;\n\n        this.authForm = new AuthForm(`#${WALLKIT_FIREBASE_WK_FORM_PLACEHOLDER_ID}`, {\n            triggerButton: this.firebase.providers.length > 1,\n            signUp: this.#options.auth.signUp ?? true,\n            termsOfService: termsOfService ?? { tosURL, privacyPolicyURL },\n            onLogin: (data) => {\n              if (this.reCaptcha.enabled) {\n                this.executeRecaptcha();\n\n                this.reCaptcha.events.subscribe(\n                  EventsNames.local.RECAPTCHA_VALIDATION_SUCCESS,\n                  this.handleLogin.bind(this, data),\n                  { once: true }\n                );\n              } else {\n                this.handleLogin(data);\n              }\n            },\n            onSignUp: (data) => {\n              if (this.reCaptcha.enabled) {\n                this.executeRecaptcha();\n\n                this.reCaptcha.events.subscribe(\n                  EventsNames.local.RECAPTCHA_VALIDATION_SUCCESS,\n                  this.handleSignUp.bind(this, data),\n                  { once: true }\n                );\n              } else {\n                this.handleSignUp(data);\n              }\n            },\n            onPasswordReset: async (data) => {\n              try {\n                this.toggleFormLoader(true);\n\n                let success;\n                if (this.#options.firebase.genuinePasswordReset === false) {\n                  const { result } = await this.sdk.methods.firebasePasswordReset(data.email);\n                  success = result;\n                } else {\n                  await this.firebase.sendPasswordResetEmail(data.email);\n                  success = true;\n                }\n\n                if (success) {\n                  this.authForm.showSuccessPasswordReset();\n                } else {\n                  throw new Error('Something went wrong');\n                }\n\n                this.toggleFormLoader(false);\n              } catch (error) {\n                if (error.message) {\n                    this.authForm.forgotPasswordForm.setFormError(error.message);\n                }\n                this.toggleFormLoader(false);\n              }\n            },\n            onAuthFormShow: () => {\n                this.firebase.hideAuthForm();\n            },\n            onCancel: () => {\n                this.firebase.showAuthForm();\n                this.authForm.reset();\n            }\n        });\n    }\n\n    onSuccessAuth(data) {\n        this.toggleFormLoader(true);\n\n        const handleAuthError = (error) => {\n            this.resetAuthProcess(false);\n            this.toggleFormLoader(false);\n            this.#setAuthorizationError(error?.message || 'Something went wrong!');\n        }\n\n        this.updateFirebaseToken(data.token);\n        this.events.notify(EventsNames.local.SUCCESS_FIREBASE_AUTH, data);\n        this.authInWallkit(data.token)\n            .then((status) => {\n                if (status) {\n                    this.modal.hide();\n                    if (this.authForm) {\n                        this.authForm.hide();\n                    }\n                } else {\n                    handleAuthError();\n                }\n\n                this.toggleFormLoader(false);\n            }).catch((error) => handleAuthError(error));\n    }\n\n    authInWallkit(firebaseToken = null) {\n        this.#resetAuthorizationError();\n        return new Promise((resolve, reject) => {\n            if (firebaseToken) {\n                this.sdk.methods.authenticateWithFirebase(firebaseToken).then(({ token, existed }) => {\n                    this.setToken(token);\n\n                    const userGetTimeout = setTimeout(() => {\n                        reject(false);\n                    }, 10000);\n\n                    const userEventCallback = () => {\n                        clearTimeout(userGetTimeout);\n                        this.sdk.methods.unsubscribeLocalEvent('user', userEventCallback);\n                        this.events.notify(EventsNames.local.SUCCESS_AUTH, { register: !existed });\n                        resolve(true);\n                    };\n\n                    this.sdk.methods.subscribeLocalEvent('user', userEventCallback);\n                }).catch((error) => {\n                    console.log('error', error);\n                    this.#setAuthorizationError(error?.response?.error_description);\n                    this.removeTokens();\n                    reject(error);\n                });\n            } else {\n                resolve(false);\n            }\n        });\n    }\n\n    getDefaultAuthenticationFormContent () {\n        return `<div>\n                    <div id=\"authorization-error\"></div>\n                    <h2 class=\"wallkit-auth-modal__title\">${this.#options?.modalTitle ?? 'Sign In'}</h2>\n                    <div id=\"${WALLKIT_AUTH_FORM_PLACEHOLDER_ID}\"></div>\n                </div>`;\n    }\n\n    attachFormPlaceholders (selector = WALLKIT_AUTH_FORM_PLACEHOLDER_ID) {\n      const placeholders = `<div id=\"${WALLKIT_FIREBASE_WK_FORM_PLACEHOLDER_ID}\"></div>\n                            <div id=\"${WALLKIT_FIREBASE_UI_PLACEHOLDER_ID}\"></div>`\n\n      const targetElement = document.getElementById(selector);\n\n      if (targetElement) {\n        targetElement.innerHTML = placeholders;\n      }\n    }\n\n    render () {\n        if (this.#options.auth.renderType === 'selector') {\n            const placeholder = document.querySelector(this.#options.auth.selector);\n\n            if (placeholder) {\n                placeholder.insertAdjacentHTML('beforeend', this.#options?.content || this.getDefaultAuthenticationFormContent());\n            }\n        } else {\n            this.modal = this.#createModal();\n            this.modal.init();\n        }\n\n        this.attachFormPlaceholders();\n    }\n\n    #createModal() {\n        return new Modal({\n            modalName: 'auth-modal',\n            content: this.#options?.content || this.getDefaultAuthenticationFormContent(),\n            className: 'wallkit-auth-modal',\n            initialLoader: true\n        });\n    }\n\n    async show() {\n        this.modal.show();\n\n        if (!this.firebase.isUiShown) {\n            this.checkFirebaseInit();\n        }\n    }\n\n    checkFirebaseInit() {\n        if (!this.firebase.loaded) {\n            this.firebase.events.subscribe(FIREBASE_LOADED, () => this.checkFirebaseInit(), { once: true });\n        } else {\n            if (!this.firebase.initialized) {\n                this.firebase.events.subscribe(FIREBASE_INIT, () => this.checkFirebaseInit(), { once: true });\n            } else {\n                let shownTimeout = null;\n                if (!this.firebase.isUiShown) {\n                    shownTimeout = setTimeout(() => {\n                        this.firebase.startFirebaseUi();\n                        this.checkFirebaseInit();\n                    }, 2000);\n\n                    this.firebase.events.subscribe(FIREBASE_UI_SHOWN, () => {\n                        if (shownTimeout) {\n                            clearTimeout(shownTimeout);\n                        }\n                    });\n                }\n            }\n        }\n    }\n\n    updateFirebaseToken(token) {\n        this.firebaseToken.set(token);\n        this.frame.sendEvent(EventsNames.wallkit.WALLKIT_EVENT_FIREBASE_TOKEN, token);\n        this.sdk.methods.setFirebaseToken(token);\n    }\n\n    onFirebaseInit() {\n        try {\n          if (this.#options.firebase.genuineForm !== false) {\n            if (this.reCaptcha.enabled && this.reCaptcha.loaded) {\n              this.reCaptcha.initCaptchaProcess();\n            } else if (!this.reCaptcha.loaded) {\n              this.events.subscribe(EventsNames.local.RECAPTCHA_LOADED, () => {\n                this.reCaptcha.initCaptchaProcess();\n              }, {once: true});\n            }\n          }\n\n          this.toggleFormLoader(false);\n        } catch (e) {\n          this.toggleFormLoader(false);\n        }\n    }\n\n    removeToken() {\n        this.token.remove();\n    }\n\n    removeFirebaseToken() {\n        this.firebaseToken.remove();\n    }\n\n    removeTokens() {\n        this.removeToken();\n        this.removeFirebaseToken();\n    }\n\n    setToken(token) {\n      this.token.set(token);\n      this.sdk.methods.setToken(token);\n    }\n\n    #initListeners() {\n\n        this.events.subscribe(EventsNames.local.FRAME_MESSAGE, ({ name, value }) => {\n            switch (name) {\n                case EventsNames.wallkit.WALLKIT_EVENT_TOKEN:\n                    if (value) {\n                        this.setToken(value);\n                    }\n                    break;\n                case EventsNames.wallkit.WALLKIT_EVENT_AUTH:\n                case EventsNames.wallkit.WALLKIT_EVENT_REGISTRATION:\n                case EventsNames.wallkit.WALLKIT_EVENT_GET_TOKEN:\n                    if (value) {\n                        let token = value.token;\n                        this.setToken(token);\n                    }\n                    break;\n                case EventsNames.wallkit.WALLKIT_FIREBASE_TOKEN:\n                    this.firebaseToken.set(value);\n                    if (this.sdk) {\n                        this.sdk.methods.setFirebaseToken(value);\n                    }\n                    break;\n                case EventsNames.wallkit.WALLKIT_EVENT_FIREBASE_CUSTOM_TOKEN:\n                    if (value) {\n                        this.firebase.authWithCustomToken(value);\n                    }\n                    break;\n                case EventsNames.wallkit.WALLKIT_LOGOUT:\n                    this.logout();\n                    break;\n            }\n        });\n    }\n\n    resetAuthProcess (reset = true) {\n      this.firebase.reset();\n      this.firebase.showAuthForm();\n\n      if (this.firebase.genuineForm === false && reset) {\n        this.authForm.reset();\n      }\n\n      if (this.reCaptcha.enabled) {\n        this.reCaptcha.grecaptcha.reset();\n      }\n    }\n\n    async logout() {\n      try {\n        this.removeToken()\n        const success = await this.firebase.logout();\n\n        if (success) {\n          this.removeFirebaseToken();\n\n          if (this.reCaptcha.enabled && !this.reCaptcha.loaded) {\n            await this.reCaptcha.init();\n          } else if (this.reCaptcha.loaded) {\n            this.resetAuthProcess();\n            this.reCaptcha.grecaptcha.reset();\n\n            if (this.#options.firebase.genuineForm !== false) {\n              this.reCaptcha.initCaptchaProcess();\n            }\n          }\n        }\n\n        this.resetAuthProcess();\n      } catch (e) {\n        console.log('ERROR:', e);\n        this.resetAuthProcess();\n      }\n    }\n\n    dispatchTokens() {\n        if (this.isAuthenticated()) {\n           this.dispatchWallkitToken();\n           this.dispatchFirebaseToken();\n        }\n    }\n\n    dispatchWallkitToken() {\n        const token = this.token.get();\n        if (token) {\n            this.frame.sendEvent(EventsNames.wallkit.WALLKIT_EVENT_TOKEN, token);\n        }\n    }\n\n    dispatchFirebaseToken() {\n        const token = this.firebaseToken.get();\n        if (token) {\n            this.frame.sendEvent(EventsNames.wallkit.WALLKIT_EVENT_FIREBASE_TOKEN, token);\n        }\n    }\n\n    async handleTicketsToken(ticketPassAuthToken) {\n        try {\n            const response = await this.sdk.methods.getAuthTokensByTicketPassToken(ticketPassAuthToken);\n\n            if (response) {\n                const userCredential = await this.firebase.authWithCustomToken(response.firebase_custom_token);\n                const firebaseToken = await userCredential.user.getIdToken();\n\n                this.updateFirebaseToken(firebaseToken);\n                this.setToken(response.token);\n\n                await this.sdk.methods.getUser();\n                this.dispatchTokens();\n\n                this.events.notify(EventsNames.local.SUCCESS_AUTH, true);\n                this.events.notify(EventsNames.local.TICKETS_TOKEN_AUTH_SUCCESS, true);\n\n                return true;\n            }\n\n            return false;\n        } catch (error) {\n            console.error(error);\n            return error;\n        }\n    }\n\n    #setAuthorizationError(error) {\n        if (this.authForm?.visibleFormName) {\n            if (error === null) {\n                this.authForm[this.authForm.visibleFormName].resetFormError(error);\n            } else {\n                this.authForm[this.authForm.visibleFormName].setFormError(error);\n            }\n        } else {\n            const errorPlaceholder = document.getElementById('authorization-error');\n            if (errorPlaceholder) {\n                if (error === null) {\n                    errorPlaceholder.innerHTML = '';\n                } else {\n                    errorPlaceholder.innerHTML = error || 'Something went wrong!';\n                }\n            }\n        }\n    }\n\n    #resetAuthorizationError() {\n        this.#setAuthorizationError(null);\n    }\n\n    onFirebaseAuthFail(error) {\n        this.toggleFormLoader(false);\n    }\n\n    handleOneTapResponse({ credential }) {\n        this.frame.sendEvent(EventsNames.wallkit.WALLKIT_EVENT_ONE_TAP_SIGN_IN, credential);\n    }\n\n    init() {\n        if (!!this.#options?.firebase) {\n            // Render recaptcha before the firebase init if not custom FB form\n            if (this.#options.firebase.genuineForm !== false) {\n              if (this.reCaptcha.enabled) {\n                if (!this.isAuthenticated()) {\n                  this.reCaptcha.init();\n                }\n              }\n            }\n\n            this.render();\n            this.firebase.init();\n\n            if (this.authForm) {\n              this.authForm.render();\n              this.reCaptcha.init();\n            }\n        }\n        this.#initListeners();\n    }\n}\n","import Events from \"../events\";\nimport EventsNames from \"../events/events-name\";\nimport SDK from \"../sdk\";\n\nexport default class Call {\n    #popup;\n    #config;\n    #events;\n    #sdk;\n    #classForHandleClick;\n    #classThatReactOnTheUsersStatus;\n    #classThatReactOnTheUsersPlans;\n    #classThatReactOnTheUsersEvents;\n\n    constructor(popup, config) {\n        this.#popup = popup;\n        this.#config = config;\n        this.#events = new Events();\n        this.#sdk = new SDK();\n        this.#classForHandleClick = config?.call?.classForHandleClick ?? 'wk-call';\n        this.#classThatReactOnTheUsersStatus = config?.call?.classThatReactOnTheUsersStatus ?? 'wk-call-status-user';\n        this.#classThatReactOnTheUsersPlans = config?.call?.classThatReactOnTheUsersPlans ?? 'wk-call-status-plans';\n        this.#classThatReactOnTheUsersEvents = config?.call?.classThatReactOnTheUsersEvents ?? 'wk-call-status-events';\n    }\n\n    #isDebug() {\n        return !!this.#config?.call?.debug;\n    }\n\n    #initWkListeners() {\n        this.#events.subscribe(EventsNames.local.FRAME_MESSAGE, ({name, _}) => {\n            switch (name) {\n                case EventsNames.wallkit.WALLKIT_LOGOUT:\n                    this.setAllDataWkStatusesInDOMElements();\n                    this.#setDataWkHasAccessInBody(false);\n                    break;\n                case EventsNames.wallkit.WALLKIT_EVENT_USER:\n                    this.#getWallkitUserData();\n                    break;\n            }\n        });\n\n        this.#events.subscribe(EventsNames.local.SUCCESS_AUTH, (value) => {\n            if (this.#isDebug()) {\n                console.log('subscribe ventsNames.local.SUCCESS_AUTH', value);\n            }\n            this.#getWallkitUserData();\n        });\n\n        this.#events.subscribe(EventsNames.local.CHECK_USER_ACCESS, (value) => {\n            if (this.#isDebug()) {\n                console.log('subscribe ventsNames.local.CHECK_USER_ACCESS', value);\n            }\n            this.#setDataWkHasAccessInBody(value);\n        });\n    }\n\n    // add event listener to body and handle click on elements which have class `${this.#classForHandleClick}`\n    // get class which starts from \"wk–\" to obtain slug of popup which we have to open\n    // and params for this popup\n    // ex. <a href=\"#\" class=\"btn btn-primary wk-call wk–checkout–subscription-94\">Buy</a> ===>\n    // popup slug - checkout; params - {\"item_type\":\"subscription\", \"item_key\":\"94\"}\n    // open popup by slug with params\n    #initUIListeners() {\n        document.body.addEventListener('click', (e) => {\n\n                try {\n\n                    if (this.#isDebug()) {\n                        console.log('Click on element: ', e.target);\n                        console.log(`Does element have class ${this.#classForHandleClick}: ${e.target.classList.contains(this.#classForHandleClick)}`);\n                    }\n\n                    // skip if target element has no class `${this.#classForHandleClick}`\n                    if (!e.target.classList.contains(`${this.#classForHandleClick}`)) return;\n\n                    // retrieve all classes for element\n                    const classes = Array.from(e.target.classList);\n                    const slugAndParamStr = classes.find(className => className.startsWith('wk–'));\n\n                    if (this.#isDebug()) {\n                        console.log('Popup\\'s slug and params: ', slugAndParamStr);\n                        console.log('Exit if slug and param === \"undefined\"');\n                    }\n\n                    // skip if we have no popup slug\n                    if (typeof slugAndParamStr === \"undefined\") return;\n\n                    const slugAndParamArr = slugAndParamStr.split(\"–\");\n                    const popupSlug = slugAndParamArr[1];\n                    const popupParams = slugAndParamArr[2];\n\n                    if (this.#isDebug()) {\n                        console.log('Popup\\'s slug: ', popupSlug);\n                        console.log('Popup\\'s params: ', popupParams);\n                    }\n\n                    // open popup without params\n                    if (typeof popupSlug !== \"undefined\" && typeof popupParams === \"undefined\") {\n                        if (this.#isDebug()) {\n                            console.log('Open popup without params. Only with slug: ', popupSlug);\n                        }\n                        this.#popup.open(popupSlug);\n                        e.preventDefault();\n                        return;\n                    }\n\n                    // getting key and value params\n                    const popupParamsArr = popupParams.split('-');\n                    let key = popupParamsArr[0];\n                    const value = popupParamsArr[1];\n\n                    if (this.#isDebug()) {\n                        console.log('Popup\\'s param key: ', key);\n                        console.log('Popup\\'s param value: ', value);\n                    }\n\n                    //open popup with params\n                    if (typeof key !== \"undefined\" && typeof value !== \"undefined\") {\n\n                        // make mo readable key for user\n                        if (key === 'ticket') {\n                            key = 'ti_event_ticket';\n                        }\n\n                        // prepare params for popup\n                        const params = JSON.stringify({item_type: key, item_key: value});\n                        const path = `${popupSlug}?[${params}]`\n\n                        if (this.#isDebug()) {\n                            console.log('Open popup with params: ', path);\n                        }\n\n                        this.#popup.open(path);\n                        e.preventDefault();\n                    }\n                } catch (error) {\n                    console.log('WK Call ERROR:', error);\n                }\n            }\n        );\n    }\n\n    getUserStatus() {\n        return this.#sdk.methods.isAuthenticated() ? 'authorized' : 'guest';\n    }\n\n    setAllDataWkStatusesInDOMElements(response) {\n        this.setDataWkStatusUserInDOMElements();\n        this.setDataWkStatusPlansInDOMElements(response);\n        this.setDataWkStatusEventsInDOMElements(response);\n    }\n\n    setDataWkStatusUserInDOMElements() {\n        if (this.#isDebug()) {\n            console.log(`Set user status: \"${this.getUserStatus()}\" for elements:`);\n        }\n        // find all elements with class `${this.#classThatReactOnTheUsersStatus}`\n        for (const element of document.querySelectorAll(`.${this.#classThatReactOnTheUsersStatus}`)) {\n            if (this.#isDebug()) {\n                console.log(element);\n            }\n            element.dataset.wkCallStatusUser = this.getUserStatus();\n        }\n    }\n\n    setDataWkStatusPlansInDOMElements({subscriptions} = {}) {\n\n        let plans = 'undefined';\n\n        if (Array.isArray(subscriptions) && subscriptions.length > 0) {\n            plans = subscriptions.map((s) => s.plan.slug).join(' ');\n        }\n\n        if (this.#isDebug()) {\n            console.log(`Set plans status: \"${plans}\" for elements:`);\n        }\n        // find all elements with class `${this.#classThatReactOnTheUsersPlans}`\n        for (const element of document.querySelectorAll(`.${this.#classThatReactOnTheUsersPlans}`)) {\n            if (this.#isDebug()) {\n                console.log(element);\n            }\n            element.dataset.wkCallStatusPlans = plans;\n        }\n    }\n\n    setDataWkStatusEventsInDOMElements({assigned_tickets} = {}) {\n\n        let events = 'undefined';\n\n        if (Array.isArray(assigned_tickets) && assigned_tickets.length > 0) {\n            events = assigned_tickets.map((s) => s.ti_event.slug).join(' ');\n        }\n\n        if (this.#isDebug()) {\n            console.log(`Set events status: \"${events}\" for elements:`);\n        }\n        // find all elements with class `${this.#classThatReactOnTheUsersEvents}`\n        for (const element of document.querySelectorAll(`.${this.#classThatReactOnTheUsersEvents}`)) {\n            if (this.#isDebug()) {\n                console.log(element);\n            }\n            element.dataset.wkCallStatusEvents = events;\n        }\n    }\n\n    #setDataWkHasAccessInBody(value) {\n        if (this.#isDebug()) {\n            console.log(`Set user has access data \"${value}\" in body element.`);\n        }\n        document.body.dataset.wkCallUserHasAccess = value;\n    }\n\n    #getWallkitUserData() {\n        this.#sdk.client.get({path: `/user`})\n            .then((response) => {\n                console.log(response);\n                this.setAllDataWkStatusesInDOMElements(response);\n            })\n            .catch((error) => {\n                console.log('WK Call ERROR:', error);\n                this.setAllDataWkStatusesInDOMElements();\n            });\n    }\n\n    #debugUserStatus() {\n        console.log(`User status: `, this.getUserStatus());\n    }\n\n    #debugElementsClickingOnWhichOpensPopups() {\n        console.log('Elements, clicking on which opens popups:');\n        for (const element of document.querySelectorAll(`.${this.#classForHandleClick}`)) {\n            console.log(element);\n        }\n    }\n\n    #debugElementsThatReactToTheUsersStatus() {\n        console.log('Elements that react to the user\\'s status:');\n        for (const element of document.querySelectorAll(`.${this.#classThatReactOnTheUsersStatus}`)) {\n            console.log(element);\n        }\n    }\n\n    #debugElementsThatReactToTheUsersPlans() {\n        console.log('Elements that react to the user\\'s plans:');\n        for (const element of document.querySelectorAll(`.${this.#classThatReactOnTheUsersPlans}`)) {\n            console.log(element);\n        }\n    }\n\n    #debugElementsThatReactToTheUsersEvents() {\n        console.log('Elements that react to the user\\'s events:');\n        for (const element of document.querySelectorAll(`.${this.#classThatReactOnTheUsersEvents}`)) {\n            console.log(element);\n        }\n    }\n\n    init() {\n        if (this.#isDebug()) {\n            console.log('Init Wallkit Call with config: ', this.#config?.call);\n            this.#debugUserStatus();\n            this.#debugElementsClickingOnWhichOpensPopups();\n            this.#debugElementsThatReactToTheUsersStatus();\n            this.#debugElementsThatReactToTheUsersPlans();\n            this.#debugElementsThatReactToTheUsersEvents();\n        }\n\n        this.#initWkListeners();\n        this.#initUIListeners();\n\n        if (this.#sdk.methods.isAuthenticated()) {\n            this.#getWallkitUserData();\n        } else {\n            this.setAllDataWkStatusesInDOMElements();\n        }\n\n    }\n}\n","import SDK from \"../sdk\";\nimport Events from \"../events\";\nimport {CHECK_USER_ACCESS} from \"../events/events-name\";\n\nexport default class Content {\n    #options;\n    #events;\n\n    constructor(content, options) {\n        this.content = content;\n        this.#options = options;\n        this.sdk = new SDK();\n        this.#events = new Events();\n\n        this.accessCount = 0;\n        this.accessCountLimit = 0;\n    }\n\n    #encodeQueryData(data) {\n        const ret = [];\n\n        for (const d in data) {\n            if (data[d] !== undefined) {\n                ret.push(`${encodeURIComponent(d)}=${encodeURIComponent(data[d])}`);\n            }\n        }\n\n        return ret.join('&');\n    }\n\n    #formatCheckAccessRequestPath(id, params) {\n        const query = this.#encodeQueryData(params);\n\n        return `/user/content-sync-and-check/${id}?${query}`;\n    }\n\n    formatTaxonomies(taxonomies) {\n        const formatted = {};\n\n        const taxonimiesTitles = [];\n        const taxonimiesKeys = [];\n\n        for (const taxKey in taxonomies) {\n            taxonimiesKeys.push(taxKey);\n            taxonimiesTitles.push(taxonomies[taxKey].label);\n\n            let termKeysKey = `term_keys[${taxKey}]`;\n            let termTitleKey = `term_titles[${taxKey}]`;\n\n            let targetTermKeys = formatted[termKeysKey];\n            let targetTermTitles = formatted[termTitleKey];\n\n            if (taxonomies[taxKey]?.items) {\n                taxonomies[taxKey].items.forEach((item) => {\n                    if (targetTermKeys) {\n                        targetTermKeys.push(item.slug);\n                    } else {\n                        formatted[termKeysKey] = [item.slug];\n                    }\n\n                    if (targetTermTitles) {\n                        targetTermTitles.push(item.slug);\n                    } else {\n                        formatted[termTitleKey] = [item.name];\n                    }\n                });\n            }\n\n            formatted[termKeysKey] = formatted[termKeysKey].join(',');\n            formatted[termTitleKey] = formatted[termTitleKey].join(',');\n        }\n\n        formatted.taxonomy_titles = taxonimiesTitles.join(',');\n        formatted.taxonomy_keys = taxonimiesKeys.join(',');\n\n        return formatted;\n    }\n\n    checkContentAccessAndSync(content) {\n        const queryParams = {\n            type: content.type,\n            title: content.title,\n            link: content.link || window.location.href,\n            image: content.image || null,\n        };\n\n        Object.assign(queryParams, this.formatTaxonomies(content.taxonomies));\n\n        return this.sdk.client.get({ path: this.#formatCheckAccessRequestPath(content.id, queryParams) }).then((response) => {\n            if (this.sdk.methods.isAuthenticated()) {\n                this.getAccessDetails(content.id);\n            }\n\n            this.#events.notify(CHECK_USER_ACCESS, true);\n            return { allowed: response.allow, data: response };\n        }).catch((error) => {\n\n            this.#events.notify(CHECK_USER_ACCESS, false);\n            return { allowed: false, error: error };\n        })\n    }\n\n    checkAccess() {\n        return this.sdk.methods.checkAccess(this.content.id).then((response) => {\n            if (this.sdk.methods.isAuthenticated()) {\n                this.getAccessDetails(this.content.id);\n            }\n\n            this.#events.notify(CHECK_USER_ACCESS, true);\n            return { allowed: response.allow, data: response };\n        }).catch((error) => {\n            if (error.error === 'incorrect_content_key') {\n                return this.checkContentAccessAndSync(this.content);\n            }\n\n            this.#events.notify(CHECK_USER_ACCESS, false);\n            return { allowed: false, error: error };\n        });\n    }\n\n    getAccessDetails(contentId) {\n        return this.sdk.client.get({ path: `/user/content-access-details/${contentId}` }).then((response) => {\n            if (response) {\n                const terms = response.content_terms;\n\n                this.accessCount = terms.usedLimitInPeriod;\n                this.accessCountLimit = terms.accessLimit;\n\n                return {\n                    accessCount: this.accessCount,\n                    accessCountLimit: this.accessCountLimit\n                }\n            }\n\n            return {\n                accessCount: 0,\n                accessCountLimit: 0\n            }\n        }).catch((error) => {\n            return error;\n        });\n    }\n}","// Local Events Names\nexport const FRAME_CREATED = 'frame-created';\nexport const FRAME_MOUNTED = 'frame-mounted';\nexport const MODAL_CREATED = 'modal-created';\nexport const SUCCESS_AUTH = 'success-auth';\nexport const SUCCESS_FIREBASE_AUTH = 'success-firebase-auth';\nexport const WALLKIT_SDK_LOADED = 'wallkit-js-sdk-loaded';\nexport const FRAME_MESSAGE = 'frame-message';\nexport const AUTH_MODAL_CLOSED = 'auth-modal-closed';\nexport const FRAME_MODAL_CLOSED = 'frame-modal-closed';\nexport const MODAL_CLOSED = 'modal-closed';\nexport const RECAPTCHA_LOADED = 'recaptcha-loaded';\nexport const RECAPTCHA_VALIDATION_FAILED = 'recaptcha-validation-failed';\nexport const RECAPTCHA_VALIDATION_SUCCESS = 'recaptcha-validation-success';\nexport const TICKETS_TOKEN_AUTH_SUCCESS = 'tickets-token-auth-success';\nexport const FIREBASE_LOADED = 'firebase-loaded';\nexport const FIREBASE_INIT = 'firebase-init';\nexport const FIREBASE_UI_SHOWN = 'firebase-ui-shown';\nexport const CHECK_USER_ACCESS = 'check-user-access';\n\n// Wallkit Events Names\nexport const WALLKIT_CHANGE_FRAME = 'wk-event-modal';\nexport const WALLKIT_LOGOUT = 'wk-event-logout';\nexport const WALLKIT_FIREBASE_TOKEN = 'wk-firebase-token';\nexport const WALLKIT_EVENT_FIREBASE_TOKEN = 'wk-event-firebase-token';\nexport const WALLKIT_EVENT_TOKEN = 'wk-event-token';\nexport const WALLKIT_FRAME_READY = 'wk-event-modals-ready';\nexport const WALLKIT_EVENT_GET_TOKEN = 'wk-event-get-token';\nexport const WALLKIT_EVENT_AUTH = 'wk-event-auth';\nexport const WALLKIT_EVENT_USER = 'wk-event-user';\nexport const WALLKIT_EVENT_REGISTRATION = 'wk-event-registration';\nexport const WALLKIT_EVENT_ONE_TAP_SIGN_IN = 'wk-event-one-tap-sign-in';\nexport const WALLKIT_FRAME_ROUTE_CHANGE = 'wk-event-route-change';\nexport const WALLKIT_EVENT_FIREBASE_CUSTOM_TOKEN = 'wk-event-firebase-custom-token';\nexport const WALLKIT_EVENT_CHANGE_LANGUAGE = 'wk-event-change-language';\n\nexport default {\n    local: {\n        FRAME_CREATED,\n        FRAME_MOUNTED,\n        MODAL_CREATED,\n        SUCCESS_AUTH,\n        SUCCESS_FIREBASE_AUTH,\n        FRAME_MESSAGE,\n        AUTH_MODAL_CLOSED,\n        FRAME_MODAL_CLOSED,\n        MODAL_CLOSED,\n        RECAPTCHA_LOADED,\n        RECAPTCHA_VALIDATION_FAILED,\n        RECAPTCHA_VALIDATION_SUCCESS,\n        TICKETS_TOKEN_AUTH_SUCCESS,\n        CHECK_USER_ACCESS\n    },\n    wallkit: {\n        FRAME_CREATED,\n        WALLKIT_LOGOUT,\n        WALLKIT_FIREBASE_TOKEN,\n        WALLKIT_EVENT_FIREBASE_TOKEN,\n        WALLKIT_EVENT_TOKEN,\n        WALLKIT_FRAME_READY,\n        WALLKIT_EVENT_GET_TOKEN,\n        WALLKIT_EVENT_AUTH,\n        WALLKIT_EVENT_USER,\n        WALLKIT_EVENT_REGISTRATION,\n        WALLKIT_EVENT_ONE_TAP_SIGN_IN,\n        WALLKIT_FRAME_ROUTE_CHANGE,\n        WALLKIT_EVENT_FIREBASE_CUSTOM_TOKEN,\n        WALLKIT_EVENT_CHANGE_LANGUAGE\n    }\n}\n","export default class Events {\n    constructor() {\n        if (!!Events.instance) {\n            return Events.instance;\n        }\n\n        Events.instance = this;\n        this.listeners = [];\n\n        return this;\n    }\n\n    subscribe(eventName, callback, options) {\n        this.listeners.push({ name: eventName, callback, options: options });\n    }\n\n    unsubscribe(eventName, callback) {\n        this.listeners = this.listeners.filter((event) => {\n            return ((event.name !== eventName) || (event.callback !== callback));\n        });\n    }\n\n    notify(eventName, data) {\n        let onceIndexesToRemove = [];\n        this.listeners.forEach((event, index) => {\n            if (eventName === event.name) {\n                event.callback(data);\n\n                if (!!event?.options?.once) {\n                    onceIndexesToRemove.push(index);\n                }\n            }\n        })\n\n        this.listeners = this.listeners.filter((item, index) => !onceIndexesToRemove.includes(index));\n    }\n}","import { createElement } from \"../../../utils/DOM\";\n\nexport class TriggerButton {\n    constructor(selector, options) {\n        this.selector = selector;\n        this.element = this.createElement(options);\n\n        if (options.onClick) {\n            this.element.addEventListener('click', options.onClick.bind(this));\n        }\n    }\n\n    createElement (options) {\n        let className = 'wk-auth-form-button';\n        if (options) {\n            if (options.className) {\n                className += ` ${options.className}`;\n            }\n        }\n\n        return createElement('div', {\n            className,\n            innerHTML: `\n                <span class=\"firebaseui-idp-icon-wrapper\">\n                    <img class=\"firebaseui-idp-icon\" alt=\"\" src=\"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg\">\n                </span>\n                <span class=\"firebaseui-idp-text firebaseui-idp-text-long\">Sign in with email</span>`\n        });\n    }\n\n    hide () {\n        this.element.style.display = 'none';\n    }\n\n    show () {\n        this.element.style.display = 'block';\n    }\n\n    render() {\n        const targetElement = document.querySelector(this.selector);\n\n        if (targetElement) {\n            targetElement.appendChild(this.element);\n        }\n    }\n}\n","import { FormField } from \"./index\";\nimport { createElement } from \"../../../utils/DOM\";\n\nexport class CheckBoxField extends FormField {\n  constructor(options) {\n    super(options);\n\n    this.type = 'checkbox';\n\n    this.input.addEventListener('change', this.validate.bind(this));\n  }\n\n  createCheckMark () {\n    return createElement('span', {\n      className: 'wk-form-field__checkmark',\n    });\n  }\n\n  createWrapper () {\n    return createElement('div', {\n      className: 'wk-form-field wk-form-field--checkbox'\n    });\n  }\n\n  getValue () {\n    return this.input.checked;\n  }\n\n  render (options) {\n    this.inputWrapper = this.createInputWrapper();\n\n    const label = this.createLabel(options.label, options.name);\n    label.appendChild(this.input);\n    label.appendChild(this.createCheckMark());\n\n    this.inputWrapper.appendChild(label);\n    this.wrapper.appendChild(this.inputWrapper);\n  }\n}\n","import { FormField } from \"./index\";\n\nexport class PasswordField extends FormField {\n    constructor(options) {\n        super(options);\n\n        this.insertAffix(`<div id=\"show-password-toggle\" class=\"wk-eye-toggle\"></div>`, this.togglePasswordVisibility.bind(this))\n\n        if (options.passwordHint) {\n            this.insertDescription(`<div>\n            <span>Password should match requirements:</span>\n            <ul class=\"wk-field-list\">\n                <li>at least 1 uppercase character (A-Z)</li>\n                <li>at least 1 lowercase character (a-z)</li>\n                <li>at least 1 digit (0-9)</li>\n                <li>at least 1 special character (punctuation)</li>\n                <li>at least 8 characters length</li>\n            </ul>\n        </div>`);\n        }\n\n        this.testStrength = options.testStrength ?? false;\n    }\n\n    togglePasswordVisibility () {\n        const targetElement = this.wrapper.querySelector('#show-password-toggle');\n        const TOGGLE_CLASSNAME = 'wk-eye-toggled';\n\n        if (targetElement) {\n            if (targetElement.classList.contains(TOGGLE_CLASSNAME)) {\n                targetElement.classList.remove(TOGGLE_CLASSNAME);\n                this.switchPasswordInputType('password');\n            } else {\n                targetElement.classList.add(TOGGLE_CLASSNAME);\n                this.switchPasswordInputType('text');\n            }\n        }\n    }\n\n    switchPasswordInputType (type) {\n        if (this.input) {\n            this.input.type = type || 'password';\n        }\n    }\n\n    #testPasswordRule (value, regex, errorMessage) {\n      const uppercaseRegex = new RegExp(regex);\n      const uppercaseValid = uppercaseRegex.test(value);\n\n      if (!uppercaseValid) {\n        return {\n          message: errorMessage,\n          valid: false\n        };\n      }\n\n      return {\n        valid: true\n      }\n    }\n\n    #testPassword (password) {\n        if (!this.testStrength) {\n          return {\n            valid: true\n          };\n        }\n\n        const rules = [\n          {\n            regex: \"^(?=.{8,})\",\n            message: \"At least 8 characters length\"\n          },\n          {\n            regex: \"^(?=.*[A-Z])\",\n            message: \"At least 1 uppercase character (A-Z)\"\n          },\n          {\n            regex: \"^(?=.*[a-z])\",\n            message: \"At least 1 lowercase character (a-z)\"\n          },\n          {\n            regex: \"^(?=.*[0-9])\",\n            message: \"At least 1 digit (0-9)\"\n          },\n          {\n            regex: \"^(?=.*[`~!@#$%^&*()+={}\\/|:;'<>,.?_-])\",\n            message: \"At least 1 special character (punctuation)\"\n          },\n        ];\n\n        for (let rule of rules) {\n          const validateRule = this.#testPasswordRule(password, rule.regex, rule.message);\n\n          if (!validateRule.valid) {\n            return validateRule;\n          }\n        }\n\n        return {\n          valid: true\n        };\n    }\n\n    validate () {\n      const value = this.getValue();\n      const passwordValidation = this.#testPassword(value);\n\n      if (!passwordValidation.valid) {\n        this.setError(`<div>\n                <span>Password should be: ${passwordValidation.message}</span>\n            </div>`);\n\n        return false;\n      }\n      return super.validate();\n    }\n\n}\n","import {createElement, insertAfter} from \"../../../utils/DOM\";\n\nexport class FormField {\n    constructor(options) {\n        if (!options) {\n            throw new Error('No Options Provided');\n        }\n\n        this.wrapper = this.createWrapper(options);\n        this.input = this.createInput(options);\n        this.type = options.type || 'text';\n        this.message = null;\n        this.isValid = false;\n        this.required = options.required || false;\n        this.slug = options.dataSlug;\n\n        this.render(options);\n\n        if (options.affix) {\n            this.insertAffix(options.affix.content, options.affix.onClick);\n        }\n\n        if (options.description) {\n            this.insertDescription(options.description);\n        }\n\n        if (options.onChange) {\n            this.input.addEventListener('change', options.onChange.bind(this));\n        }\n\n        if (options.onInput) {\n            this.input.addEventListener('input', options.onInput.bind(this));\n        }\n\n        this.input.addEventListener('blur', this.validate.bind(this));\n\n        if (options.onEnter) {\n          this.input.addEventListener('keydown', (event) => {\n            if (event.keyCode === 13) {\n              options.onEnter();\n            }\n          });\n        }\n\n        if (options.onValidate && typeof options.onValidate === \"function\") {\n            this.onValidate = options.onValidate;\n        }\n\n        if (options.relatedData) {\n            this.relatedData = options.relatedData;\n        }\n    }\n\n    getElement () {\n        return this.wrapper;\n    }\n\n    getValue () {\n        return this.input.value;\n    }\n\n    validate () {\n        const value = this.getValue();\n\n        if (this.required && !value) {\n            this.setError('This field is required!');\n\n            return false;\n        }\n\n        if (this.type === 'email') {\n            if (!value) {\n                this.setError('Enter your email address to continue!');\n\n                return false;\n            } else if (!value.length > 4 || !value.includes('@') || !value.includes('.')) {\n                this.setError('This email address isn\\'t correct!');\n\n                return false;\n            }\n        }\n\n        if (this.onValidate) {\n            if (!this.onValidate(this)) {\n                return false;\n            }\n        }\n\n        this.resetValidation();\n        this.setFieldValidationState(true);\n\n        return true;\n    }\n\n    createWrapper () {\n        return createElement('div', {\n            className: 'wk-form-field'\n        });\n    }\n\n    createInputWrapper () {\n        return createElement('div', {\n            className: 'wk-form-field__input-wrapper',\n        });\n    }\n\n    insertAffix (content, onClick) {\n        const affixElement = createElement('div', {\n            className: 'wk-form-field__field-affix',\n            innerHTML: content\n        });\n\n        affixElement.addEventListener('click', onClick);\n        this.inputWrapper.appendChild(affixElement);\n    }\n\n    insertDescription (description) {\n        const descriptionElement = createElement('div', {\n            className: 'wk-form-field__field-description',\n            innerHTML: description\n        });\n\n        this.wrapper.appendChild(descriptionElement);\n    }\n\n    createInput (options) {\n        return createElement('input', {\n            className: 'wk-form-field__input',\n            id: options.id || options.name,\n            attributes: {\n                name: options.name,\n                type: options.type || 'text',\n                placeholder: options.placeholder || ''\n            }\n        });\n    }\n\n    createLabel (text, forRef) {\n        return createElement('label', {\n            className: 'wk-form-field__label',\n            attributes: {\n                for: forRef\n            },\n            innerHTML: text\n        });\n    }\n\n    createMessage (message, valid) {\n        const messageElement = createElement('span', {\n            className: `wk-form-field__message`,\n        });\n\n        messageElement.innerHTML = message;\n\n        return messageElement;\n    }\n\n    setError (message) {\n        if (!this.message) {\n            this.setFieldValidationState(false);\n            this.message = this.createMessage(message, false);\n            insertAfter(this.message, this.inputWrapper);\n        } else if (this.message) {\n            this.message.innerHTML = message;\n        }\n    }\n\n    removeMessage () {\n        if (this.message) {\n            this.message.remove();\n            this.message = null;\n        }\n    }\n\n    setFieldValidationState (valid) {\n        this.isValid = valid;\n        if (!valid) {\n            this.wrapper.classList.add('wk-form-field--invalid');\n            this.wrapper.classList.remove('wk-form-field--valid');\n        } else {\n            this.wrapper.classList.add('wk-form-field--valid');\n            this.wrapper.classList.remove('wk-form-field--invalid');\n        }\n    }\n\n    resetValidation () {\n        this.removeMessage();\n        this.wrapper.classList.remove('wk-form-field--valid', 'wk-form-field--invalid');\n    }\n\n    resetField () {\n        this.input.value = '';\n        this.resetValidation()\n    }\n\n    focus () {\n      this.input.focus();\n    }\n\n    render (options) {\n      this.inputWrapper = this.createInputWrapper();\n      this.wrapper.appendChild(this.createLabel(options.label, options.name));\n      this.inputWrapper.appendChild(this.input);\n      this.wrapper.appendChild(this.inputWrapper);\n    }\n}\n","import { createElement } from \"../../../utils/DOM\";\n\nimport { TriggerButton } from \"../buttons/TriggerButton\";\nimport { LoginForm } from \"./LoginForm\";\nimport { SignupForm } from \"./SignUpForm\";\nimport { ForgotPasswordForm } from \"./ForgotPasswordForm\";\n\nexport const SIGN_UP_FORM_SLUG = 'sign-up';\nexport const SIGN_IN_FORM_SLUG = 'sign-in';\nexport const RESET_PASSWORD_FORM_SLUG = 'reset-password';\n\nexport class AuthForm {\n    constructor(selector, options) {\n        this.defaultFormSlug = options?.defaultForm || SIGN_UP_FORM_SLUG;\n\n        this.wrapper = createElement('div', {\n            id: 'wk-auth-form'\n        });\n\n        this.loginForm = new LoginForm(selector, {\n            cancelBtn: options.triggerButton !== false,\n            signUp: options.signUp ?? true,\n            onSubmit: (data) => {\n                if (options.onLogin) {\n                    options.onLogin(data);\n                }\n            },\n            onCancel: () => {\n                if (options.onCancel) {\n                    options.onCancel();\n                    this.loginForm.resetForm();\n                }\n            }\n        });\n        this.loginForm.formWrapper.addEventListener('click', (event) => {\n            if (event.target.id === 'auth-signup-link') {\n                event.preventDefault();\n\n                this.loginForm.hide();\n                this.signUpForm.show();\n                this.loginForm.resetForm();\n            } else if (event.target.id === 'auth-password-link') {\n                event.preventDefault();\n\n                this.loginForm.hide();\n                this.loginForm.resetForm();\n                this.forgotPasswordForm.show();\n            }\n        });\n        this.loginForm.hide();\n\n        if (options.signUp === true) {\n            this.signUpForm = new SignupForm(selector, {\n                termsOfService: options.termsOfService,\n                onSubmit: (data) => {\n                    if (options.onSignUp) {\n                        options.onSignUp(data);\n                    }\n                }\n            });\n            this.signUpForm.formWrapper.addEventListener('click', (event) => {\n                if (event.target.id === 'auth-signin-link') {\n                    this.loginForm.show();\n                    this.signUpForm.hide();\n                    this.signUpForm.resetForm();\n                }\n            });\n            this.signUpForm.hide();\n        }\n\n        this.forgotPasswordForm = new ForgotPasswordForm(selector, {\n            onSubmit: (data) => {\n                if (options.onPasswordReset) {\n                    options.onPasswordReset(data);\n                }\n            }\n        });\n\n        this.forgotPasswordForm.formWrapper.addEventListener('click', (event) => {\n            if (event.target.id === 'back-to-login') {\n                event.preventDefault();\n\n                this.forgotPasswordForm.hide();\n                this.forgotPasswordForm.resetForm();\n                this.loginForm.show();\n                this.forgotPasswordForm.reRender();\n            }\n        });\n        this.forgotPasswordForm.hide();\n\n        if (options.triggerButton !== false) {\n          this.triggerButton = new TriggerButton(selector, {\n            onClick: () => {\n              this.loginForm.show();\n              this.triggerButton.hide();\n              if (options.onAuthFormShow) {\n                options.onAuthFormShow();\n              }\n            }\n          });\n        }\n\n      this.forms = {\n        [RESET_PASSWORD_FORM_SLUG]: this.forgotPasswordForm,\n        [SIGN_IN_FORM_SLUG]: this.loginForm,\n        [SIGN_UP_FORM_SLUG]: this.signUpForm\n      };\n    }\n\n    get defaultForm () {\n      return this.forms[this.defaultFormSlug];\n    }\n\n    get visibleFormName () {\n        if (this.signUpForm.isVisible()) {\n            return 'signUpForm';\n        } else if (this.loginForm.isVisible()) {\n            return 'loginForm';\n        } else if (this.forgotPasswordForm.isVisible()) {\n            return 'forgotPasswordForm';\n        } else {\n            return false;\n        }\n    }\n\n    showDefaultForm () {\n      const form = this.defaultForm;\n\n      if (form) {\n        form.show();\n      }\n    }\n\n    reset () {\n        this.hide();\n\n        if (this.triggerButton) {\n          this.triggerButton.show();\n        } else {\n          this.showDefaultForm();\n        }\n    }\n\n    hide () {\n      if (!!this.forms) {\n        for (let formKey in this.forms) {\n          const form = this.forms[formKey];\n\n          if (form) {\n            form.hide();\n            form.resetForm();\n          }\n        }\n      }\n    }\n\n    showSuccessPasswordReset () {\n        const email = this.forgotPasswordForm.emailField.getValue();\n\n        this.forgotPasswordForm.showFormResult(`\n            <div class=\"wk-success-message wk-password-reset-success\">\n                <h2 class=\"wk-success-message__title\">Check your email!</h2>\n                <p class=\"wk-success-message__description\">Follow the instructions sent to <b>${email}</b> to recover your password</p>\n                <button id=\"back-to-login\" class=\"wk-form-button wk-form-button--cancel\">Back to login</button>\n            </div>\n        `);\n    }\n\n    render () {\n        if (this.loginForm) {\n            this.loginForm.render();\n        }\n\n        if (this.signUpForm) {\n            this.signUpForm.render();\n        }\n\n        if (this.forgotPasswordForm) {\n            this.forgotPasswordForm.render();\n        }\n\n        if (this.triggerButton) {\n            this.triggerButton.render()\n        } else {\n            this.showDefaultForm();\n        }\n    }\n}\n","import { createElement } from \"../../../utils/DOM\";\nimport { Form } from \"../index\";\n\nimport { PasswordField } from \"../field/PasswordField.js\";\n\nexport class ChangePasswordForm extends Form {\n    constructor(targetElementSelector, options) {\n        super(targetElementSelector, options);\n\n        this.onCancel = options.onCancel || false;\n        this.options = options;\n        this.options.title = 'Change Password' || options.title;\n        this.options.footer = this.getFormFooter() || options.footer;\n\n        this.oldPasswordField = new PasswordField({\n            dataSlug: 'old_password',\n            name: 'wk-old-password',\n            testStrength: false,\n            passwordHint: false,\n            label: 'Old Password',\n            type: 'password',\n            onEnter: () => {\n                this.submitForm();\n            },\n            onValidate: (field) => {\n                const value = field.getValue();\n                if (!value) {\n                    field.setError(`<div>\n                            <span>Password cannot be empty.</span>\n                        </div>`);\n                    return false;\n                }\n                return true;\n            }\n        });\n        this.newPasswordField = new PasswordField({\n            dataSlug: 'new_password',\n            name: 'wk-new-password',\n            testStrength: true,\n            passwordHint: true,\n            label: 'New Password',\n            type: 'password',\n            relatedData: {\n                oldPassword: this.oldPasswordField\n            },\n            onEnter: () => {\n              this.submitForm();\n            },\n            onValidate: (field) => {\n                const oldPasswordValue = field.relatedData.oldPassword.getValue();\n                const value = field.getValue();\n                if (oldPasswordValue === value) {\n                    field.setError(`<div>\n                            <span>The new password must not match the old one.</span>\n                        </div>`);\n                    return false;\n                }\n                return true;\n            }\n        });\n        this.newPasswordConfirmField = new PasswordField({\n            dataSlug: 'new_password_confirm',\n            name: 'wk-new-password-confirm',\n            testStrength: true,\n            passwordHint: false,\n            label: 'New Password Confirm',\n            type: 'password',\n            relatedData: {\n                newPassword: this.newPasswordField\n            },\n            onEnter: () => {\n                this.submitForm();\n            },\n            onValidate: (field) => {\n                const newPasswordValue = field.relatedData.newPassword.getValue();\n                const value = field.getValue();\n                if (newPasswordValue !== value) {\n                    field.setError(`<div>\n                            <span>The password confirmation must be the same as the new password.</span>\n                        </div>`);\n                    return false;\n                }\n                return true;\n            }\n        });\n\n        this.fields = [\n            this.oldPasswordField,\n            this.newPasswordField,\n            this.newPasswordConfirmField,\n        ];\n\n        this.init();\n\n    }\n\n    cancelForm() {\n        if (typeof this.onCancel === \"function\") {\n            this.onCancel();\n        }\n    }\n\n    getFormFooter () {\n        const formFooter = createElement('div', {\n            className: 'wk-form__footer'\n        });\n        formFooter.appendChild(createElement('a', {\n            className: 'wk-form__link account-settings-link',\n            innerText: 'Cancel',\n            attributes: {\n                href: '#'\n            }\n        }));\n        formFooter.appendChild(this.submitBtn);\n\n        return formFooter;\n    }\n}\n","import { createElement } from \"../../../utils/DOM\";\nimport { Form } from \"../index\";\n\nimport { FormField } from \"../field\";\n\nexport class ForgotPasswordForm extends Form {\n    constructor(targetElementSelector, options) {\n        super(targetElementSelector, options);\n\n        this.options = options;\n        this.options.title = 'Reset Password' || options.title;\n        this.options.footer = this.getFormFooter() || options.footer;\n\n        this.emailField = new FormField({\n            name: 'wk-fb-email',\n            dataSlug: 'email',\n            label: 'Email',\n            type: 'email',\n            onEnter: () => {\n              this.submitForm();\n            }\n        });\n\n        this.fields = [\n            this.emailField\n        ];\n\n        this.init();\n    }\n\n    getFormFooter () {\n        const formFooter = createElement('div', {\n            className: 'wk-form__footer'\n        });\n        formFooter.appendChild(this.cancelBtn);\n        this.cancelBtn.id = 'back-to-login';\n\n        formFooter.appendChild(this.submitBtn);\n\n        return formFooter;\n    }\n\n}\n","import { createElement } from \"../../../utils/DOM\";\nimport { Form } from \"../index\";\n\nimport { FormField } from \"../field\";\nimport { PasswordField } from \"../field/PasswordField.js\";\n\nexport class LoginForm extends Form {\n    constructor(targetElementSelector, options) {\n        super(targetElementSelector, options);\n\n        this.options = options;\n\n        this.options.title = 'Sign in with email' || options.title;\n        this.options.footer = this.getFormFooter() || options.footer;\n\n        this.emailField = new FormField({\n            dataSlug: 'email',\n            name: 'wk-fb-email',\n            label: 'Email',\n            type: 'email',\n            onEnter: () => {\n              this.passwordField.focus();\n            }\n        });\n\n        this.passwordField = new PasswordField({\n            dataSlug: 'password',\n            name: 'wk-fb-password',\n            testStrength: false,\n            label: 'Password',\n            type: 'password',\n            onEnter: () => {\n              this.submitForm();\n            }\n        });\n\n        this.fields = [\n            this.emailField,\n            this.passwordField\n        ];\n\n        this.init();\n\n        if (options.onCancel) {\n            this.cancelBtn.addEventListener('click', options.onCancel.bind(this));\n        }\n    }\n\n    getFormFooter() {\n        const footerWrapper = createElement('div');\n\n        const subFooter = createElement('div', {\n            className: 'wk-form__sub-footer',\n        });\n\n        if (this.options.signUp === true) {\n            subFooter.appendChild(createElement('a', {\n                id: 'auth-signup-link',\n                className: 'wk-form__link',\n                innerText: 'Sign Up',\n                attributes: {\n                    href: '#'\n                }\n            }));\n        }\n\n        subFooter.appendChild(createElement('a', {\n            className: 'wk-form__link wk-form__reset-password',\n            innerText: 'Forgot password',\n            id: 'auth-password-link',\n            attributes: {\n                href: '#'\n            }\n        }));\n\n        const formFooter = createElement('div', {\n            className: 'wk-form__footer wk-form__footer--right'\n        });\n\n        footerWrapper.appendChild(subFooter);\n\n        if (this.options.cancelBtn !== false) {\n          formFooter.appendChild(this.cancelBtn);\n        }\n        formFooter.appendChild(this.submitBtn);\n\n        footerWrapper.appendChild(formFooter);\n\n        return footerWrapper;\n    }\n}\n","import { createElement } from \"../../../utils/DOM\";\nimport { Form } from \"../index\";\n\nimport { FormField } from \"../field\";\nimport { PasswordField } from \"../field/PasswordField.js\";\nimport { CheckBoxField } from \"../field/CheckBoxField.js\";\n\nexport class SignupForm extends Form {\n    constructor(targetElementSelector, options) {\n        super(targetElementSelector, options);\n\n        this.options = options;\n        this.options.title = 'Sign Up' || options.title;\n        this.options.footer = this.getFormFooter() || options.footer;\n\n        this.emailField = new FormField({\n            dataSlug: 'email',\n            name: 'wk-fb-email',\n            label: 'Email',\n            type: 'email',\n            onEnter: () => {\n              this.nameField.focus();\n            }\n        });\n        this.nameField = new FormField({\n            dataSlug: 'name',\n            name: 'wk-fb-name',\n            label: 'Name',\n            type: 'text',\n            onEnter: () => {\n              this.passwordField.focus();\n            }\n        });\n        this.passwordField = new PasswordField({\n            dataSlug: 'password',\n            name: 'wk-fb-password',\n            testStrength: true,\n            passwordHint: true,\n            label: 'Password',\n            type: 'password',\n            onEnter: () => {\n              this.submitForm();\n            }\n        });\n\n        if (this.#isTosEnabled(options)) {\n          this.tosField = new CheckBoxField({\n            dataSlug: 'agreement',\n            name: 'wk-fb-agreement',\n            required: true,\n            label: this.getTosAcceptLabel(options.termsOfService),\n            type: 'checkbox',\n          });\n        }\n\n        this.fields = [\n            this.emailField,\n            this.nameField,\n            this.passwordField,\n        ];\n\n        if (this.tosField) {\n          this.fields.push(this.tosField);\n        }\n\n        this.init();\n    }\n\n    getFormFooter () {\n        const formFooter = createElement('div', {\n            className: 'wk-form__footer'\n        });\n        formFooter.appendChild(createElement('a', {\n            className: 'wk-form__link',\n            innerText: 'Already have an account? Login',\n            id: 'auth-signin-link',\n            attributes: {\n                href: '#'\n            }\n        }));\n        formFooter.appendChild(this.submitBtn);\n\n        return formFooter;\n    }\n\n    #isTosEnabled (options) {\n      if (!options.termsOfService) {\n        return false;\n      }\n\n      return !!options.termsOfService ||\n        !!options.termsOfService.tosURL ||\n        !!options.termsOfService.privacyPolicyURL;\n    }\n\n    getTosAcceptLabel (termsOptions) {\n      if (!termsOptions) {\n        return '';\n      }\n\n      if (typeof termsOptions !== \"object\") {\n        return termsOptions;\n      }\n\n      let defaultLabel = `By signing up I agree with the`;\n\n      if (termsOptions.tosURL) {\n        defaultLabel += ` <a href=\"${termsOptions.tosURL}\" target=\"_blank\">Terms & Conditions</a>`\n      }\n\n      if (termsOptions.tosURL && termsOptions.privacyPolicyURL) {\n        defaultLabel += ` and `\n      }\n\n      if (termsOptions.privacyPolicyURL) {\n        defaultLabel += ` <a href=\"${termsOptions.privacyPolicyURL}\" target=\"_blank\">Privacy Policy</a>`\n      }\n\n      return defaultLabel;\n    }\n}\n","import { createElement } from \"../../utils/DOM\";\n\nexport class Form {\n    constructor(targetElementSelector, options) {\n        this.targetElementSelector = targetElementSelector;\n\n        this.formWrapper = createElement('div', {\n            className: 'wk-form'\n        });\n\n        this.submitBtn = createElement('button', {\n            className: 'wk-form-button',\n            innerText: 'Submit'\n        });\n\n        this.cancelBtn = createElement('button', {\n            className: 'wk-form-button wk-form-button--cancel',\n            innerText: 'Cancel'\n        });\n\n        this.loading = false;\n\n        this.options = options;\n        this.fields = [];\n    }\n\n    render (selector) {\n        try {\n            const placeholderElement = document.querySelector(selector || this.targetElementSelector);\n            if (placeholderElement) {\n                placeholderElement.appendChild(this.getFormElement());\n            }\n        } catch (e) {\n            console.log('FORM RENDER ERROR:', e);\n        }\n    }\n\n    getFormElement () {\n        return this.formWrapper;\n    }\n\n    setFormError (error) {\n        this.formErrorPlaceholder.innerText = error;\n        this.formErrorPlaceholder.classList.add('wk-form__error--show');\n    }\n\n    resetFormError () {\n        this.formErrorPlaceholder.innerText = '';\n        this.formErrorPlaceholder.classList.remove('wk-form__error--show');\n    }\n\n    resetFields () {\n        this.fields.forEach((field) => field.resetField());\n    }\n\n    resetForm () {\n        this.resetFields();\n        this.resetFormError();\n    }\n\n    showFormResult (markup) {\n        if (markup) {\n            this.formWrapper.innerHTML = '';\n            this.formWrapper.appendChild(createElement('div', {\n                className: 'wk-form-result',\n                innerHTML: markup || ''\n            }));\n        }\n    }\n\n    insertFields () {\n        this.formWrapperFields = createElement('div', {\n            className: 'wk-form-fields'\n        });\n\n        this.fields.forEach((field) => {\n            this.formWrapperFields.appendChild(field.getElement());\n        });\n\n        this.formWrapper.appendChild(this.formWrapperFields);\n\n        return this;\n    }\n\n    insertHeader () {\n        this.formWrapperHeader = createElement('div', {\n            className: 'wk-form-header'\n        });\n\n        if (this.options.title) {\n            this.formWrapperHeader.appendChild(createElement('h2', {\n                className: 'wk-form-header__title',\n                innerText: this.options.title\n            }));\n        }\n\n        if (this.options.description) {\n            this.formWrapperHeader.appendChild(createElement('h2', {\n                className: 'wk-form-header__description',\n                innerText: this.options.description\n            }));\n        }\n\n        this.formErrorPlaceholder = createElement('div', {\n            className: 'wk-form__error'\n        });\n\n        this.formWrapperHeader.appendChild(this.formErrorPlaceholder);\n        this.formWrapper.appendChild(this.formWrapperHeader);\n\n        return this;\n    }\n\n    insertFooter () {\n        const formWrapperFooter = createElement('div', {\n            className: 'wk-form-footer'\n        });\n\n        if (!this.options.footer) {\n            formWrapperFooter.appendChild(this.submitBtn);\n        } else {\n            formWrapperFooter.appendChild(this.options.footer);\n        }\n\n        this.formWrapper.appendChild(formWrapperFooter);\n\n        return this;\n    }\n\n    validateForm () {\n        let isValid = null;\n\n        this.fields.forEach((field) => {\n            const isFieldValid = field.validate();\n\n            if (isValid !== false) {\n                isValid = isFieldValid;\n            }\n        });\n\n        return isValid;\n    }\n\n    show () {\n        this.formWrapper.style.display = 'block';\n\n        return this;\n    }\n\n    hide () {\n        this.formWrapper.style.display = 'none';\n\n        return this;\n    }\n\n    isVisible () {\n        return this.formWrapper.style.display === 'block'\n    }\n\n    submitForm () {\n        if (this.validateForm()) {\n            if (this.options.onSubmit) {\n                const data = {};\n\n                this.fields.forEach((field) => {\n                    data[field.slug] = field.getValue();\n                });\n\n                this.resetFormError();\n\n                this.options.onSubmit(data);\n            }\n        }\n    }\n\n    reRender () {\n        this.formWrapper.innerHTML = '';\n        this.insertFormElements();\n    }\n\n    insertFormElements () {\n        this.insertHeader();\n        this.insertFields();\n        this.insertFooter();\n    }\n\n    init () {\n        this.insertFormElements();\n\n        this.submitBtn.addEventListener('click', this.submitForm.bind(this));\n\n        return this;\n    }\n}","import { createElement } from \"../../utils/DOM\";\nimport { WALLKIT_MODAL_MIN_WIDTH, WALLKIT_MODAL_MIN_HEIGHT, WALLKIT_POPUP_URL, WALLKIT_POPUP_DEV_URL, WALLKIT_FRAME_ID } from \"../../configs/constants\";\nimport { FRAME_CREATED, WALLKIT_CHANGE_FRAME, WALLKIT_FRAME_READY, WALLKIT_FRAME_ROUTE_CHANGE } from \"../events/events-name\";\nimport Events from \"../events\";\n\nexport default class Frame {\n    constructor(options) {\n        if (!!Frame.instance) {\n            return Frame.instance;\n        }\n\n        Frame.instance = this;\n\n        this.currentFrameName = '';\n        this.options = options;\n        this.frameElement = null;\n        this.ready = false;\n\n        this.events = new Events();\n    }\n\n    get element() {\n        return this.frameElement;\n    }\n\n    get getFrameURL() {\n        const host = this.options.mode === 'dev' ? WALLKIT_POPUP_DEV_URL : WALLKIT_POPUP_URL;\n        const lang = this.options.lang ?? 'en';\n        return `${ host }?PUBLIC_KEY=${ this.options.public_key }&version=${ this.options.version }&lang=${lang}`;\n    }\n\n    createFrame() {\n        this.frameElement = createElement('iframe', {\n            id: WALLKIT_FRAME_ID,\n            className: WALLKIT_FRAME_ID,\n            attributes: {\n                scrolling: 'no',\n                allowtransparency: 'true',\n                frameborder: '0',\n                width: WALLKIT_MODAL_MIN_WIDTH,\n                height: WALLKIT_MODAL_MIN_HEIGHT\n            }\n        });\n        this.frameElement.setAttribute(\"src\", this.getFrameURL);\n\n        this.events.notify(FRAME_CREATED, true);\n\n        return this.frameElement;\n    }\n\n    resize(width, height) {\n        width = width >= WALLKIT_MODAL_MIN_WIDTH ? width : WALLKIT_MODAL_MIN_WIDTH;\n        height = height >= WALLKIT_MODAL_MIN_HEIGHT ? height : WALLKIT_MODAL_MIN_HEIGHT;\n\n        if (this.frameElement) {\n            this.frameElement.width = width;\n            this.frameElement.height = height;\n        }\n    }\n\n    sendEvent(name, value, params) {\n        const event = () => {\n            if (this.frameElement && this.frameElement.contentWindow) {\n                const frameWindow = this.frameElement.contentWindow;\n\n                this.events.notify(name, value);\n\n                frameWindow.postMessage({\n                    name: name,\n                    value: value,\n                    params: params\n                }, '*');\n            }\n        }\n\n        if (this.ready) {\n            event();\n        } else {\n            this.events.subscribe(WALLKIT_FRAME_READY, event.bind(this));\n        }\n    }\n\n    openFrame(name, params) {\n        this.currentFrameName = name;\n        if (this.ready) {\n            this.sendEvent(WALLKIT_CHANGE_FRAME, name, params);\n        } else {\n            this.events.subscribe(WALLKIT_FRAME_READY, () => {\n                this.sendEvent(WALLKIT_CHANGE_FRAME, name, params);\n            }, { once: true});\n        }\n    }\n\n    #listeners() {\n        this.events.subscribe(WALLKIT_FRAME_ROUTE_CHANGE, (value) => {\n           this.currentFrameName = value;\n        });\n\n        this.events.subscribe(WALLKIT_FRAME_READY, (value) => {\n            if (value === true) {\n                this.onFrameReady();\n            }\n        });\n    }\n\n    onFrameReady() {\n        this.ready = true;\n        if (this.options?.onReady) {\n            this.options?.onReady();\n        }\n    }\n\n    init() {\n        this.#listeners();\n\n        return this.createFrame();\n    }\n\n}\n","import { FB_AVAILABLE_LANGUAGES } from \"../../configs/languages\";\nimport {WALLKIT_EVENT_CHANGE_LANGUAGE} from \"../events/events-name\";\nimport Events from \"../events\";\n\nexport class Localization {\n    #events;\n    constructor() {\n        this.#events = new Events();\n    }\n\n    static assembleLanguage (language = 'en') {\n        if (typeof language === \"string\") {\n            if (FB_AVAILABLE_LANGUAGES.includes(language.toLowerCase())) {\n                return language;\n            }\n        }\n\n        return 'en';\n    }\n    static changeLanguage (language = 'en') {\n        if (typeof language === \"string\") {\n            this.#events.notify(WALLKIT_EVENT_CHANGE_LANGUAGE, language);\n        }\n    }\n}\n","import {\n  WALLKIT_MODAL_WRAPPER_CLASSNAME,\n  WALLKIT_MODAL_CLOSE_BTN_CLASSNAME,\n  WALLKIT_MODAL_CONTENT_CLASSNAME,\n  WALLKIT_MODAL_MIN_WIDTH,\n  WALLKIT_MODAL_MIN_HEIGHT, WALLKIT_MODAL_MAX_WIDTH\n} from \"../../configs/constants\";\nimport DOM from '../../utils/DOM';\nimport { loadWallkitAsset } from \"../../utils/loaders\";\nimport { parseModalHashURL } from \"../../utils/url\";\nimport Events from \"../events\";\nimport { MODAL_CLOSED } from \"../events/events-name\";\n\nexport default class Modal {\n    constructor(options) {\n        this.options = options;\n        this.modalFrame = options ? options.resourceFrame : null;\n        this.content = options ? options.content : null;\n        this.modalWrapper = null;\n        this.modalContent = null;\n        this.loaderElement = null;\n        this.isLoading = false;\n        this.closeOutside = true;\n        this.onClose = options ? options.onClose : null;\n    }\n\n    #getModalName() {\n        return this.options?.modalName ?? 'wk-modal';\n    }\n\n    #createElement(elementTag, elementName, options) {\n        let elementIdName = this.#getModalName() + '-' + elementName;\n\n        let elementIndex = 0;\n        let elementId = elementIdName;\n        while (DOM.checkIfElementExists('#' + elementId)) {\n            ++elementIndex;\n            elementId = elementIdName + '-' + elementIndex;\n        }\n\n        return DOM.createElement(elementTag, { id: elementId, ...options });\n    }\n\n    #createCloseBtn() {\n        const closeBtn = this.#createElement('div', 'close-btn', {\n            className: WALLKIT_MODAL_CLOSE_BTN_CLASSNAME\n        });\n        closeBtn.innerHTML = '&#xd7;'; // Plus Symbol\n\n        this.bindCloseEvent(closeBtn);\n\n        return closeBtn;\n    }\n\n    bindCloseEvent(element) {\n        return element.addEventListener('click', this.hide.bind(this));\n    }\n\n    #createWrapper() {\n        let modalClassName = WALLKIT_MODAL_WRAPPER_CLASSNAME;\n\n        if (this.options?.className) {\n            modalClassName += ' ' + this.options?.className;\n        }\n\n        this.modalWrapper = this.#createElement('div', 'wrapper', {\n            styles: {\n                display: 'none',\n            },\n            className: modalClassName\n        });\n\n        this.modalWrapper.addEventListener('click', (event) => {\n            if (event.target.id === this.modalWrapper.id) {\n                if (this.closeOutside) {\n                    this.hide();\n                }\n            }\n        });\n\n        return this.modalWrapper;\n    }\n\n    #createContent() {\n        this.modalContent = this.#createElement('div', 'content', {\n            className: WALLKIT_MODAL_CONTENT_CLASSNAME\n        });\n\n        this.modalContent.style.minWidth = WALLKIT_MODAL_MIN_WIDTH + 'px';\n        this.modalContent.style.minHeight = WALLKIT_MODAL_MIN_HEIGHT + 'px';\n        this.modalContent.style.maxWidth = WALLKIT_MODAL_MAX_WIDTH + 'px';\n\n        return this.modalContent;\n    }\n\n    insertContent(element) {\n       if (this.modalContent && element) {\n           if (typeof element === \"string\") {\n               this.modalContent.insertAdjacentHTML('beforeend', element);\n           } else if (element instanceof HTMLElement) {\n               this.modalContent.appendChild(element);\n           }\n       }\n    }\n\n    toggleLoader(state) {\n        this.isLoading = state;\n        this.loaderElement.style.display = state ? 'flex' : 'none';\n    }\n\n    #createLoader() {\n        this.loaderElement = this.#createElement('div', 'wallkit-modal-spinner', {\n            className: 'wallkit-spinner',\n            styles: {\n                display: this.options?.initialLoader ? 'flex' : 'none',\n            },\n        });\n\n        this.loaderElement.insertAdjacentHTML('beforeend', '<div class=\"wallkit-spinner__container\">' +\n            '<div class=\"cube1\"></div>' +\n            '<div class=\"cube2\"></div>' +\n            '</div>');\n    }\n\n    #completeModal() {\n        this.#loadAssets();\n        this.modalWrapper.appendChild(this.modalContent);\n        this.modalContent.appendChild(this.loaderElement);\n        this.modalContent.appendChild(this.#createCloseBtn());\n\n        if (this.modalFrame) {\n            this.insertContent(this.modalFrame.init());\n        } else if (this.modalContent) {\n            this.insertContent(this.content);\n        }\n\n        return DOM.injectInBody(this.modalWrapper);\n    }\n\n    open(name, params) {\n        if (this.modalFrame) {\n            this.modalFrame.openFrame(name, params);\n            this.show();\n        }\n    }\n\n    destroy() {\n\n    }\n\n    show() {\n        this.modalWrapper.style.display = 'flex';\n    }\n\n    hide() {\n        const events = new Events();\n        events.notify(MODAL_CLOSED, { name: this.#getModalName() });\n\n        if (this.onClose) {\n            this.onClose();\n        }\n\n        this.modalWrapper.style.display = 'none';\n    }\n\n    resize(width, height) {\n        if (this.modalFrame) {\n            this.modalFrame.resize(width, height);\n        }\n    }\n\n    sendEvent(name, value, params) {\n        if (this.modalFrame) {\n            this.modalFrame.sendEvent(name, value, params);\n        }\n    }\n\n    openByHash() {\n        const modal = parseModalHashURL();\n\n        if (modal) {\n            this.open(modal.name, modal.params);\n        }\n    }\n\n    #loadAssets() {\n        loadWallkitAsset('css', '1.0', 'spinner');\n    }\n\n    onReady() {\n        if (this.options?.onReady) {\n            this.options.onReady(this);\n        }\n    }\n\n    init() {\n        this.#createWrapper();\n        this.#createContent();\n        this.#createLoader();\n        this.#completeModal();\n        this.onReady();\n    }\n}\n","import { insertScript } from \"../../utils/DOM\";\nimport { WALLKIT_CDN_URL } from \"../../configs/constants\";\nimport { WALLKIT_SDK_LOADED } from '../events/events-name';\nimport Events from \"../events\";\n\nexport default class SDK {\n    #options;\n    #events;\n    #apiUrl;\n\n    constructor(options) {\n        if (!!SDK.instance) {\n            return SDK.instance;\n        }\n\n        if (!options) {\n            return new Error('No Options Provided');\n        }\n\n        SDK.instance = this;\n\n        this.methods = null;\n        this.client = null;\n        this.#options = options;\n        this.#events = new Events();\n        this.#apiUrl = options.mode === 'dev' ? 'https://api.dev.wallkit.net/api/v1': undefined;\n\n        if (window.Wallkit) {\n            this.onLoad();\n        } else {\n            this.load();\n        }\n    }\n\n    onLoad() {\n        if (window.Wallkit) {\n            window.Wallkit.init({ resource: this.#options.public_key, api_url: this.#apiUrl });\n            this.methods = window.Wallkit;\n            this.client = window.Wallkit.client;\n            this.#events.notify(WALLKIT_SDK_LOADED, window.Wallkit);\n\n            if (this.#options?.onLoaded) {\n                this.#options?.onLoaded();\n            }\n        }\n    }\n\n    awaitLoad() {\n        return new Promise((resolve) => {\n            if (!this.methods) {\n                this.#events.subscribe(WALLKIT_SDK_LOADED, () => resolve(this));\n            } else {\n                resolve(this);\n            }\n        });\n    }\n\n    load() {\n        insertScript(`${WALLKIT_CDN_URL}/js/sdk/0.0.47/wallkit.umd.min.js`, 'wallkit-js-sdk', this.onLoad.bind(this));\n    }\n}\n","import Modal from \"../modal\";\nimport { ChangePasswordForm } from \"../form/forms/ChangePasswordForm\"\nimport {WALLKIT_USER_MANAGER_MODAL_FORM_PLACEHOLDER_ID} from \"../../configs/constants\";\n\nexport default class UserManager {\n\n    constructor(options) {\n        this.popup = options.popup;\n        this.authentication = options.authentication;\n        this.#initModal(options);\n    }\n\n    #initModal(options) {\n        this.modal = new Modal({\n            modalName: options.name || 'user-manager-modal',\n            content: options.content || this.getDefaultUserManagerModalContent(),\n            className: options.className || 'wallkit-auth-modal',\n            initialLoader: options.loader || false\n        });\n        this.modal.init();\n        this.modal.modalWrapper.addEventListener('click', (event) => {\n            if (this.changePasswordForm && event.target.classList.contains('account-settings-link')) {\n                event.preventDefault();\n                this.changePasswordForm.cancelForm();\n            }\n        });\n    }\n\n    #initChangePasswordForm () {\n        if (!this.changePasswordForm) {\n            this.changePasswordForm = new ChangePasswordForm(\n                `#${WALLKIT_USER_MANAGER_MODAL_FORM_PLACEHOLDER_ID}`, {\n                    onCancel: () => {\n                        this.cancelModalForm({\n                            openPopupName: 'account-settings'\n                        });\n                    },\n                    onSubmit: (data) => {\n                        this.#onSubmitChangePasswordForm(data);\n                    }\n                });\n            this.changePasswordForm.render();\n        } else {\n            this.changePasswordForm.resetForm();\n            this.changePasswordForm.reRender();\n        }\n    }\n\n    async #onSubmitChangePasswordForm({old_password, new_password}) {\n        try {\n            if (this.modal) {\n                this.modal.toggleLoader(true);\n            }\n            await this.authentication.firebase.reauthenticateWithCredential(old_password);\n            await this.authentication.firebase.updatePassword(new_password);\n            this.#successChangePasswordForm();\n        } catch (error) {\n            this.#setErrorMessageChangePasswordForm(error);\n        }\n    }\n\n    #setErrorMessageChangePasswordForm (error) {\n        if (this.changePasswordForm) {\n            if (error.message) {\n                this.changePasswordForm.setFormError(error.message);\n            }\n            if (this.modal) {\n                this.modal.toggleLoader(false);\n            }\n        }\n    }\n\n    #successChangePasswordForm () {\n        if (this.changePasswordForm) {\n            this.changePasswordForm.showFormResult(`\n            <div class=\"wk-success-message wk-password-reset-success\">\n                <h2 class=\"wk-success-message__title\">Password updated.</h2>\n                <a href=\"#\" class=\"wk-form__link account-settings-link\">Back to account settings</a>\n            </div>\n        `);\n            if (this.modal) {\n                this.modal.toggleLoader(false);\n            }\n        }\n    }\n\n    cancelModalForm(options) {\n        this.modal.hide();\n        if (options.openPopupName) {\n            this.popup.open(options.openPopupName);\n        }\n    }\n\n    showChangePassword() {\n        this.modal.show();\n        this.#initChangePasswordForm();\n    }\n\n    getDefaultUserManagerModalContent () {\n        return `<div>\n                    <div id=\"user-manager-modal-error\"></div>\n                    <div id=\"${WALLKIT_USER_MANAGER_MODAL_FORM_PLACEHOLDER_ID}\"></div>\n                </div>`;\n    }\n}","import Error, { ERRORS_TYPES } from '../handlers/Error.js';\n\nexport const isDocumentAvailable = () => {\n    return !!document;\n}\n\nexport const checkIfElementExists = (elementSelector) => {\n    if (!isDocumentAvailable()) return Error.handleError('Document is not available', ERRORS_TYPES.DOM_ERROR);\n\n    return !!document.querySelector(elementSelector);\n}\n\nexport const insertAfter = (newNode, referenceNode) => {\n    referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);\n}\n\nexport const createElement = (tag, options) => {\n    if (!isDocumentAvailable()) return Error.handleError('Document is not available', ERRORS_TYPES.DOM_ERROR);\n\n    if (!tag) return Error.checkRequiredArgument(tag);\n\n    const element = document.createElement(tag);\n\n    const { id, className, styles, attributes, innerText, innerHTML } = options ?? {}; // Options Arguments\n\n    if (id) {\n        element.id = id;\n    }\n\n    if (innerText) {\n        element.innerText = innerText;\n    }\n\n    if (innerHTML) {\n        element.innerHTML = innerHTML;\n    }\n\n    if (className) {\n        element.setAttribute('class', className);\n    }\n\n    if (styles && Object.keys(styles) && Object.keys(styles).length) {\n        for (let prop in styles) {\n            if (styles.hasOwnProperty(prop)) {\n                element.style[prop] = styles[prop];\n            }\n        }\n    }\n\n    if (attributes && Object.keys(attributes) && Object.keys(attributes).length) {\n        for (let prop in attributes) {\n            if (attributes.hasOwnProperty(prop)) {\n                element.setAttribute(prop,  attributes[prop]);\n            }\n        }\n    }\n\n    return element;\n}\n\nexport const injectInBody = (element) => {\n    if (!isDocumentAvailable()) return Error.handleError('Document is not available', ERRORS_TYPES.DOM_ERROR);\n    if (!element) return Error.checkRequiredArgument(element, 'element');\n\n    return document.body.appendChild(element);\n}\n\nexport const injectInHead = (element) => {\n    if (!isDocumentAvailable()) return Error.handleError('Document is not available', ERRORS_TYPES.DOM_ERROR);\n    if (!element) return Error.checkRequiredArgument(element, 'element');\n\n    return document.head.appendChild(element);\n}\n\nexport const loadCSS = (url, id) => {\n    if (!isDocumentAvailable()) return Error.handleError('Document is not available', ERRORS_TYPES.DOM_ERROR);\n    if (checkIfElementExists('#' + id)) return;\n\n    const head = document.querySelector('head');\n    const link = document.createElement('link');\n\n    if (id) {\n        link.id = id;\n    }\n\n    link.rel  = 'stylesheet';\n    link.type = 'text/css';\n    link.href = url;\n    link.media = 'all';\n\n    return head.appendChild(link);\n}\n\nexport const insertScript = (url, id, onload) => {\n    if (!isDocumentAvailable()) return Error.handleError('Document is not available', ERRORS_TYPES.DOM_ERROR);\n    if (checkIfElementExists('#' + id)) return;\n\n    const scriptElement = createElement('script', {\n        id,\n        attributes: {\n            src: url\n        }\n    });\n\n    if (onload) {\n        scriptElement.addEventListener('load', onload, { once: true });\n    }\n\n    return injectInBody(scriptElement);\n}\n\nexport const isMobile = () => {\n    if (typeof window !== 'undefined') {\n        return window.innerWidth < 800;\n    } else {\n        return false;\n    }\n};\n\nexport default {\n    createElement,\n    injectInBody,\n    checkIfElementExists,\n    loadCSS,\n    insertScript,\n    isMobile\n}\n","export const setCookie = (name, value, options) => {\n    options = options || {};\n\n    let {expires} = options;\n\n    if (typeof expires === \"number\" && expires) {\n        let date = new Date();\n        date.setTime(date.getTime() + expires * 1000);\n        expires = options.expires = date;\n    }\n    if (expires && expires.toUTCString) {\n        options.expires = expires.toUTCString();\n    }\n\n    value = encodeURIComponent(value);\n\n    let updatedCookie = `${name}=${value}`;\n\n    for (let propName in options) {\n        updatedCookie += \"; \" + propName;\n        let propValue = options[propName];\n        if (propValue) {\n            updatedCookie += \"=\" + propValue;\n        }\n    }\n\n    document.cookie = updatedCookie;\n}\n\nexport const removeCookie = (name) => {\n    document.cookie = `${name}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`;\n}\n\nexport default {\n    setCookie,\n    removeCookie\n}","import { loadCSS, insertScript } from \"./DOM\";\nimport { WALLKIT_CDN_ASSETS_URL } from \"../configs/constants\";\n\nexport const loadWallkitAsset = (type, version, name, min = true) => {\n    switch (type) {\n        case 'css':\n            let assetName = name;\n\n            if (min) {\n                assetName += '.min.css';\n            } else {\n                assetName += '.css';\n            }\n\n            loadCSS(`${WALLKIT_CDN_ASSETS_URL}/css/${version}/${assetName}`, `wk-css-${name}`);\n            return;\n        default:\n           return;\n    }\n}\n\nexport const loadScripts = (scripts) => {\n    if (Array.isArray(scripts)) {\n        scripts.forEach((script) => {\n            insertScript(script.url, script.id, script.onload);\n        });\n    }\n}\n\nexport default {\n    loadWallkitAsset,\n    loadScripts\n}","export default {\n    setItem: function (key, value) {\n        if (!this.isAvailable()) return null;\n\n        return window.localStorage.setItem(key, value);\n    },\n    getItem: function (key) {\n        if (!this.isAvailable()) return null;\n\n        return window.localStorage.getItem(key);\n    },\n    removeItem: function (key) {\n        if (!this.isAvailable()) return;\n\n        return window.localStorage.removeItem(key);\n    },\n    isAvailable: function () {\n        try {\n            window.localStorage.setItem('', '');\n            window.localStorage.removeItem('');\n            return true;\n        } catch(e) {\n            return false;\n        }\n    }\n};","export const isApplePayAvailable = () => {\n    try {\n        if (window.ApplePaySession) {\n            return window.ApplePaySession.canMakePayments();\n        } else {\n            return false;\n        }\n    } catch (e) {\n        console.error(\"ApplePay Error\", e);\n        return false;\n    }\n}","export const parseModalHashURL = () => {\n    const UryModal = /#WkModal\\((.*)\\)$/.exec(decodeURIComponent(window.location.hash));\n    if (UryModal && UryModal[1]) {\n        const par = UryModal[1].split(/,(.+)/);\n\n        if (typeof par[1] !== \"undefined\") {\n            try {\n                par[1] = JSON.parse(par[1])\n            } catch (_) {\n                par[1] = {\n                    value: par[1].trim()\n                }\n            }\n        }\n\n        window.location.hash = \"\";\n\n        return {\n            name: par[0],\n            params: (typeof par[1] === \"object\" ? par[1] : null)\n        }\n    }\n}\n\nexport const parseAuthTokenHash = () => {\n    const hash = decodeURIComponent(window.location.hash)\n\n    if (hash?.includes('wk-authorize')) {\n        const splitHash = hash.split('=');\n\n        const token = splitHash?.[1];\n        if (token) {\n            return token;\n        }\n    }\n\n    return null;\n}\n\nexport const resetHash = () => {\n    window.location.hash = '';\n    const path = window.location.href.replace('#', '');\n    window.history.pushState('', '', path);\n}","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nmodule.exports = _assertThisInitialized, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}\nmodule.exports = _asyncToGenerator, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _classApplyDescriptorGet(receiver, descriptor) {\n  if (descriptor.get) {\n    return descriptor.get.call(receiver);\n  }\n  return descriptor.value;\n}\nmodule.exports = _classApplyDescriptorGet, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _classApplyDescriptorSet(receiver, descriptor, value) {\n  if (descriptor.set) {\n    descriptor.set.call(receiver, value);\n  } else {\n    if (!descriptor.writable) {\n      throw new TypeError(\"attempted to set read only private field\");\n    }\n    descriptor.value = value;\n  }\n}\nmodule.exports = _classApplyDescriptorSet, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nmodule.exports = _classCallCheck, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _classExtractFieldDescriptor(receiver, privateMap, action) {\n  if (!privateMap.has(receiver)) {\n    throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n  }\n  return privateMap.get(receiver);\n}\nmodule.exports = _classExtractFieldDescriptor, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var classApplyDescriptorGet = require(\"./classApplyDescriptorGet.js\");\nvar classExtractFieldDescriptor = require(\"./classExtractFieldDescriptor.js\");\nfunction _classPrivateFieldGet(receiver, privateMap) {\n  var descriptor = classExtractFieldDescriptor(receiver, privateMap, \"get\");\n  return classApplyDescriptorGet(receiver, descriptor);\n}\nmodule.exports = _classPrivateFieldGet, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var classApplyDescriptorSet = require(\"./classApplyDescriptorSet.js\");\nvar classExtractFieldDescriptor = require(\"./classExtractFieldDescriptor.js\");\nfunction _classPrivateFieldSet(receiver, privateMap, value) {\n  var descriptor = classExtractFieldDescriptor(receiver, privateMap, \"set\");\n  classApplyDescriptorSet(receiver, descriptor, value);\n  return value;\n}\nmodule.exports = _classPrivateFieldSet, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nmodule.exports = _createClass, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var superPropBase = require(\"./superPropBase.js\");\nfunction _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get.bind(), module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n      return desc.value;\n    }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  }\n  return _get.apply(this, arguments);\n}\nmodule.exports = _get, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _getPrototypeOf(o);\n}\nmodule.exports = _getPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\nmodule.exports = _inherits, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\nmodule.exports = _interopRequireDefault, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar assertThisInitialized = require(\"./assertThisInitialized.js\");\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return assertThisInitialized(self);\n}\nmodule.exports = _possibleConstructorReturn, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var exports = {},\n    Op = Object.prototype,\n    hasOwn = Op.hasOwnProperty,\n    defineProperty = Object.defineProperty || function (obj, key, desc) {\n      obj[key] = desc.value;\n    },\n    $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n    iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n    asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n    toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n      generator = Object.create(protoGenerator.prototype),\n      context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n    NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n          value = result.value;\n        return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function value(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function (resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function (method, arg) {\n      if (\"executing\" === state) throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method) throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg;;) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method,\n      method = delegate.iterator[methodName];\n    if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel;\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n          next = function next() {\n            for (; ++i < iterable.length;) {\n              if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n            }\n            return next.value = undefined, next.done = !0, next;\n          };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (val) {\n    var object = Object(val),\n      keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) {\n        \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n      }\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n          record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n            hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _setPrototypeOf(o, p);\n}\nmodule.exports = _setPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var getPrototypeOf = require(\"./getPrototypeOf.js\");\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n  return object;\n}\nmodule.exports = _superPropBase, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nmodule.exports = _toPrimitive, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar toPrimitive = require(\"./toPrimitive.js\");\nfunction _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\nmodule.exports = _toPropertyKey, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(6004);\n",""],"names":["LIBRARY_STYLES","WALLKIT_POPUP_URL","WALLKIT_POPUP_DEV_URL","WALLKIT_CDN_URL","WALLKIT_CDN_ASSETS_URL","ALLOWED_ORIGINS","document","location","origin","WALLKIT_MODAL_WRAPPER_CLASSNAME","WALLKIT_MODAL_CLOSE_BTN_CLASSNAME","WALLKIT_MODAL_CONTENT_CLASSNAME","WALLKIT_MODAL_MIN_WIDTH","WALLKIT_MODAL_MAX_WIDTH","WALLKIT_MODAL_MIN_HEIGHT","WALLKIT_FIREBASE_UI_PLACEHOLDER_ID","WALLKIT_FIREBASE_WK_FORM_PLACEHOLDER_ID","WALLKIT_AUTH_FORM_PLACEHOLDER_ID","WALLKIT_USER_MANAGER_MODAL_FORM_PLACEHOLDER_ID","WALLKIT_FRAME_ID","WALLKIT_FIREBASE_CONFIG","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","WALLKIT_DEV_FIREBASE_CONFIG","WALLKIT_TOKEN_NAME","FIREBASE_TOKEN_NAME","FB_AVAILABLE_LANGUAGES","ERRORS_TYPES","DOM_ERROR","ARGUMENT_ERROR","DEFAULT_ERROR_MESSAGES","Error","error_type","error","isErrorRecognisable","message","getErrorTypeMessage","errorMessage","console","log","argument","key","undefined","handleError","window","WallkitIntegration","options","config","events","Events","frame","Frame","onReady","popup","toggleLoader","Modal","resourceFrame","initialLoader","modal","openByHash","onClose","notify","FRAME_MODAL_CLOSED","name","currentFrameName","content","Content","sdk","SDK","onLoaded","authentication","Authentication","firebase","auth","modalTitle","title","reCaptcha","analytics","Analytics","call","Call","init","userManager","UserManager","params","open","eventName","callback","subscribe","unsubscribe","value","sendEvent","defaultInit","onInit","use","addEventListener","event","data","FRAME_MESSAGE","includes","isAuthenticated","isApplePayAvailable","public_key","width","height","resize","redirect","hide","SUCCESS_AUTH","once","show","openFrame","reload","dispatchTokens","closeOutside","showChangePassword","styles","createElement","innerHTML","injectInHead","ticketPassAuthToken","parseAuthTokenHash","handleTicketsToken","resetHash","parseUTM","utmTags","search","queryParams","URLSearchParams","utmParams","foundedUTMParams","forEach","param","get","methods","updateUser","extra","hasUTMTags","Object","keys","length","parseUTMTags","ReCaptchaFirebase","authenticationInstance","enabled","isEnabled","loaded","valid","siteKey","grecaptcha","isMobile","mobile","recaptchaScripts","url","id","defer","onload","EventsNames","RECAPTCHA_LOADED","Promise","resolve","onRecaptchaAuth","bind","hideBadge","loadScripts","style","innerText","reset","handleCaptchaState","local","RECAPTCHA_VALIDATION_FAILED","executeReCaptcha","ready","execute","then","MODAL_CLOSED","resetProcess","initTriggers","emailField","querySelector","submitBtn","cancelBtn","code","onclick","emailBtn","blur","getReCaptchaSettings","response","active","recaptcha_public_key","load","reCaptchaPlaceholder","classList","add","dataset","sitekey","size","modalContent","appendChild","token","validateReCaptchaToken","RECAPTCHA_VALIDATION_SUCCESS","Token","slug","resource","createTokenSlug","set","getStoredTokenValue","LocalStorage","getItem","removeCookie","localStorage","removeItem","setCookie","expires","path","setItem","Firebase","firebaseUiConfig","mode","lang","Localization","assembleLanguage","providers","tosURL","privacyPolicyURL","captchaKey","genuineForm","firebaseui","elementPlaceholder","onSuccessAuth","onAuthStateChanged","uiShown","isUiShown","initialized","GoogleAuthProvider","PROVIDER_ID","EmailAuthProvider","FacebookAuthProvider","element","display","selectedProviders","Array","isArray","map","item","provider","allowedProviders","filter","tosUrl","privacyPolicyUrl","firebaseuiInstance","AuthUI","disableAutoSignIn","callbacks","signInSuccessWithAuthResult","result","user","getIdToken","formattedResult","userId","uid","FIREBASE_UI_SHOWN","signInFlow","signInOptions","formatSelectedProviders","credentialHelper","CredentialHelper","GOOGLE_YOLO","startFirebaseUi","start","uiConfig","signOut","email","password","signInWithEmailAndPassword","handleSuccessAuth","createUserWithEmailAndPassword","currentUser","updateProfile","displayName","operationType","sendPasswordResetEmail","oldPassword","credential","reauthenticateWithCredential","newPassword","updatePassword","signInWithCustomToken","attachListener","setTimeout","FIREBASE_LOADED","initFirebase","FIREBASE_INIT","defaultPlaceholder","elementSelector","reject","loading","onFirebaseAppLoaded","scripts","onScriptLoaded","loadedCounter","loadCSS","insertScript","apps","defaultConfig","initializeApp","instance","firebaseToken","updateFirebaseToken","onFirebaseInit","onAuthFail","onFirebaseAuthFail","initAuthForm","ReCaptcha","state","signIn","authForm","loginForm","setFormError","signUp","updateName","signUpForm","termsOfService","AuthForm","triggerButton","onLogin","executeRecaptcha","handleLogin","onSignUp","handleSignUp","onPasswordReset","toggleFormLoader","genuinePasswordReset","firebasePasswordReset","success","showSuccessPasswordReset","forgotPasswordForm","onAuthFormShow","hideAuthForm","onCancel","showAuthForm","handleAuthError","resetAuthProcess","SUCCESS_FIREBASE_AUTH","authInWallkit","status","authenticateWithFirebase","existed","setToken","userGetTimeout","userEventCallback","clearTimeout","unsubscribeLocalEvent","register","subscribeLocalEvent","error_description","removeTokens","selector","placeholders","targetElement","getElementById","renderType","placeholder","insertAdjacentHTML","getDefaultAuthenticationFormContent","attachFormPlaceholders","checkFirebaseInit","shownTimeout","wallkit","WALLKIT_EVENT_FIREBASE_TOKEN","setFirebaseToken","initCaptchaProcess","e","remove","removeToken","removeFirebaseToken","logout","dispatchWallkitToken","dispatchFirebaseToken","WALLKIT_EVENT_TOKEN","getAuthTokensByTicketPassToken","authWithCustomToken","firebase_custom_token","userCredential","getUser","TICKETS_TOKEN_AUTH_SUCCESS","WALLKIT_EVENT_ONE_TAP_SIGN_IN","render","modalName","className","WALLKIT_EVENT_AUTH","WALLKIT_EVENT_REGISTRATION","WALLKIT_EVENT_GET_TOKEN","WALLKIT_FIREBASE_TOKEN","WALLKIT_EVENT_FIREBASE_CUSTOM_TOKEN","WALLKIT_LOGOUT","visibleFormName","resetFormError","errorPlaceholder","classForHandleClick","classThatReactOnTheUsersStatus","classThatReactOnTheUsersPlans","classThatReactOnTheUsersEvents","setDataWkStatusUserInDOMElements","setDataWkStatusPlansInDOMElements","setDataWkStatusEventsInDOMElements","getUserStatus","querySelectorAll","wkCallStatusUser","subscriptions","plans","s","plan","join","wkCallStatusPlans","assigned_tickets","ti_event","wkCallStatusEvents","setAllDataWkStatusesInDOMElements","debug","_","WALLKIT_EVENT_USER","CHECK_USER_ACCESS","body","target","contains","classes","from","slugAndParamStr","find","startsWith","slugAndParamArr","split","popupSlug","popupParams","preventDefault","popupParamsArr","JSON","stringify","item_type","item_key","wkCallUserHasAccess","client","accessCount","accessCountLimit","taxonomies","formatted","taxonimiesTitles","taxonimiesKeys","taxKey","push","label","termKeysKey","termTitleKey","targetTermKeys","targetTermTitles","items","taxonomy_titles","taxonomy_keys","type","link","href","image","assign","formatTaxonomies","getAccessDetails","allowed","allow","checkAccess","checkContentAccessAndSync","contentId","terms","content_terms","usedLimitInPeriod","accessLimit","ret","d","encodeURIComponent","query","FRAME_CREATED","FRAME_MOUNTED","MODAL_CREATED","WALLKIT_SDK_LOADED","AUTH_MODAL_CLOSED","WALLKIT_CHANGE_FRAME","WALLKIT_FRAME_READY","WALLKIT_FRAME_ROUTE_CHANGE","WALLKIT_EVENT_CHANGE_LANGUAGE","listeners","onceIndexesToRemove","index","TriggerButton","onClick","CheckBoxField","input","validate","checked","inputWrapper","createInputWrapper","createLabel","createCheckMark","wrapper","FormField","PasswordField","insertAffix","togglePasswordVisibility","passwordHint","insertDescription","testStrength","TOGGLE_CLASSNAME","switchPasswordInputType","getValue","passwordValidation","setError","regex","uppercaseRegex","RegExp","uppercaseValid","test","rules","rule","validateRule","createWrapper","createInput","isValid","required","dataSlug","affix","description","onChange","onInput","onEnter","keyCode","onValidate","relatedData","resetValidation","setFieldValidationState","affixElement","descriptionElement","attributes","text","forRef","messageElement","createMessage","insertAfter","removeMessage","focus","SIGN_UP_FORM_SLUG","SIGN_IN_FORM_SLUG","RESET_PASSWORD_FORM_SLUG","defaultFormSlug","defaultForm","LoginForm","onSubmit","resetForm","formWrapper","SignupForm","ForgotPasswordForm","reRender","forms","isVisible","form","showDefaultForm","formKey","showFormResult","ChangePasswordForm","targetElementSelector","footer","getFormFooter","oldPasswordField","submitForm","field","newPasswordField","oldPasswordValue","newPasswordConfirmField","newPasswordValue","fields","formFooter","Form","passwordField","footerWrapper","subFooter","nameField","tosField","getTosAcceptLabel","termsOptions","defaultLabel","placeholderElement","getFormElement","formErrorPlaceholder","resetField","resetFields","markup","formWrapperFields","getElement","formWrapperHeader","formWrapperFooter","isFieldValid","validateForm","insertFormElements","insertHeader","insertFields","insertFooter","frameElement","host","version","scrolling","allowtransparency","frameborder","setAttribute","getFrameURL","contentWindow","frameWindow","postMessage","createFrame","onFrameReady","language","toLowerCase","modalFrame","modalWrapper","loaderElement","isLoading","HTMLElement","parseModalHashURL","elementTag","elementName","elementIdName","elementIndex","elementId","DOM","checkIfElementExists","closeBtn","bindCloseEvent","modalClassName","minWidth","minHeight","maxWidth","insertContent","injectInBody","loadWallkitAsset","Wallkit","onLoad","api_url","openPopupName","getDefaultUserManagerModalContent","loader","changePasswordForm","cancelForm","cancelModalForm","old_password","new_password","isDocumentAvailable","newNode","referenceNode","parentNode","insertBefore","nextSibling","tag","checkRequiredArgument","prop","hasOwnProperty","head","rel","media","scriptElement","src","innerWidth","date","Date","setTime","getTime","toUTCString","updatedCookie","propName","propValue","cookie","min","assetName","script","isAvailable","ApplePaySession","canMakePayments","UryModal","exec","decodeURIComponent","hash","par","parse","trim","splitHash","replace","history","pushState"],"sourceRoot":""}