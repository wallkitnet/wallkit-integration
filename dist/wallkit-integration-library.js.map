{"version":3,"file":"wallkit-integration-library.js","mappings":"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CA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oCAAoC;;AAEpC;AACA;;AAEA;AACA;;AAEA;AACA,wBAAwB,qBAAM,gBAAgB,qBAAM,IAAI,qBAAM,sBAAsB,qBAAM;;AAE1F;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,cAAc;AACzB,aAAa,GAAG;AAChB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,eAAe;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,aAAa,UAAU;AACvB;AACA;AACA,kBAAkB;AAClB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA,kBAAkB;AAClB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,cAAc;AACzB,WAAW,GAAG;AACd,aAAa,GAAG;AAChB;AACA;AACA,kBAAkB,QAAQ,OAAO,UAAU;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;ACl6BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,oCAAoC;;AAEpC;AACA;;AAEA;AACA,wBAAwB,qBAAM,gBAAgB,qBAAM,IAAI,qBAAM,sBAAsB,qBAAM;;AAE1F;AACA;;AAEA;AACA;;AAEA;AACA,kBAAkB,KAA0B;;AAE5C;AACA,gCAAgC,QAAa;;AAE7C;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kDAAkD,cAAc;;AAEhE;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA,8BAA8B,mBAAmB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACrkBA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,aAAa;AACb,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,MAAM;AACN,eAAe;AACf;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,0DAA0D;AAC1D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;;AAEA;AACA;AACA,wCAAwC,WAAW;AACnD;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA,4BAA4B;AAC5B;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,UAAU;AACV;AACA;AACA;AACA;;AAEA;;AAEA,UAAU;AACV;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qCAAqC,cAAc;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iCAAiC,mBAAmB;AACpD;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA,kBAAkB;;AAElB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yBAAyB,gBAAgB;AACzC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,aAAa;AACb;AACA;;AAEA;AACA,aAAa;AACb;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,+CAA+C,QAAQ;AACvD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEA,YAAY;AACZ;AACA;AACA;;AAEA,YAAY;AACZ;AACA;AACA;;AAEA,YAAY;AACZ;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,+CAA+C,QAAQ;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA,KAAK;;AAEL;AACA,+CAA+C,QAAQ;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,+CAA+C,QAAQ;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,CAAC;AACD;AACA;AACA;AACA;AACA,EAAE,KAA0B,oBAAoB,CAAE;AAClD;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;;;;;;UCjvBA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCzBA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA,CAAC;;;;;WCPD;WACA;WACA;WACA;WACA;;;;;UEJA;UACA;UACA;UACA","sources":["webpack:///webpack/universalModuleDefinition","webpack:///./src/assets/styles.js","webpack:///./src/configs/constants.js","webpack:///./src/configs/languages.js","webpack:///./src/handlers/Error.js","webpack:///./src/index.js","webpack:///./src/managers/analytics/index.js","webpack:///./src/managers/authentication/ReCaptcha.js","webpack:///./src/managers/authentication/Token.js","webpack:///./src/managers/authentication/firebase/Firebase.js","webpack:///./src/managers/authentication/index.js","webpack:///./src/managers/call/index.js","webpack:///./src/managers/content/index.js","webpack:///./src/managers/events/events-name.js","webpack:///./src/managers/events/index.js","webpack:///./src/managers/form/buttons/TriggerButton.js","webpack:///./src/managers/form/field/CheckBoxField.js","webpack:///./src/managers/form/field/PasswordField.js","webpack:///./src/managers/form/field/index.js","webpack:///./src/managers/form/forms/AuthForm.js","webpack:///./src/managers/form/forms/ChangePasswordForm.js","webpack:///./src/managers/form/forms/ForgotPasswordForm.js","webpack:///./src/managers/form/forms/LoginForm.js","webpack:///./src/managers/form/forms/ResetPasswordForm.js","webpack:///./src/managers/form/forms/SignUpForm.js","webpack:///./src/managers/form/index.js","webpack:///./src/managers/frame/index.js","webpack:///./src/managers/localization/index.js","webpack:///./src/managers/modal/index.js","webpack:///./src/managers/sdk/index.js","webpack:///./src/managers/user/index.js","webpack:///./src/utils/DOM.js","webpack:///./src/utils/cookie.js","webpack:///./src/utils/crawlers.js","webpack:///./src/utils/loaders.js","webpack:///./src/utils/local-storage.js","webpack:///./src/utils/payments.js","webpack:///./src/utils/url.js","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack:///./node_modules/@babel/runtime/helpers/classApplyDescriptorGet.js","webpack:///./node_modules/@babel/runtime/helpers/classApplyDescriptorSet.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/classExtractFieldDescriptor.js","webpack:///./node_modules/@babel/runtime/helpers/classPrivateFieldGet.js","webpack:///./node_modules/@babel/runtime/helpers/classPrivateFieldSet.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/get.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/interopRequireDefault.js","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/superPropBase.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./node_modules/@babel/runtime/regenerator/index.js","webpack:///./node_modules/lodash.get/index.js","webpack:///./node_modules/lodash.isempty/index.js","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///webpack/bootstrap","webpack:///webpack/runtime/global","webpack:///webpack/runtime/node module decorator","webpack:///webpack/before-startup","webpack:///webpack/startup","webpack:///webpack/after-startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(self, function() {\nreturn ","export const LIBRARY_STYLES = `\n        .wallkit-modal-wrapper {\n            z-index: 100;\n            position: fixed;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background: rgba(18, 18, 20, 0.9);\n            display: flex;\n            align-items: center;\n            justify-content: flex-start;\n            flex-direction: column;\n            overflow-y: auto;\n            padding: 70px 15px 20px;\n        }\n\n        .wallkit-modal-wrapper__content {\n            background-color: #fff;\n            flex-shrink: 0;\n            position: relative;\n            box-sizing: border-box;\n            overflow: hidden;\n        }\n        \n        @media screen and (max-width: 500px) {\n            .wallkit-modal-wrapper__content {\n                width: 100%;\n                min-width: auto!important;\n            }\n        }\n\n        .wallkit-modal-wrapper__close-btn {\n            position: absolute;\n            right: 10px;\n            top: 10px;\n            cursor: pointer;\n            color: #000;\n            font-size: 37px;\n            width: 37px;\n            height: 37px;\n            text-align: center;\n            line-height: 34px;\n        }\n\n        .wallkit-modal-wrapper .wk-frame {\n            transition: all 0.3s linear 0s;\n            max-width: 100%;\n            border: none;\n        }\n\n        .wallkit-auth-modal {\n            z-index: 999;\n        }\n\n        .wallkit-auth-modal .wallkit-modal-wrapper__content {\n            padding: 20px;\n        }\n\n        .wallkit-auth-modal .wallkit-auth-modal__title {\n            font-family: Roboto, sans-serif;\n            text-align: center;\n        }\n        \n        .wk-auth-form {\n            display: flex;\n            flex-direction: column;\n        }\n\n        .wk-form-field {\n            display: flex;\n            flex-direction: column;\n            font-family: Oxygen, sans-serif;\n            margin-bottom: 10px;\n        }\n\n        .wk-form-field .wk-form-field__label {\n            font-weight: 500;\n            color: #333;\n            margin-bottom: 5px;\n        }\n\n        .wk-form-field .wk-form-field__input-wrapper {\n            margin-bottom: 5px;\n            position: relative;\n        }\n        \n        .wk-eye-toggle {\n            background: url(https://www.gstatic.com/images/icons/material/system/1x/visibility_black_24dp.png);\n            width: 24px;\n            height: 24px;\n        }\n        \n        .wk-form-field__field-description {\n            font-size: 11px;\n            color: #989898;\n        }\n        \n        .wk-eye-toggle.wk-eye-toggled {\n            background: url(https://www.gstatic.com/images/icons/material/system/1x/visibility_off_black_24dp.png);\n        }\n        \n        .wk-form-field__field-affix {\n            position: absolute;\n            right: 5px;\n            top: 0;\n            bottom: 0;\n        }\n        \n        .wk-form-field .wk-form-field__input {\n            border-radius: 0;\n            border: 0;\n            border-bottom: 1px solid #ccc;\n            padding: 5px;\n            box-sizing: border-box;\n            width: 100%;\n        }\n        \n        .wk-field-list {\n            list-style-type: circle;\n            padding-left: 12px;\n            margin-top: 1px;\n        }\n\n        .wk-form-field .wk-form-field__input:focus {\n            border-bottom: 1px solid #3f51b5;\n            outline: none;\n        }\n\n        .wk-form-field .wk-form-field__message {\n            font-size: 12px;\n        }\n\n        .wk-auth-form-button {\n            background-color: #db4437;\n            direction: ltr;\n            font-weight: 500;\n            height: auto;\n            line-height: normal;\n            max-width: 220px;\n            min-height: 40px;\n            padding: 8px 16px;\n            text-align: left;\n            width: 100%;\n            box-sizing: border-box;\n            box-shadow: 0 2px 2px 0 rgba(0,0,0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.20), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n            border-radius: 2px;\n            font-family: \"Roboto\",\"Helvetica\",\"Arial\",sans-serif;\n            margin: 0 auto 15px;\n            cursor: pointer;\n        }\n        \n        .wk-auth-form-button:focus,\n        .wk-auth-form-button:active,{\n            background-color: #5b6abe;\n        }\n\n        .wk-form-field.wk-form-field--invalid .wk-form-field__input {\n            border-bottom: 1px solid #dd2c00;\n        }\n        \n        .wk-form-field.wk-form-field--checkbox.wk-form-field--invalid .wk-form-field__checkmark {\n            border-color: #dd2c00;\n        }\n\n        .wk-form-field.wk-form-field--valid .wk-form-field__input {\n            border-bottom: 1px solid green;\n        }\n\n        .wk-form-field.wk-form-field--invalid .wk-form-field__message {\n            color: #dd2c00;\n        }\n\n        .wk-form-field.wk-form-field--valid .wk-form-field__message {\n            color: green;\n        }\n\n        .wk-form .wk-form__link {\n            font-size: 14px;\n            color: #3170f3;\n            text-decoration: underline;\n        }\n\n        .wk-form {\n            font-family: Oxygen, sans-serif;\n        }\n        \n        .wk-form-header {\n            margin-bottom: 10px;\n        }\n\n        .wk-form .wk-form__footer {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n        }\n        \n        .wk-form .wk-form__footer.wk-form__footer--right {\n            justify-content: flex-end;\n        }\n\n        .wk-form .wk-form__sub-footer {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 20px;\n        }\n\n        .wk-form__reset-password {\n            text-align: right;\n        }\n\n        .wk-form-result {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n        }\n\n        .wk-form-button {\n            border: none;\n            border-radius: 2px;\n            background-color: #3f51b5;\n            color: #fff;\n            position: relative;\n            height: 36px;\n            margin: 0;\n            min-width: 64px;\n            padding: 0 16px;\n            display: inline-block;\n            font-family: \"Roboto\", \"Helvetica\", \"Arial\", sans-serif;\n            font-size: 14px;\n            font-weight: 500;\n            text-transform: uppercase;\n            letter-spacing: 0;\n            overflow: hidden;\n            will-change: box-shadow;\n            transition: box-shadow .2s cubic-bezier(0.4, 0, 1, 1),background-color .2s cubic-bezier(0.4, 0, 0.2, 1),color .2s cubic-bezier(0.4, 0, 0.2, 1);\n            outline: none;\n            cursor: pointer;\n            text-decoration: none;\n            text-align: center;\n            line-height: 36px;\n            vertical-align: middle;\n        }\n\n        .wk-form__error {\n            display: none;\n            margin: 10px 0;\n            border: 1px solid #f5c6cb;\n            border-radius: 5px;\n            color: #721c24;\n            background-color: #f8d7da;\n            line-height: 21px;\n            padding: 10px;\n        }\n\n        .wk-form__error.wk-form__error--show {\n            display: block;\n        }\n\n        .wk-form-button.wk-form-button--cancel {\n            margin-left: auto;\n            margin-right: 10px;\n            color: #3f51b5;\n            background: none;\n        }\n        \n        .wk-success-message {\n        }\n        \n        .wk-success-message__title {\n            font-weight: 500;\n            margin-bottom: 10px;\n        }\n        \n        .wk-success-message__description {\n            margin-bottom: 10px;\n        }\n        \n        .wk-success-message__description b {\n            font-weight: 500;\n        }\n\n        .wk-form-button.wk-form-button--cancel:hover {\n            background-color: hsla(0,0%,62%,.2);\n        }\n        \n        .wk-success-message.wk-password-reset-success {\n            min-height: 205px;\n            display: flex;\n            justify-content: center;\n            flex-direction: column;\n        }\n        \n       \n        \n        .wk-form-field.wk-form-field--checkbox .wk-form-field__label {\n            position: relative;\n            padding-left: 30px;     \n            line-height: 20px;\n            font-size: 14px;     \n        } \n        \n        .wk-form-field.wk-form-field--checkbox input {\n            position: absolute;\n            opacity: 0;\n            cursor: pointer;\n            height: 0;\n            width: 0;\n        }\n        \n        .wk-form-field .wk-form-field__checkmark {\n            position: absolute;\n            top: 0;\n            left: 0;\n            height: 18px;\n            width: 18px;\n            background-color: none;\n            border: 2px solid #333;\n            box-sizing: border-box;\n            border-radius: 2px;\n        }\n        \n        .wk-form-field.wk-form-field--checkbox input:checked ~ .wk-form-field__checkmark {\n            background-color: #3f51b5;\n            border-color: #3f51b5;\n        }\n        \n        .wk-form-field__checkmark:after {\n            content: \"\";\n            position: absolute;\n            display: none;\n        }\n        \n        .wk-form-field input:checked ~ .wk-form-field__checkmark:after {\n            display: block;\n        }\n        \n        .wk-form-field .wk-form-field__checkmark:after {\n            left: 5px;\n            top: 2px;\n            width: 3px;\n            height: 7px;\n            border: solid white;\n            border-width: 0 2px 2px 0;\n            -webkit-transform: rotate(45deg);\n            -ms-transform: rotate(45deg);\n            transform: rotate(45deg);\n        }\n`;\n","// Popups\nexport const WALLKIT_POPUP_URL = 'https://wallkit.net/popups';\n// export const WALLKIT_POPUP_URL = 'http://127.0.0.1:8000/popups';\nexport const WALLKIT_POPUP_DEV_URL = 'https://dev.wallkit.net/popups';\n// export const WALLKIT_POPUP_DEV_URL = 'https://wallkit-landing.com/popups';\n// export const WALLKIT_POPUP_DEV_URL = 'http://127.0.0.1:8000/popups';\n\n// Assets\nexport const WALLKIT_CDN_URL = 'https://cdn.wallkit.net';\nexport const WALLKIT_CDN_ASSETS_URL = WALLKIT_CDN_URL + '/assets';\n\n// Safety\nexport const ALLOWED_ORIGINS = [\n    document.location.origin,\n    'http://127.0.0.1:8000',\n    'https://wallkit.net',\n    'https://dev.wallkit.net',\n    'https://demo.wallkit.net',\n    'https://wallkit-landing.com',\n];\n\n// Markup\nexport const WALLKIT_MODAL_WRAPPER_CLASSNAME = 'wallkit-modal-wrapper';\nexport const WALLKIT_MODAL_CLOSE_BTN_CLASSNAME = 'wallkit-modal-wrapper__close-btn';\nexport const WALLKIT_MODAL_CONTENT_CLASSNAME = 'wallkit-modal-wrapper__content';\nexport const WALLKIT_MODAL_MIN_WIDTH = '500';\nexport const WALLKIT_MODAL_MAX_WIDTH = '500';\nexport const WALLKIT_MODAL_MIN_HEIGHT = '250';\nexport const WALLKIT_FIREBASE_UI_PLACEHOLDER_ID = 'firebase-ui-placeholder';\nexport const WALLKIT_FIREBASE_WK_FORM_PLACEHOLDER_ID = 'wk-email-auth-form';\nexport const WALLKIT_AUTH_FORM_PLACEHOLDER_ID = 'wk-auth-form';\nexport const WALLKIT_USER_MANAGER_MODAL_FORM_PLACEHOLDER_ID = 'wk-user-manager-modal-form';\nexport const WALLKIT_FRAME_ID = 'wk-frame';\nexport const TRIGGER_EMAIL_BUTTON_TITLE_SELECTOR = 'span.wk-auth-form-button-email-title';\nexport const TRIGGER_GOOGLE_BUTTON_TITLE_SELECTOR = '#firebase-ui-placeholder .firebaseui-container .firebaseui-idp-google span.firebaseui-idp-text-long';\nexport const TRIGGER_EMAIL_BUTTON_CLASS_NAME = 'wk-auth-form-button';\n\n// Authentication\nexport const WALLKIT_FIREBASE_CONFIG = {\n    apiKey: \"AIzaSyAoRdxZIlUE0HInqtzDid6rNxluhs5nCqg\",\n    authDomain: \"wallkit-production.firebaseapp.com\",\n    databaseURL: \"https://wallkit-production.firebaseio.com\",\n    projectId: \"wallkit-production\",\n    storageBucket: \"wallkit-production.appspot.com\",\n    messagingSenderId: \"779443518820\",\n    appId: \"1:779443518820:web:ffc6660647590674e20e71\",\n    measurementId: \"G-GWJ1GC5B30\"\n};\nexport const WALLKIT_DEV_FIREBASE_CONFIG = {\n    apiKey: \"AIzaSyCmIluc9x63JOu7I5UMZ8q5M4AbluBeC8o\",\n    authDomain: \"wallkit-258413.firebaseapp.com\",\n    databaseURL: \"https://wallkit-258413.firebaseio.com\",\n    projectId: \"wallkit-258413\",\n    storageBucket: \"wallkit-258413.appspot.com\",\n    messagingSenderId: \"767802802956\",\n    appId: \"1:767802802956:web:e8fc363619c47f7fff7f29\",\n    measurementId: \"G-ER6R7Z47R3\"\n};\nexport const WALLKIT_TOKEN_NAME = 'wk-token';\nexport const FIREBASE_TOKEN_NAME = 'firebase-token';\n","export const FB_AVAILABLE_LANGUAGES = [\n    'ar',\n    'bg',\n    'ca',\n    'zh_cn',\n    'zh_tw',\n    'hr',\n    'cs',\n    'da',\n    'nl',\n    'en',\n    'en_gb',\n    'fa',\n    'fil',\n    'fi',\n    'fr',\n    'de',\n    'el',\n    'iw',\n    'hi',\n    'hu',\n    'id',\n    'it',\n    'ja',\n    'ko',\n    'lv',\n    'lt',\n    'no',\n    'pl',\n    'pt_pt',\n    'ro',\n    'ru',\n    'sr',\n    'sk',\n    'sl',\n    'es',\n    'sv',\n    'th',\n    'tr',\n    'uk',\n    'vi'\n];","\nexport const ERRORS_TYPES = {\n    DOM_ERROR: 'DOM_ERROR',\n    ARGUMENT_ERROR: 'ARGUMENT_ERROR'\n}\n\nexport const DEFAULT_ERROR_MESSAGES = {\n    DOM_ERROR: 'DOM Manipulation gone wrong',\n    ARGUMENT_ERROR: 'One of the argument were not provided'\n}\n\n\nexport default class Error {\n    constructor() {\n    }\n\n    static isErrorRecognisable(error_type) {\n        return !!ERRORS_TYPES[error_type];\n    }\n\n    static getErrorTypeMessage(error_type) {\n        return DEFAULT_ERROR_MESSAGES[error_type] ?? 'Unrecognised Error';\n    }\n\n    static handleError(error, error_type) {\n        if (error_type && this.isErrorRecognisable(error_type)) {\n            const message = error ?? Error.getErrorTypeMessage(error_type);\n            const errorMessage = `ERROR::${error_type}; ${message};`;\n            console.log(errorMessage);\n            throw new Error(errorMessage);\n        } else {\n            const errorMessage = `ERROR::${error_type};`;\n            console.log(errorMessage);\n            throw new Error(errorMessage);\n        }\n    }\n\n    static checkRequiredArgument(argument, key) {\n        if (argument === undefined) {\n            this.handleError(`Argument ${key} is not provided`, ERRORS_TYPES.ARGUMENT_ERROR);\n        }\n    }\n}","import Authentication from './managers/authentication';\nimport Modal from './managers/modal';\nimport Frame from './managers/frame';\nimport SDK from './managers/sdk';\nimport Events from \"./managers/events\";\nimport Analytics from \"./managers/analytics\";\nimport Content from \"./managers/content\";\nimport Call from \"./managers/call\";\nimport UserManager from \"./managers/user\"\n\nimport { LIBRARY_STYLES } from './assets/styles';\n\nimport { createElement, injectInHead } from \"./utils/DOM\";\nimport { isApplePayAvailable } from './utils/payments';\nimport { isCrawler } from './utils/crawlers';\n\nimport { ALLOWED_ORIGINS } from './configs/constants';\nimport { SUCCESS_AUTH, FRAME_MESSAGE, FRAME_MODAL_CLOSED } from \"./managers/events/events-name\";\nimport { parseAuthTokenHash, resetHash } from \"./utils/url\";\n\nwindow.WallkitIntegration = class WallkitIntegration {\n    constructor(options) {\n        this.config = options;\n        this.events = new Events();\n        this.content = Content;\n\n        const preventExecutionForCrawlers = options?.prevent_execution_for_crawlers ?? true;\n        if (preventExecutionForCrawlers && isCrawler()) {\n            return;\n        }\n\n        this.frame = new Frame({\n            ...options,\n            onReady: () => this.popup.toggleLoader(false)\n        });\n\n        this.popup = new Modal({\n            resourceFrame: this.frame,\n            initialLoader: true,\n            onReady: (modal) => {\n                modal.openByHash();\n            },\n            onClose: () => {\n                this.events.notify(FRAME_MODAL_CLOSED, { name: this.frame.currentFrameName });\n            }\n        });\n\n        this.sdk = new SDK({\n            ...options,\n            onLoaded: () => {\n                this.authentication = new Authentication({\n                    ...options,\n                    firebase: options?.auth?.firebase,\n                    modalTitle: options?.auth?.modal?.title,\n                    content: options?.auth?.content || options?.auth?.modal?.content,\n                    reCaptcha: options?.auth?.reCaptcha,\n                });\n\n                this.analytics = new Analytics(options?.analytics);\n                this.call = new Call(this.popup, this.config);\n\n                this.init();\n\n                this.userManager = new UserManager({\n                    popup: this.popup,\n                    authentication: this.authentication\n                });\n            }\n        });\n    }\n\n    modal (name, params) {\n        this.popup.open(name, params);\n    }\n\n    on (eventName, callback, options) {\n        this.events.subscribe(eventName, callback, options);\n    }\n\n    off (eventName, callback, options) {\n        this.events.unsubscribe(eventName, callback, options);\n    }\n\n    sendEvent (name, value, params) {\n        this.frame.sendEvent(name, value, params);\n    }\n\n    #eventsListener() {\n        window.addEventListener('message', (event) => {\n            const { data: { value, name }, origin } = event;\n\n            this.events.notify(name, value);\n            this.events.notify(FRAME_MESSAGE, { name, value });\n\n            try {\n                if (ALLOWED_ORIGINS.includes(origin) && name) {\n                    switch (name) {\n                        case \"wk-event-modals-ready\" :\n                            if (this.authentication.isAuthenticated()) {\n                                this.frame.sendEvent(\"wk-event-applepay-ready\", isApplePayAvailable());\n                            } else {\n                                this.frame.sendEvent(\"wk-event-get-token\", this.config.public_key);\n                            }\n\n                            break;\n\n                        case \"wk-event-resize\" :\n                            if (value.width !== 0 && value.height !== 0) {\n                                this.popup.resize(value.width, value.height);\n                            }\n\n                            break;\n\n                        case \"show-firebase-auth\":\n                            const redirect = value;\n                            this.popup.hide();\n                            this.events.subscribe(SUCCESS_AUTH, () => {\n                                if (typeof redirect === \"string\") {\n                                    this.popup.open(redirect);\n                                }\n                            }, { once: true });\n                            this.authentication.show();\n                            this.frame.openFrame('');\n                            break;\n\n                        case \"wk-event-close-modal\" :\n                            this.popup.hide();\n\n                            break;\n\n                        case \"wk-event-reload-page\" :\n                            this.popup.hide();\n                            location.reload();\n\n                            break;\n\n                        case \"wk-event-storage-available\":\n                            if (!value) {\n                                this.authentication.dispatchTokens();\n                            }\n\n                            break;\n\n                        case \"wk-event-close-on-wrapper\":\n                            this.popup.closeOutside = value;\n                            break;\n\n                        case \"wk-firebase-change-password\" :\n                            this.popup.hide();\n                            this.userManager.showChangePassword();\n                            break;\n                    }\n                }\n            } catch (error) {\n                console.log('ERROR', error);\n            }\n        });\n    }\n\n    #insertStyles () {\n        const styles = createElement('style');\n        styles.innerHTML = LIBRARY_STYLES;\n\n        injectInHead(styles);\n    }\n\n    #recogniseURLIncomeParams () {\n        const ticketPassAuthToken = parseAuthTokenHash();\n        if (ticketPassAuthToken) {\n            this.authentication.handleTicketsToken(ticketPassAuthToken);\n            resetHash();\n        }\n    }\n\n    init() {\n        this.#insertStyles();\n        this.popup.init();\n\n        if (this.config.auth.defaultInit !== false) {\n            this.authentication.init();\n        }\n\n        this.analytics.init();\n        this.#eventsListener();\n        this.#recogniseURLIncomeParams();\n\n        if (this.config.onInit) {\n            this.config.onInit(this);\n        }\n\n        if(this.config?.call?.use){\n            this.call.init();\n        }\n\n    }\n}\n\nexport * from './managers/events/events-name';\nexport * from './configs/constants';\n\nexport default WallkitIntegration;\n","import SDK from '../sdk';\nimport Authentication from \"../authentication\";\nimport Events from \"../events\";\nimport { SUCCESS_AUTH } from \"../events/events-name\";\n\nexport default class Analytics {\n    #config;\n    #sdk;\n    #authentication;\n    #events;\n\n    constructor(options) {\n        this.#config = {\n            parseUTM: options?.parseUTM !== undefined ? options.parseUTM : true\n        };\n        this.#authentication = new Authentication();\n        this.#sdk = new SDK();\n        this.#events = new Events();\n\n        this.utmTags = {};\n    }\n\n    parseUTMTags() {\n        if (!window.location.search.includes('utm')) return {};\n\n        const queryParams = new URLSearchParams(window.location.search);\n        const utmParams = ['utm_source', 'utm_medium', 'utm_campaign'];\n\n        let foundedUTMParams = {};\n\n        utmParams.forEach((param) => {\n            if (queryParams.get(param)) {\n                foundedUTMParams[param] = queryParams.get(param);\n            }\n        });\n\n        this.utmTags = foundedUTMParams;\n\n        if (this.#authentication.isAuthenticated()) {\n            this.#sdk.methods.updateUser({\n                extra: this.utmTags\n            });\n        } else if (this.hasUTMTags) {\n            this.#events.subscribe(SUCCESS_AUTH, () => {\n                this.#sdk.methods.updateUser({\n                    extra: this.utmTags\n                });\n            }, {once: true});\n        }\n\n        return foundedUTMParams;\n    }\n\n    get hasUTMTags() {\n        return !!Object.keys(this.utmTags).length;\n    }\n\n    init() {\n        if (this.#config.parseUTM !== false) {\n            this.parseUTMTags();\n        }\n    }\n}","import EventsNames from \"../events/events-name\";\nimport { createElement, injectInBody, injectInHead, isMobile } from \"../../utils/DOM\";\nimport { loadScripts } from \"../../utils/loaders\";\nimport SDK from \"../sdk\";\nimport Events from \"../events\";\n\nexport default class ReCaptchaFirebase {\n    #sdk;\n\n    constructor(authenticationInstance, options) {\n        if (!authenticationInstance) {\n            throw Error('Authentication Instance is not provided');\n        }\n\n        this.enabled = this.isEnabled(options);\n        this.authentication = authenticationInstance;\n        this.options = options;\n        this.loaded = false;\n        this.valid = false;\n        this.siteKey = options?.siteKey;\n        this.grecaptcha = null;\n\n        this.#sdk = new SDK();\n        this.events = new Events();\n    }\n\n    isEnabled (options) {\n        if (isMobile()) {\n            return !!options && options?.mobile !== false;\n        } else {\n            return !!options;\n        }\n    }\n\n    setOptions(options) {\n        if (options) {\n            this.options = options;\n            this.enabled = true;\n        }\n\n\n        return this;\n    }\n\n    async load() {\n        try {\n            if (!this.options) {\n                return false;\n            }\n\n            if (this.loaded) {\n                return true;\n            }\n\n            const recaptchaScripts = [\n                {\n                    url: `https://www.google.com/recaptcha/api.js`,\n                    id: 'recaptcha-script',\n                    defer: true,\n                    onload: () => {\n                        this.loaded = true;\n                        this.grecaptcha = window.grecaptcha;\n                        this.events.notify(EventsNames.RECAPTCHA_LOADED, true);\n\n                        Promise.resolve(true);\n                    }\n                },\n            ];\n\n            window.onRecaptchaAuth = this.#onRecaptchaAuth.bind(this);\n            this.#initReCaptchaPlaceholder();\n            this.hideBadge();\n\n            loadScripts(recaptchaScripts);\n        } catch (e) {\n            console.error(e);\n            return false;\n        }\n    }\n\n    #initReCaptchaPlaceholder() {\n        const reCaptchaPlaceholder = createElement('div');\n        reCaptchaPlaceholder.classList.add('g-recaptcha');\n        reCaptchaPlaceholder.dataset.sitekey = this.siteKey;\n        reCaptchaPlaceholder.dataset.size = 'invisible';\n        reCaptchaPlaceholder.dataset.callback = 'onRecaptchaAuth';\n\n        if (this.authentication.modal) {\n          this.authentication.modal.modalContent.appendChild(reCaptchaPlaceholder);\n        }\n    }\n\n    #onRecaptchaAuth(token) {\n        return this.#sdk.methods.validateReCaptchaToken(token).then(() => {\n            this.events.notify(EventsNames.local.RECAPTCHA_VALIDATION_SUCCESS);\n            this.valid = true;\n            this.authentication.modal.toggleLoader(false);\n        }).catch(() => {\n            this.valid = false;\n        }).finally(() => {\n            this.authentication.modal.toggleLoader(false);\n        })\n    }\n\n    hideBadge() {\n        const style = createElement('style');\n        style.innerText = `.grecaptcha-badge {\n                    visibility: hidden;\n                };`;\n        injectInHead(style);\n    }\n\n    resetProcess() {\n        if (this.grecaptcha) {\n            this.grecaptcha.reset();\n        }\n        this.authentication.firebase.reset();\n        this.authentication.modal.toggleLoader(false);\n    }\n\n    async initCaptchaProcess() {\n        try {\n            this.valid = false;\n\n            if (this.grecaptcha) {\n                this.grecaptcha.reset();\n            }\n\n            const handleCaptchaState = () => {\n                if (!this.valid) {\n                    this.events.notify(EventsNames.local.RECAPTCHA_VALIDATION_FAILED);\n                    this.authentication.firebase.reset();\n                    this.authentication.modal.toggleLoader(true);\n                }\n            }\n\n            const executeReCaptcha = () => {\n                this.authentication.modal.toggleLoader(true);\n                this.grecaptcha.ready(() => {\n                    this.grecaptcha.execute().then(() => {\n                        this.events.subscribe(EventsNames.local.MODAL_CLOSED,\n                            () => this.resetProcess(),\n                            { once: true });\n                    }).catch(() => this.resetProcess())\n                });\n            }\n\n            const initTriggers = () => {\n                executeReCaptcha();\n\n                const emailField = document.querySelector('.firebaseui-id-email');\n                const submitBtn = document.querySelector('.firebaseui-id-page-sign-in .firebaseui-id-submit');\n                const cancelBtn = document.querySelector('.firebaseui-id-page-sign-in .firebaseui-id-secondary-link');\n\n                if (emailField) {\n                    emailField.addEventListener('input', () => {\n                        handleCaptchaState();\n                    });\n\n                    emailField.addEventListener('keydown', (event) => {\n                        if (event.code && event.code === 'Enter') {\n                            handleCaptchaState();\n                        }\n                    });\n                }\n\n                if (cancelBtn) {\n                    cancelBtn.onclick = () => {\n                        handleCaptchaState();\n                    }\n                }\n\n                if (submitBtn) {\n                    submitBtn.onclick = () => {\n                        handleCaptchaState();\n                    }\n                }\n            }\n\n            const emailBtn = document.querySelector('.firebaseui-idp-button[data-provider-id=\"password\"]');\n            const emailField = document.querySelector('.firebaseui-id-email');\n\n            if (emailBtn) {\n                emailBtn.addEventListener('click', initTriggers.bind(this));\n            } else if (emailField) {\n                const submitBtn = document.querySelector('.firebaseui-id-page-sign-in .firebaseui-id-submit');\n                if (submitBtn) {\n                    submitBtn.onclick = () => {\n                        handleCaptchaState();\n                    }\n                }\n\n                emailField.addEventListener('input', () => {\n                    if (!this.valid) {\n                        emailField.blur();\n                        executeReCaptcha();\n                    }\n                });\n            }\n        } catch (error) {\n            this.authentication.firebase.reset();\n            console.error('error', error);\n        }\n    }\n\n    async init () {\n        try {\n            if (!this.options || this.loaded) {\n                return false;\n            }\n\n            if (this.options === true) {\n                const response = await this.#sdk.methods.getReCaptchaSettings()\n\n                if (response && response.active) {\n                    this.siteKey = response.recaptcha_public_key;\n\n                    return this.load();\n                }\n\n            } else {\n                return this.load();\n            }\n\n            return false;\n        } catch (error) {\n            console.error(error);\n            return false;\n        }\n    }\n}\n","import LocalStorage from '../../utils/local-storage';\nimport { removeCookie, setCookie } from \"../../utils/cookie\";\nimport localStorage from \"../../utils/local-storage\";\nimport { getParentDomain } from \"../../utils/url\";\n\nexport default class Token {\n    #slug;\n    #resource;\n    #domain;\n\n    constructor(slug, value, resource, subDomain) {\n        if (slug && resource) {\n            this.#resource = resource;\n            this.#domain = subDomain === true ? getParentDomain() : '';\n            this.#slug = this.createTokenSlug(slug, resource);\n\n            if (value) {\n                this.set(value);\n            } else {\n                this.token = this.getStoredTokenValue() || null;\n            }\n        }\n    }\n\n    createTokenSlug (slug, resource) {\n        return `${slug}_${resource}`;\n    }\n\n    get() {\n        return this.token;\n    }\n\n    getStoredTokenValue() {\n        return LocalStorage.getItem(this.#slug) || null;\n    }\n\n    remove() {\n        this.token = null;\n        removeCookie(this.#slug, this.#domain);\n        localStorage.removeItem(this.#slug);\n    }\n\n    set(value) {\n        this.token = value;\n        setCookie(this.#slug, value, {\n            expires: 'Fri, 31 Dec 9999 23:59:59 GMT',\n            path: \"/\",\n            domain: this.#domain,\n        });\n        localStorage.setItem(this.#slug, value);\n    }\n}\n","import { loadScripts } from \"../../../utils/loaders\";\nimport { insertScript, loadCSS, normalizeSelector } from \"../../../utils/DOM\";\nimport {\n    WALLKIT_FIREBASE_CONFIG,\n    WALLKIT_DEV_FIREBASE_CONFIG,\n    WALLKIT_FIREBASE_UI_PLACEHOLDER_ID,\n} from \"../../../configs/constants\";\nimport { Localization } from \"../../localization\";\nimport Events from \"../../events\";\nimport {\n    FIREBASE_INIT,\n    FIREBASE_LOADED,\n    FIREBASE_UI_SHOWN\n} from \"../../events/events-name\";\n\nexport default class Firebase {\n    #mode;\n\n    constructor(options) {\n        this.events = new Events();\n\n        this.firebaseUiConfig = null;\n        this.#mode = options?.mode;\n        this.lang = Localization.assembleLanguage(options.lang || 'en');\n        this.config = options?.config;\n        this.providers = options?.providers;\n        this.tosURL = options?.tosURL;\n        this.privacyPolicyURL = options?.privacyPolicyURL;\n        this.captchaKey = options?.captchaKey ?? '6LeNZrwbAAAAAKXPTmJj5KMdUwI2GE6XAUbCU6DM';\n        this.genuineForm = options?.genuineForm ?? true;\n\n        this.firebase = null;\n        this.firebaseui = null;\n        this.elementPlaceholder = this.#getElementPlaceholder(options);\n        this.onSuccessAuth = options?.onSuccessAuth ?? null;\n        this.onAuthStateChanged = options?.onAuthStateChanged ?? null;\n        this.uiShown = options?.uiShown ?? null;\n\n        this.isUiShown = false;\n        this.initialized = false;\n        this.loaded = false;\n    }\n\n    #getElementPlaceholder(options) {\n      const defaultPlaceholder = `#${WALLKIT_FIREBASE_UI_PLACEHOLDER_ID}`;\n\n      if (this.genuineForm) {\n        let selector = options?.elementSelector ?? defaultPlaceholder;\n        return normalizeSelector(selector);\n      }\n\n      return defaultPlaceholder;\n    }\n\n    get allowedProviders() {\n        return {\n            'google': this.firebase.auth.GoogleAuthProvider.PROVIDER_ID,\n            'email': this.firebase.auth.EmailAuthProvider.PROVIDER_ID,\n            'facebook': this.firebase.auth.FacebookAuthProvider.PROVIDER_ID,\n            'apple': 'apple.com',\n            'microsoft': 'microsoft.com'\n        }\n    };\n\n    hideAuthForm () {\n        const element = document.querySelector(this.elementPlaceholder);\n\n        if (element) {\n            element.style.display = 'none';\n        }\n    }\n\n    showAuthForm () {\n        const element = document.querySelector(this.elementPlaceholder);\n\n        if (element) {\n            element.style.display = 'block';\n        }\n    }\n\n    #loadFirebase() {\n        return new Promise((resolve, reject) => {\n            this.loading = true;\n            const onFirebaseAppLoaded = () => {\n                const scripts = [\n                    {\n                        url: 'https://www.gstatic.com/firebasejs/8.7.0/firebase-analytics.js',\n                        id: 'firebase-analytics',\n                        defer: true,\n                        onload: () => onScriptLoaded()\n                    },\n                    {\n                        url: 'https://www.gstatic.com/firebasejs/8.7.0/firebase-auth.js',\n                        id: 'firebase-auth',\n                        defer: true,\n                        onload: () => onScriptLoaded()\n                    },\n                    {\n                        url: 'https://www.gstatic.com/firebasejs/8.7.0/firebase-firestore.js',\n                        id: 'firebase-firestore',\n                        defer: true,\n                        onload: () => onScriptLoaded()\n                    },\n                    {\n                        url: `https://www.gstatic.com/firebasejs/ui/4.8.0/firebase-ui-auth__${this.lang}.js`,\n                        id: 'firebase-ui',\n                        defer: true,\n                        onload: () => onScriptLoaded()\n                    },\n                    {\n                        url: 'https://www.gstatic.com/firebasejs/8.7.0/firebase-app-check.js',\n                        id: 'firebase-app-check',\n                        defer: true,\n                        onload: () => onScriptLoaded()\n                    },\n                ];\n\n                let loadedCounter = 0;\n                const onScriptLoaded = () => {\n                    loadedCounter++;\n\n                    if (loadedCounter === scripts.length) {\n                        this.firebase = window.firebase;\n                        this.firebaseui = window.firebaseui;\n\n                        this.loaded = true;\n                        resolve({ firebase: window.firebase, firebaseui: window.firebaseui } )\n                    }\n                };\n\n                loadScripts(scripts);\n\n                loadCSS('https://www.gstatic.com/firebasejs/ui/4.8.0/firebase-ui-auth.css','firebase-ui-styles');\n            };\n\n            insertScript('https://www.gstatic.com/firebasejs/8.7.0/firebase-app.js','firebase-app', onFirebaseAppLoaded);\n        });\n    }\n\n    formatSelectedProviders(providers) {\n        let selectedProviders = [];\n        if (Array.isArray(providers)) {\n            selectedProviders = providers.map((item) => {\n                if ((item === 'email' || item.provider === 'email') && this.genuineForm === false) {\n                    return false;\n                }\n\n                if (typeof item === \"object\") {\n                    if (this.allowedProviders[item.provider]) {\n                        return {\n                            ...item,\n                            provider: this.allowedProviders[item.provider]\n                        }\n                    }\n                } else {\n                    if (this.allowedProviders[item]) {\n                        return this.allowedProviders[item];\n                    }\n                }\n            }).filter((item) => !!item);\n        }\n\n        return selectedProviders;\n    }\n\n    #authStateChanged(user) {\n        if (user) {\n            user.getIdToken().then((token) => {\n                if (this.onAuthStateChanged) {\n                    this.onAuthStateChanged(token);\n                }\n            });\n        }\n    }\n\n    #firebaseInitApp(config) {\n        if (this.firebase.apps.length === 0) {\n            const defaultConfig = this.#mode === 'dev' ? WALLKIT_DEV_FIREBASE_CONFIG : WALLKIT_FIREBASE_CONFIG;\n            this.firebase.initializeApp(config ?? defaultConfig);\n        }\n\n        return this.firebase;\n    }\n\n    async initFirebase({\n       config,\n       providers = ['email', 'google'],\n       tosUrl = 'https://wallkit.net',\n       privacyPolicyUrl = 'https://wallkit.net'\n    }) {\n\n        this.#firebaseInitApp(config);\n\n        const firebaseuiInstance = new this.firebaseui.auth.AuthUI(this.firebase.auth());\n        firebaseuiInstance.disableAutoSignIn();\n\n        this.firebaseUiConfig = {\n            callbacks: {\n                signInSuccessWithAuthResult: (result) => {\n                    result.user.getIdToken().then((token) => {\n                        const formattedResult = {\n                            user: result.user,\n                            userId: result.user.uid,\n                            token: token\n                        }\n\n                        if (this.onSuccessAuth) {\n                            this.onSuccessAuth(formattedResult, result);\n                        }\n                    });\n                },\n                uiShown: () => {\n                    if (this.uiShown) {\n                        this.uiShown();\n                    }\n                    this.events.notify(FIREBASE_UI_SHOWN, true);\n                    this.isUiShown = true;\n                }\n            },\n            signInFlow: 'popup',\n            signInOptions: this.formatSelectedProviders(providers),\n            credentialHelper: this.firebaseui.auth.CredentialHelper.GOOGLE_YOLO,\n            tosUrl,\n            privacyPolicyUrl\n        };\n\n        this.firebaseui = firebaseuiInstance;\n        this.startFirebaseUi(this.elementPlaceholder, this.firebaseUiConfig);\n\n        this.firebase.auth().onAuthStateChanged(this.#authStateChanged.bind(this));\n\n        return true;\n    }\n\n    reset() {\n        if (this.firebaseui) {\n            this.firebaseui.reset();\n            this.firebaseui.start(this.elementPlaceholder);\n        }\n    }\n\n    startFirebaseUi(elementPlaceholder, uiConfig) {\n        this.firebaseui.start(elementPlaceholder || this.elementPlaceholder, uiConfig || this.firebaseUiConfig);\n    }\n\n    logout() {\n        return new Promise((resolve) => {\n            if (this.firebase && this.firebase.auth) {\n                this.firebase.auth().signOut().then(() => resolve(true));\n            } else {\n                resolve(false);\n            }\n        });\n    }\n\n    signIn (email, password) {\n        return this.firebase.auth().signInWithEmailAndPassword(email, password)\n            .then((result) => this.handleSuccessAuth(result));\n    }\n\n    signUp (email, password) {\n        return this.firebase.auth().createUserWithEmailAndPassword(email, password)\n            .then((result) => this.handleSuccessAuth(result));\n    }\n\n    updateName (name) {\n      if (name) {\n        const user = this.firebase.auth().currentUser;\n\n        if (user) {\n          user.updateProfile({\n            displayName: name\n          });\n        }\n      }\n    }\n\n    async handleSuccessAuth (result) {\n        try {\n            if (result) {\n                const token = await result.user.getIdToken();\n\n                const formattedResult = {\n                    operationType: result.operationType,\n                    user: result.user,\n                    userId: result.user.uid,\n                    token: token\n                }\n\n                if (this.onSuccessAuth) {\n                    this.onSuccessAuth(formattedResult, result);\n                }\n            }\n        } catch (e) {\n            console.log('ERROR:', e);\n        }\n    }\n\n    sendPasswordResetEmail(email) {\n        return this.firebase.auth().sendPasswordResetEmail(email);\n    }\n\n    async sendNewPasswordResetPassword(password, oobCode) {\n        if (!password) {\n            throw new Error(\"The password cannot be empty of false.\");\n        }\n        if (!oobCode) {\n            throw new Error(\"Invalid values in the password reset url.\");\n        }\n\n        const passResetUrl = `https://identitytoolkit.googleapis.com/v1/accounts:resetPassword?key=${this.config.apiKey}`\n        return await fetch(passResetUrl,\n            {\n                method: 'POST',\n                body: JSON.stringify({\n                    oobCode: oobCode,\n                    newPassword: password\n                }),\n                headers: { \"Content-Type\": \"application/json\" }\n        }).then(async (res) => {\n            const resJson = await res.json();\n            if (!!resJson.error && !!resJson.error.message) {\n                switch (resJson.error.message) {\n                    case 'OPERATION_NOT_ALLOWED':\n                        throw new Error(\"Password sign-in is disabled for this project.\");\n                    case 'EXPIRED_OOB_CODE':\n                        throw new Error(\"The password reset link has expired.\");\n                    case 'INVALID_OOB_CODE':\n                        throw new Error(\"The password reset link is invalid. This can happen if the code is malformed, expired, or has already been used. Please generate a new one using the Forgot password form.\");\n                    case 'USER_DISABLED':\n                        throw new Error(\"The user account has been disabled by an administrator.\");\n                    default :\n                        throw new Error(resJson.error.message);\n                }\n            } else {\n                return true;\n            }\n        }).catch((error) => {\n            throw error;\n        });\n    }\n\n    async reauthenticateWithCredential (oldPassword) {\n        if (!!oldPassword) {\n            const user = this.firebase.auth().currentUser;\n            if (user) {\n                const credential = this.firebase.auth.EmailAuthProvider.credential(\n                    user.email,\n                    oldPassword\n                );\n                return await user.reauthenticateWithCredential(credential);\n            } else {\n                throw new Error('Your authorization is broken. Please login again.');\n            }\n        } else {\n            throw new Error('Old Password is empty');\n        }\n    }\n\n    async updatePassword (newPassword) {\n        if (!!newPassword) {\n            const user = this.firebase.auth().currentUser;\n            if (user) {\n                await user.updatePassword(newPassword);\n            } else {\n                throw new Error('Your authorization is broken. Please login again.');\n            }\n        } else {\n            throw new Error('New Password is empty');\n        }\n    }\n\n    async authWithCustomToken(token) {\n        try {\n            if (this.firebase && this.firebase.auth) {\n                return await this.firebase.auth().signInWithCustomToken(token);\n            }\n\n            return false;\n        } catch (error) {\n            console.error('Custom Token Auth Fail');\n            return false;\n        }\n    }\n\n    attachEmailListener (callback) {\n        const emailBtn = document.querySelector('.firebaseui-idp-button[data-provider-id=\"password\"]');\n\n        const attachListener = () => {\n            const emailField = document.querySelector('.firebaseui-id-email');\n\n            if (emailField) {\n                emailField.addEventListener('blur', (event) => {\n                    callback(event);\n                });\n            }\n        }\n\n        if (emailBtn) {\n            emailBtn.addEventListener('click', () => {\n                setTimeout(() => {\n                    attachListener();\n                });\n            })\n        } else {\n            attachListener();\n        }\n    }\n\n    init() {\n        this.#loadFirebase().then(() => {\n            this.events.notify(FIREBASE_LOADED, true)\n\n            this.initFirebase({\n                config: this.config,\n                providers: this.providers,\n                tosUrl: this.tosURL,\n                privacyPolicyUrl: this.privacyPolicyURL\n            }).then(() => {\n                this.initialized = true;\n                this.events.notify(FIREBASE_INIT, true)\n            });\n        });\n    }\n}\n","import Modal from '../modal';\nimport Firebase from \"./firebase/Firebase\";\nimport {\n  WALLKIT_FIREBASE_UI_PLACEHOLDER_ID,\n  WALLKIT_FIREBASE_WK_FORM_PLACEHOLDER_ID,\n  WALLKIT_TOKEN_NAME,\n  FIREBASE_TOKEN_NAME,\n  WALLKIT_AUTH_FORM_PLACEHOLDER_ID\n} from \"../../configs/constants\";\nimport EventsNames, { FIREBASE_INIT, FIREBASE_LOADED, FIREBASE_UI_SHOWN, PRE_SIGN_IN } from \"../events/events-name\";\nimport Events from \"../events\";\nimport Frame from \"../frame\";\nimport SDK from \"../sdk\";\nimport Token from \"./Token\";\nimport ReCaptcha from \"./ReCaptcha\";\nimport {AuthForm, RESET_PASSWORD_FORM_SLUG} from \"../form/forms/AuthForm\";\nimport { normalizeSelector } from \"../../utils/DOM\";\nimport { parseResetPasswordOobCodeHash, resetHash } from \"../../utils/url\";\nimport isEmpty from \"lodash.isempty\";\n\nexport default class Authentication {\n    #options;\n    #oobCode='';\n\n    constructor(options) {\n        if (!!Authentication.instance) {\n            return Authentication.instance;\n        }\n\n        Authentication.instance = this;\n\n        this.#options = options;\n\n        this.token = new Token(WALLKIT_TOKEN_NAME, null, options.public_key, !!options?.cookies?.subDomain);\n        this.firebaseToken = new Token(FIREBASE_TOKEN_NAME, null, options.public_key, !!options?.cookies?.subDomain);\n\n        this.frame = new Frame();\n        this.sdk = new SDK();\n\n        if (!!options?.firebase) {\n            let config = {\n                lang: options.lang || 'en',\n                mode: options.mode,\n                onAuthStateChanged: this.updateFirebaseToken.bind(this),\n                onSuccessAuth: this.onSuccessAuth.bind(this),\n                uiShown: this.onFirebaseInit.bind(this),\n                onAuthFail: this.onFirebaseAuthFail.bind(this)\n            }\n\n            if (typeof options.firebase === \"object\") {\n                config = {\n                    ...config,\n                    ...options.firebase\n                }\n\n                if (options.firebase.genuineForm === false) {\n                    config.tosURL = '';\n                    config.privacyPolicyURL = '';\n                }\n            }\n\n            this.firebase = new Firebase(config);\n\n            if (options.firebase.genuineForm === false && this.#isEmailProvider) {\n                this.initAuthForm();\n            }\n        }\n\n        this.reCaptcha = new ReCaptcha(this, options?.reCaptcha);\n        this.reCaptcha.events.subscribe(EventsNames.local.RECAPTCHA_VALIDATION_FAILED, () => {\n            this.#setAuthorizationError('ReCaptcha Validation Failed! Please try again!');\n        });\n        this.reCaptcha.events.subscribe(EventsNames.local.RECAPTCHA_VALIDATION_SUCCESS, () => {\n            this.#resetAuthorizationError();\n        });\n\n        this.events = new Events();\n    }\n\n    get #authPlaceholderElementSelector() {\n        let selector = this.#options?.auth?.firebase?.elementSelector ?? `#${WALLKIT_AUTH_FORM_PLACEHOLDER_ID}`;\n        return normalizeSelector(selector);\n    }\n\n    get #authPlaceholderElementSelectorType() {\n        switch (this.#authPlaceholderElementSelector.charAt(0)) {\n            case '#':\n                return 'id'\n            case '.':\n                return 'class'\n        }\n        return 'id';\n    }\n\n    isAuthenticated() {\n        if (this.sdk) {\n            return this.sdk.methods.isAuthenticated() || this.token.get() || this.firebaseToken.get();\n        } else {\n            return !!this.token.get();\n        }\n    }\n\n    toggleFormLoader(state) {\n        if (this.modal) {\n            this.modal.toggleLoader(state);\n        }\n    }\n\n    handleLogin (data) {\n      this.firebase.signIn(data.email, data.password)\n        .then(() => {})\n        .catch((error) => {\n          if (error.message) {\n            this.authForm.loginForm.setFormError(error.message);\n          }\n          this.reCaptcha.grecaptcha.reset();\n        });\n    }\n\n    handleSignUp (data) {\n      this.firebase.signUp(data.email, data.password)\n        .then(() => {\n          this.firebase.updateName(data.name);\n        })\n        .catch((error) => {\n          if (error.message) {\n            this.authForm.signUpForm.setFormError(error.message);\n          }\n          this.reCaptcha.grecaptcha.reset();\n        });\n    }\n\n    executeRecaptcha () {\n      this.reCaptcha.grecaptcha.ready(() => {\n        this.reCaptcha.grecaptcha.execute().then(() => {\n          this.modal.toggleLoader(true);\n        }).catch((error) => {\n          console.log('EXECUTE RECAPTCHA ERROR:', error);\n        });\n      })\n    }\n\n    get #isEmailProvider () {\n        const { providers } = this.#options.firebase;\n        if (isEmpty(providers)) return false;\n        if(!Array.isArray(providers)) return false;\n        for (const provider of providers) {\n            if (typeof provider === \"string\" && provider.toLowerCase() === 'email') return true;\n            if (typeof provider !== \"string\" && !isEmpty(provider.provider) && provider.provider.toLowerCase() === 'email') return true;\n        }\n        return false;\n    }\n\n    initAuthForm () {\n        const { tosURL, privacyPolicyURL, termsOfService, providers } = this.#options.firebase;\n        this.authForm = new AuthForm(`#${WALLKIT_FIREBASE_WK_FORM_PLACEHOLDER_ID}`, {\n            triggerButton: this.firebase.providers.length > 1,\n            signUp: this.#options.auth.signUp ?? true,\n            termsOfService: { tosURL, privacyPolicyURL, termsOfService },\n            defaultForm: this.#options.auth.defaultForm || false,\n            authProviders: providers || false,\n            customizeAuthForms: this.#options.auth.forms || false,\n            onLogin: async (data) => {\n              const proceed = await this.events.preventiveEvent(PRE_SIGN_IN, data);\n\n              if (!proceed) {\n                return;\n              }\n\n              if (this.reCaptcha.enabled) {\n                this.executeRecaptcha();\n\n                this.reCaptcha.events.subscribe(\n                  EventsNames.local.RECAPTCHA_VALIDATION_SUCCESS,\n                  this.handleLogin.bind(this, data),\n                  { once: true }\n                );\n              } else {\n                this.handleLogin(data);\n              }\n            },\n            onSignUp: (data) => {\n              if (this.reCaptcha.enabled) {\n                this.executeRecaptcha();\n\n                this.reCaptcha.events.subscribe(\n                  EventsNames.local.RECAPTCHA_VALIDATION_SUCCESS,\n                  this.handleSignUp.bind(this, data),\n                  { once: true }\n                );\n              } else {\n                this.handleSignUp(data);\n              }\n            },\n            onPasswordForgot: async (data) => {\n              try {\n                this.toggleFormLoader(true);\n\n                let success;\n                if (this.#options.firebase.genuinePasswordReset === false) {\n                  const { result } = await this.sdk.methods.firebasePasswordReset(data.email);\n                  success = result;\n                } else {\n                  await this.firebase.sendPasswordResetEmail(data.email);\n                  success = true;\n                }\n\n                if (success) {\n                  this.authForm.showSuccessPasswordForgot();\n                } else {\n                  throw new Error('Something went wrong');\n                }\n\n                this.toggleFormLoader(false);\n              } catch (error) {\n                if (error.message) {\n                    this.authForm.forgotPasswordForm.setFormError(error.message);\n                }\n                this.toggleFormLoader(false);\n              }\n            },\n            onPasswordReset: async (data) => {\n                try {\n                    this.toggleFormLoader(true);\n\n                    let success;\n\n                    success = await this.firebase.sendNewPasswordResetPassword(data.new_password, this.#oobCode)\n\n                    if (success) {\n                        this.authForm.showSuccessPasswordReset();\n                    } else {\n                        this.authForm.resetPasswordForm.setFormError(\"Something went wrong\");\n                    }\n\n                    this.toggleFormLoader(false);\n                } catch (error) {\n                    if (error.message) {\n                        this.authForm.resetPasswordForm.setFormError(error.message);\n                    }\n                    this.toggleFormLoader(false);\n                }\n            },\n            onAuthFormShow: () => {\n                this.firebase.hideAuthForm();\n            },\n            onCancel: () => {\n                this.firebase.showAuthForm();\n                this.authForm.reset();\n            }\n        });\n    }\n\n    onSuccessAuth(data) {\n        this.toggleFormLoader(true);\n\n        const handleAuthError = (error) => {\n            this.resetAuthProcess(false);\n            this.toggleFormLoader(false);\n            this.#setAuthorizationError(error?.message || 'Something went wrong!');\n        }\n\n        this.updateFirebaseToken(data.token);\n        this.events.notify(EventsNames.local.SUCCESS_FIREBASE_AUTH, data);\n        this.authInWallkit(data.token)\n            .then((status) => {\n                if (status) {\n                    this.modal.hide();\n                    if (this.authForm) {\n                        this.authForm.hide();\n                    }\n                } else {\n                    handleAuthError();\n                }\n\n                this.toggleFormLoader(false);\n            }).catch((error) => handleAuthError(error));\n    }\n\n    async authInWallkit(firebaseToken = null) {\n        this.#resetAuthorizationError();\n        if (!firebaseToken) {\n            throw new Error('Your authorization is broken. Please login again.');\n        }\n        try {\n            const response = await this.sdk.methods.authenticateWithFirebase(firebaseToken);\n            this.setToken(response.token);\n            return await new Promise((resolve, reject) => {\n                const userGetTimeout = setTimeout(() => {\n                    resolve(false);\n                }, 10000);\n                const userEventCallback = () => {\n                    clearTimeout(userGetTimeout);\n                    this.sdk.methods.unsubscribeLocalEvent('user', userEventCallback);\n                    this.events.notify(EventsNames.local.SUCCESS_AUTH, {register: !response.existed});\n                    resolve(true);\n                };\n                this.sdk.methods.subscribeLocalEvent('user', userEventCallback);\n            });\n        } catch (error) {\n            console.log('error', error);\n            this.removeTokens();\n            throw error;\n        }\n    }\n\n    getDefaultAuthenticationFormContent () {\n        return `<div>\n                    <div id=\"authorization-error\"></div>\n                    <h2 class=\"wallkit-auth-modal__title\">${this.#options?.modalTitle ?? 'Sign In'}</h2>\n                    <div ${this.#authPlaceholderElementSelectorType}=\"${this.#authPlaceholderElementSelector.substring(1)}\"></div>\n                </div>`;\n    }\n\n    attachFormPlaceholders (selector = this.#authPlaceholderElementSelector) {\n      const placeholders = `<div id=\"${WALLKIT_FIREBASE_WK_FORM_PLACEHOLDER_ID}\"></div>\n                            <div id=\"${WALLKIT_FIREBASE_UI_PLACEHOLDER_ID}\"></div>`\n\n      const targetElement = document.querySelector(selector);\n\n      if (targetElement) {\n        targetElement.innerHTML = placeholders;\n      }\n    }\n\n    render () {\n        if (this.#options.auth.renderType === 'selector') {\n            const placeholder = document.querySelector(this.#options.auth.selector);\n\n            if (placeholder) {\n                placeholder.insertAdjacentHTML('beforeend', this.#options?.content || this.getDefaultAuthenticationFormContent());\n            }\n        } else {\n            this.modal = this.#createModal();\n            this.modal.init();\n        }\n\n        this.attachFormPlaceholders();\n    }\n\n    #createModal() {\n        return new Modal({\n            modalName: 'auth-modal',\n            content: this.#options?.content || this.getDefaultAuthenticationFormContent(),\n            className: 'wallkit-auth-modal',\n            initialLoader: true\n        });\n    }\n\n    async show(authFormSlug) {\n        if (this.#options.firebase.genuineForm === false) {\n            if (this.authForm) {\n                this.authForm.defaultForm = authFormSlug;\n                if (!this.authForm.triggerButton || !this.authForm.triggerButton.isVisible) {\n                    this.authForm.showDefaultForm();\n                }\n            }\n        }\n        this.modal.show();\n\n        if (!this.firebase.isUiShown) {\n            this.checkFirebaseInit();\n        }\n    }\n\n    checkFirebaseInit() {\n        if (!this.firebase.loaded) {\n            this.firebase.events.subscribe(FIREBASE_LOADED, () => this.checkFirebaseInit(), { once: true });\n        } else {\n            if (!this.firebase.initialized) {\n                this.firebase.events.subscribe(FIREBASE_INIT, () => this.checkFirebaseInit(), { once: true });\n            } else {\n                let shownTimeout = null;\n                if (!this.firebase.isUiShown) {\n                    shownTimeout = setTimeout(() => {\n                        this.firebase.startFirebaseUi();\n                        this.checkFirebaseInit();\n                    }, 2000);\n\n                    this.firebase.events.subscribe(FIREBASE_UI_SHOWN, () => {\n                        if (shownTimeout) {\n                            clearTimeout(shownTimeout);\n                        }\n                    });\n                }\n            }\n        }\n    }\n\n    updateFirebaseToken(token) {\n        this.firebaseToken.set(token);\n        this.frame.sendEvent(EventsNames.wallkit.WALLKIT_EVENT_FIREBASE_TOKEN, token);\n        this.sdk.methods.setFirebaseToken(token);\n    }\n\n    onFirebaseInit() {\n        try {\n          if (this.#options.firebase.genuineForm !== false) {\n            if (this.reCaptcha.enabled && this.reCaptcha.loaded) {\n              this.reCaptcha.initCaptchaProcess();\n            } else if (!this.reCaptcha.loaded) {\n              this.events.subscribe(EventsNames.local.RECAPTCHA_LOADED, () => {\n                this.reCaptcha.initCaptchaProcess();\n              }, {once: true});\n            }\n          } else if (this.authForm?.triggerButton){\n              this.authForm.triggerButton.events.notify(FIREBASE_UI_SHOWN, true);\n          }\n\n          this.toggleFormLoader(false);\n        } catch (e) {\n          this.toggleFormLoader(false);\n        }\n    }\n\n    removeToken() {\n        this.token.remove();\n    }\n\n    removeFirebaseToken() {\n        this.firebaseToken.remove();\n    }\n\n    removeTokens() {\n        this.removeToken();\n        this.removeFirebaseToken();\n    }\n\n    setToken(token) {\n      this.token.set(token);\n      this.sdk.methods.setToken(token);\n    }\n\n    #initListeners() {\n\n        this.events.subscribe(EventsNames.local.FRAME_MESSAGE, ({ name, value }) => {\n            switch (name) {\n                case EventsNames.wallkit.WALLKIT_EVENT_TOKEN:\n                    if (value) {\n                        this.setToken(value);\n                    }\n                    break;\n                case EventsNames.wallkit.WALLKIT_EVENT_AUTH:\n                case EventsNames.wallkit.WALLKIT_EVENT_REGISTRATION:\n                case EventsNames.wallkit.WALLKIT_EVENT_GET_TOKEN:\n                    if (value) {\n                        let token = value.token;\n                        this.setToken(token);\n                    }\n                    break;\n                case EventsNames.wallkit.WALLKIT_FIREBASE_TOKEN:\n                    this.firebaseToken.set(value);\n                    if (this.sdk) {\n                        this.sdk.methods.setFirebaseToken(value);\n                    }\n                    break;\n                case EventsNames.wallkit.WALLKIT_EVENT_FIREBASE_CUSTOM_TOKEN:\n                    if (value) {\n                        this.firebase.authWithCustomToken(value);\n                    }\n                    break;\n                case EventsNames.wallkit.WALLKIT_LOGOUT:\n                    if (this.isAuthenticated()) {\n                      this.logout();\n                    }\n                    break;\n            }\n        });\n    }\n\n    resetAuthProcess (reset = true) {\n      this.firebase.reset();\n      this.firebase.showAuthForm();\n\n      if (this.firebase.genuineForm === false && reset) {\n        this.authForm.reset();\n      }\n\n      if (this.reCaptcha.enabled) {\n        this.reCaptcha.grecaptcha.reset();\n      }\n    }\n\n    async logout() {\n      try {\n        this.removeToken();\n        const success = await this.firebase.logout();\n\n        if (success) {\n          this.removeFirebaseToken();\n\n          if (this.reCaptcha.enabled && !this.reCaptcha.loaded) {\n            await this.reCaptcha.init();\n          } else if (this.reCaptcha.loaded) {\n            this.resetAuthProcess();\n            this.reCaptcha.grecaptcha.reset();\n\n            if (this.#options.firebase.genuineForm !== false) {\n              this.reCaptcha.initCaptchaProcess();\n            }\n          }\n\n          if (this.sdk.methods.isAuthenticated()) {\n            await this.sdk.methods.logout();\n          } else if (this.token.get() || this.firebaseToken.get()) {\n            this.frame.sendEvent(EventsNames.wallkit.WALLKIT_LOGOUT, true);\n          }\n\n          this.events.notify(EventsNames.local.LOGOUT, true);\n        }\n\n        this.resetAuthProcess();\n      } catch (e) {\n        console.log('ERROR:', e);\n        this.resetAuthProcess();\n      }\n    }\n\n    dispatchTokens() {\n        if (this.isAuthenticated()) {\n           this.dispatchWallkitToken();\n           this.dispatchFirebaseToken();\n        }\n    }\n\n    dispatchWallkitToken() {\n        const token = this.token.get();\n        if (token) {\n            this.frame.sendEvent(EventsNames.wallkit.WALLKIT_EVENT_TOKEN, token);\n        }\n    }\n\n    dispatchFirebaseToken() {\n        const token = this.firebaseToken.get();\n        if (token) {\n            this.frame.sendEvent(EventsNames.wallkit.WALLKIT_EVENT_FIREBASE_TOKEN, token);\n        }\n    }\n\n    async handleTicketsToken(ticketPassAuthToken) {\n        try {\n            const response = await this.sdk.methods.getAuthTokensByTicketPassToken(ticketPassAuthToken);\n\n            if (response) {\n                const userCredential = await this.firebase.authWithCustomToken(response.firebase_custom_token);\n                const firebaseToken = await userCredential.user.getIdToken();\n\n                this.updateFirebaseToken(firebaseToken);\n                this.setToken(response.token);\n\n                await this.sdk.methods.getUser();\n                this.dispatchTokens();\n\n                this.events.notify(EventsNames.local.SUCCESS_AUTH, true);\n                this.events.notify(EventsNames.local.TICKETS_TOKEN_AUTH_SUCCESS, true);\n\n                return true;\n            }\n\n            return false;\n        } catch (error) {\n            console.error(error);\n            return error;\n        }\n    }\n\n    async handleExternalAuthProvider(externalUserId) {\n        try {\n            if (!externalUserId) {\n                return false;\n            }\n\n            const response = await this.sdk.methods.getAuthTokensByExternalUserId(externalUserId);\n            if (!response) {\n                return false;\n            }\n\n            const userCredential = await this.firebase.authWithCustomToken(response.firebase_custom_token);\n            const firebaseToken = await userCredential.user.getIdToken();\n\n            if (!response.token || !firebaseToken) {\n                return false;\n            }\n\n            this.updateFirebaseToken(firebaseToken);\n            this.setToken(response.token);\n\n            await this.sdk.methods.getUser();\n            this.dispatchTokens();\n\n            this.events.notify(EventsNames.local.SUCCESS_AUTH, true);\n            this.events.notify(EventsNames.local.EXTERNAL_PROVIDER_TOKEN_AUTH_SUCCESS, true);\n\n            return true;\n\n        } catch (error) {\n            console.error(error);\n            return error;\n        }\n    }\n\n    #setAuthorizationError(error) {\n        if (this.authForm) {\n            this.authForm.handleError(error);\n        } else {\n            const errorPlaceholder = document.getElementById('authorization-error');\n            if (errorPlaceholder) {\n                if (error === null) {\n                    errorPlaceholder.innerHTML = '';\n                } else {\n                    errorPlaceholder.innerHTML = error || 'Something went wrong!';\n                }\n            }\n        }\n    }\n\n    #resetAuthorizationError() {\n        this.#setAuthorizationError(null);\n    }\n\n    onFirebaseAuthFail(error) {\n        this.toggleFormLoader(false);\n    }\n\n    handleOneTapResponse({ credential }) {\n        this.frame.sendEvent(EventsNames.wallkit.WALLKIT_EVENT_ONE_TAP_SIGN_IN, credential);\n    }\n\n    #checkIfResetPasswordURL() {\n        const oobCode = parseResetPasswordOobCodeHash();\n        if (oobCode) {\n            this.#oobCode = oobCode;\n            if (this.authForm.triggerButton) {\n                this.authForm.triggerButton.hide();\n            }\n            this.firebase.hideAuthForm();\n            this.authForm.showForm(RESET_PASSWORD_FORM_SLUG);\n            this.modal.show();\n            resetHash();\n        }\n    }\n\n    init() {\n        if (!!this.#options?.firebase) {\n            // Render recaptcha before the firebase init if not custom FB form\n            if (this.#options.firebase.genuineForm !== false) {\n              if (this.reCaptcha.enabled) {\n                if (!this.isAuthenticated()) {\n                  this.reCaptcha.init();\n                }\n              }\n            }\n\n            this.render();\n            this.firebase.init();\n\n            if (this.authForm) {\n              this.authForm.render();\n              this.reCaptcha.init();\n            }\n        }\n        this.#initListeners();\n        this.#checkIfResetPasswordURL();\n    }\n}\n","import Events from \"../events\";\nimport EventsNames from \"../events/events-name\";\nimport SDK from \"../sdk\";\n\nexport default class Call {\n    #popup;\n    #config;\n    #events;\n    #sdk;\n    #classForHandleClick;\n    #classThatReactOnTheUsersStatus;\n    #classThatReactOnTheUsersPlans;\n    #classThatReactOnTheUsersEvents;\n\n    constructor(popup, config) {\n        this.#popup = popup;\n        this.#config = config;\n        this.#events = new Events();\n        this.#sdk = new SDK();\n        this.#classForHandleClick = config?.call?.classForHandleClick ?? 'wk-call';\n        this.#classThatReactOnTheUsersStatus = config?.call?.classThatReactOnTheUsersStatus ?? 'wk-call-status-user';\n        this.#classThatReactOnTheUsersPlans = config?.call?.classThatReactOnTheUsersPlans ?? 'wk-call-status-plans';\n        this.#classThatReactOnTheUsersEvents = config?.call?.classThatReactOnTheUsersEvents ?? 'wk-call-status-events';\n    }\n\n    #isDebug() {\n        return !!this.#config?.call?.debug;\n    }\n\n    #initWkListeners() {\n        this.#events.subscribe(EventsNames.local.FRAME_MESSAGE, ({name, _}) => {\n            switch (name) {\n                case EventsNames.wallkit.WALLKIT_EVENT_USER:\n                    this.getWallkitUserData();\n                    break;\n            }\n        });\n\n        this.#events.subscribe(EventsNames.local.SUCCESS_AUTH, (value) => {\n            if (this.#isDebug()) {\n                console.log('subscribe ventsNames.local.SUCCESS_AUTH', value);\n            }\n            this.getWallkitUserData();\n        });\n\n        this.#events.subscribe(EventsNames.local.LOGOUT, () => {\n          this.setAllDataWkStatusesInDOMElements();\n          this.#setDataWkHasAccessInBody(false);\n        });\n\n        this.#events.subscribe(EventsNames.local.CHECK_USER_ACCESS, (value) => {\n            if (this.#isDebug()) {\n                console.log('subscribe ventsNames.local.CHECK_USER_ACCESS', value);\n            }\n            this.#setDataWkHasAccessInBody(value);\n        });\n    }\n\n    // add event listener to body and handle click on elements which have class `${this.#classForHandleClick}`\n    // get class which starts from \"wk\" to obtain slug of popup which we have to open\n    // and params for this popup\n    // ex. <a href=\"#\" class=\"btn btn-primary wk-call wkcheckoutsubscription-94\">Buy</a> ===>\n    // popup slug - checkout; params - {\"item_type\":\"subscription\", \"item_key\":\"94\"}\n    // open popup by slug with params\n    #initUIListeners() {\n        document.body.addEventListener('click', (e) => {\n\n                try {\n\n                    if (this.#isDebug()) {\n                        console.log('Click on element: ', e.target);\n                        console.log(`Does element have class ${this.#classForHandleClick}: ${e.target.classList.contains(this.#classForHandleClick)}`);\n                    }\n\n                    // skip if target element has no class `${this.#classForHandleClick}`\n                    if (!e.target.classList.contains(`${this.#classForHandleClick}`)) return;\n\n                    // retrieve all classes for element\n                    const classes = Array.from(e.target.classList);\n                    const slugAndParamStr = classes.find(className => className.startsWith('wk'));\n\n                    if (this.#isDebug()) {\n                        console.log('Popup\\'s slug and params: ', slugAndParamStr);\n                        console.log('Exit if slug and param === \"undefined\"');\n                    }\n\n                    // skip if we have no popup slug\n                    if (typeof slugAndParamStr === \"undefined\") return;\n\n                    const slugAndParamArr = slugAndParamStr.split(\"\");\n                    const popupSlug = slugAndParamArr[1];\n                    const popupParams = slugAndParamArr[2];\n\n                    if (this.#isDebug()) {\n                        console.log('Popup\\'s slug: ', popupSlug);\n                        console.log('Popup\\'s params: ', popupParams);\n                    }\n\n                    // open popup without params\n                    if (typeof popupSlug !== \"undefined\" && typeof popupParams === \"undefined\") {\n                        if (this.#isDebug()) {\n                            console.log('Open popup without params. Only with slug: ', popupSlug);\n                        }\n                        this.#popup.open(popupSlug);\n                        e.preventDefault();\n                        return;\n                    }\n\n                    // getting key and value params\n                    const popupParamsArr = popupParams.split('-');\n                    let key = popupParamsArr[0];\n                    const value = popupParamsArr[1];\n\n                    if (this.#isDebug()) {\n                        console.log('Popup\\'s param key: ', key);\n                        console.log('Popup\\'s param value: ', value);\n                    }\n\n                    //open popup with params\n                    if (typeof key !== \"undefined\" && typeof value !== \"undefined\") {\n\n                        // make mo readable key for user\n                        if (key === 'ticket') {\n                            key = 'ti_event_ticket';\n                        }\n\n                        // prepare params for popup\n                        const params = JSON.stringify({item_type: key, item_key: value});\n                        const path = `${popupSlug}?[${params}]`\n\n                        if (this.#isDebug()) {\n                            console.log('Open popup with params: ', path);\n                        }\n\n                        this.#popup.open(path);\n                        e.preventDefault();\n                    }\n                } catch (error) {\n                    console.log('WK Call ERROR:', error);\n                }\n            }\n        );\n    }\n\n    getUserStatus() {\n        return this.#sdk.methods.isAuthenticated() ? 'authorized' : 'guest';\n    }\n\n    setAllDataWkStatusesInDOMElements(response) {\n        this.setDataWkStatusUserInDOMElements();\n        this.setDataWkStatusPlansInDOMElements(response);\n        this.setDataWkStatusEventsInDOMElements(response);\n    }\n\n    setDataWkStatusUserInDOMElements() {\n        if (this.#isDebug()) {\n            console.log(`Set user status: \"${this.getUserStatus()}\" for elements:`);\n        }\n        // find all elements with class `${this.#classThatReactOnTheUsersStatus}`\n        for (const element of document.querySelectorAll(`.${this.#classThatReactOnTheUsersStatus}`)) {\n            if (this.#isDebug()) {\n                console.log(element);\n            }\n            element.dataset.wkCallStatusUser = this.getUserStatus();\n        }\n    }\n\n    setDataWkStatusPlansInDOMElements({subscriptions} = {}) {\n\n        let plans = 'undefined';\n\n        if (Array.isArray(subscriptions) && subscriptions.length > 0) {\n            plans = subscriptions.map((s) => s.plan.slug).join(' ');\n        }\n\n        if (this.#isDebug()) {\n            console.log(`Set plans status: \"${plans}\" for elements:`);\n        }\n        // find all elements with class `${this.#classThatReactOnTheUsersPlans}`\n        for (const element of document.querySelectorAll(`.${this.#classThatReactOnTheUsersPlans}`)) {\n            if (this.#isDebug()) {\n                console.log(element);\n            }\n            element.dataset.wkCallStatusPlans = plans;\n        }\n    }\n\n    setDataWkStatusEventsInDOMElements({assigned_tickets} = {}) {\n\n        let events = 'undefined';\n\n        if (Array.isArray(assigned_tickets) && assigned_tickets.length > 0) {\n            events = assigned_tickets.map((s) => s.ti_event.slug).join(' ');\n        }\n\n        if (this.#isDebug()) {\n            console.log(`Set events status: \"${events}\" for elements:`);\n        }\n        // find all elements with class `${this.#classThatReactOnTheUsersEvents}`\n        for (const element of document.querySelectorAll(`.${this.#classThatReactOnTheUsersEvents}`)) {\n            if (this.#isDebug()) {\n                console.log(element);\n            }\n            element.dataset.wkCallStatusEvents = events;\n        }\n    }\n\n    #setDataWkHasAccessInBody(value) {\n        if (this.#isDebug()) {\n            console.log(`Set user has access data \"${value}\" in body element.`);\n        }\n        document.body.dataset.wkCallUserHasAccess = value;\n    }\n\n    getWallkitUserData() {\n        this.#sdk.client.get({path: `/user`})\n            .then((response) => {\n                console.log(response);\n                this.setAllDataWkStatusesInDOMElements(response);\n            })\n            .catch((error) => {\n                console.log('WK Call ERROR:', error);\n                this.setAllDataWkStatusesInDOMElements();\n            });\n    }\n\n    removeAllDataWkStatuses() {\n        if (this.#isDebug()) {\n            console.log(`Remove all wallkit statuses from all DOM Elements.`);\n            console.log('Remove data-wk-call-user-has-access from body element.');\n        }\n        delete document.body.dataset.wkCallUserHasAccess;\n\n        for (const element of document.querySelectorAll(`.${this.#classThatReactOnTheUsersStatus}`)) {\n            if (this.#isDebug()) {\n                console.log('Remove data-wk-call-status-user from element:', element);\n            }\n            delete element.dataset.wkCallStatusUser;\n        }\n        for (const element of document.querySelectorAll(`.${this.#classThatReactOnTheUsersPlans}`)) {\n            if (this.#isDebug()) {\n                console.log('Remove data-wk-call-status-plans from element:', element);\n            }\n            delete element.dataset.wkCallStatusPlans;\n        }\n        for (const element of document.querySelectorAll(`.${this.#classThatReactOnTheUsersEvents}`)) {\n            if (this.#isDebug()) {\n                console.log('Remove data-wk-call-status-events from element:', element);\n            }\n            delete element.dataset.wkCallStatusEvents;\n        }\n    }\n\n    #debugUserStatus() {\n        console.log(`User status: `, this.getUserStatus());\n    }\n\n    #debugElementsClickingOnWhichOpensPopups() {\n        console.log('Elements, clicking on which opens popups:');\n        for (const element of document.querySelectorAll(`.${this.#classForHandleClick}`)) {\n            console.log(element);\n        }\n    }\n\n    #debugElementsThatReactToTheUsersStatus() {\n        console.log('Elements that react to the user\\'s status:');\n        for (const element of document.querySelectorAll(`.${this.#classThatReactOnTheUsersStatus}`)) {\n            console.log(element);\n        }\n    }\n\n    #debugElementsThatReactToTheUsersPlans() {\n        console.log('Elements that react to the user\\'s plans:');\n        for (const element of document.querySelectorAll(`.${this.#classThatReactOnTheUsersPlans}`)) {\n            console.log(element);\n        }\n    }\n\n    #debugElementsThatReactToTheUsersEvents() {\n        console.log('Elements that react to the user\\'s events:');\n        for (const element of document.querySelectorAll(`.${this.#classThatReactOnTheUsersEvents}`)) {\n            console.log(element);\n        }\n    }\n\n    init() {\n        if (this.#isDebug()) {\n            console.log('Init Wallkit Call with config: ', this.#config?.call);\n            this.#debugUserStatus();\n            this.#debugElementsClickingOnWhichOpensPopups();\n            this.#debugElementsThatReactToTheUsersStatus();\n            this.#debugElementsThatReactToTheUsersPlans();\n            this.#debugElementsThatReactToTheUsersEvents();\n        }\n\n        this.#initWkListeners();\n        this.#initUIListeners();\n\n        if (this.#sdk.methods.isAuthenticated()) {\n            this.getWallkitUserData();\n        } else {\n            this.setAllDataWkStatusesInDOMElements();\n        }\n\n    }\n}\n","import SDK from \"../sdk\";\nimport Events from \"../events\";\nimport {CHECK_USER_ACCESS} from \"../events/events-name\";\n\nexport default class Content {\n    #options;\n    #events;\n\n    constructor(content, options={}) {\n        this.content = content;\n        this.#options = this.#optionsCheck(options);\n        this.sdk = new SDK();\n        this.#events = new Events();\n\n        this.accessCount = 0;\n        this.accessCountLimit = 0;\n    }\n\n    #optionsCheck(options) {\n        if (typeof options.checkAccessDetails === \"undefined\") {\n            options.checkAccessDetails = false;\n        }\n        return options;\n    }\n\n    #encodeQueryData(data) {\n        const ret = [];\n\n        for (const d in data) {\n            if (data[d] !== undefined) {\n                ret.push(`${encodeURIComponent(d)}=${encodeURIComponent(data[d])}`);\n            }\n        }\n\n        return ret.join('&');\n    }\n\n    #formatCheckAccessRequestPath(id, params) {\n        const query = this.#encodeQueryData(params);\n\n        return `/user/content-sync-and-check/${id}?${query}`;\n    }\n\n    formatTaxonomies(taxonomies) {\n        const formatted = {};\n\n        const taxonimiesTitles = [];\n        const taxonimiesKeys = [];\n\n        for (const taxKey in taxonomies) {\n            taxonimiesKeys.push(taxKey);\n            taxonimiesTitles.push(taxonomies[taxKey].label);\n\n            let termKeysKey = `term_keys[${taxKey}]`;\n            let termTitleKey = `term_titles[${taxKey}]`;\n\n            if (taxonomies[taxKey]?.items) {\n\n                formatted[termKeysKey] = [];\n                formatted[termTitleKey] = [];\n\n                taxonomies[taxKey].items.forEach((item) => {\n                    formatted[termKeysKey].push(item.slug);\n                    formatted[termTitleKey].push(item.name);\n                });\n            }\n\n            formatted[termKeysKey] = formatted[termKeysKey].join(',');\n            formatted[termTitleKey] = formatted[termTitleKey].join(',');\n        }\n\n        formatted.taxonomy_titles = taxonimiesTitles.join(',');\n        formatted.taxonomy_keys = taxonimiesKeys.join(',');\n\n        return formatted;\n    }\n\n    checkContentAccessAndSync(content) {\n        const queryParams = {\n            type: content.type,\n            title: content.title,\n            link: content.link || window.location.href,\n            image: content.image || null,\n        };\n\n        Object.assign(queryParams, this.formatTaxonomies(content.taxonomies));\n\n        return this.sdk.client.get({ path: this.#formatCheckAccessRequestPath(content.id, queryParams) }).then((response) => {\n            if (this.sdk.methods.isAuthenticated()) {\n                this.getAccessDetails(content.id);\n            }\n\n            this.#events.notify(CHECK_USER_ACCESS, response.allow);\n            return { allowed: response.allow, data: response };\n        }).catch((error) => {\n\n            this.#events.notify(CHECK_USER_ACCESS, false);\n            return { allowed: false, error: error };\n        })\n    }\n\n    async checkAccess() {\n        try {\n            const response = await this.sdk.methods.checkAccess(this.content.id);\n            if (this.sdk.methods.isAuthenticated() || this.#options.checkAccessDetails) {\n                await this.getAccessDetails(this.content.id);\n            }\n\n            this.#events.notify(CHECK_USER_ACCESS, response.allow);\n            return { allowed: response.allow, data: response };\n        } catch (error) {\n            if (error.error === 'incorrect_content_key') {\n                return this.checkContentAccessAndSync(this.content);\n            }\n\n            this.#events.notify(CHECK_USER_ACCESS, false);\n            return { allowed: false, error: error };\n        }\n    }\n\n    getAccessDetails(contentId) {\n        return this.sdk.client.get({ path: `/user/content-access-details/${contentId}` }).then((response) => {\n            if (response) {\n                const terms = response.content_terms;\n\n                this.accessCount = terms.usedLimitInPeriod;\n                this.accessCountLimit = terms.accessLimit;\n\n                return {\n                    accessCount: this.accessCount,\n                    accessCountLimit: this.accessCountLimit\n                }\n            }\n\n            return {\n                accessCount: 0,\n                accessCountLimit: 0\n            }\n        }).catch((error) => {\n            return error;\n        });\n    }\n}\n","// Local Events Names\nexport const FRAME_CREATED = 'frame-created';\nexport const FRAME_MOUNTED = 'frame-mounted';\nexport const MODAL_CREATED = 'modal-created';\nexport const SUCCESS_AUTH = 'success-auth';\nexport const PRE_SIGN_IN = 'pre-sign-in';\nexport const SUCCESS_FIREBASE_AUTH = 'success-firebase-auth';\nexport const WALLKIT_SDK_LOADED = 'wallkit-js-sdk-loaded';\nexport const FRAME_MESSAGE = 'frame-message';\nexport const AUTH_MODAL_CLOSED = 'auth-modal-closed';\nexport const FRAME_MODAL_CLOSED = 'frame-modal-closed';\nexport const MODAL_CLOSED = 'modal-closed';\nexport const RECAPTCHA_LOADED = 'recaptcha-loaded';\nexport const RECAPTCHA_VALIDATION_FAILED = 'recaptcha-validation-failed';\nexport const RECAPTCHA_VALIDATION_SUCCESS = 'recaptcha-validation-success';\nexport const TICKETS_TOKEN_AUTH_SUCCESS = 'tickets-token-auth-success';\nexport const FIREBASE_LOADED = 'firebase-loaded';\nexport const FIREBASE_INIT = 'firebase-init';\nexport const FIREBASE_UI_SHOWN = 'firebase-ui-shown';\nexport const CHECK_USER_ACCESS = 'check-user-access';\nexport const EXTERNAL_PROVIDER_TOKEN_AUTH_SUCCESS = 'external-provider-token-auth-success';\nexport const LOGOUT = 'logout';\nexport const DEFAULT_AUTH_FORM_SLUG_UPDATED = 'default-auth-form-slug-updated';\n\n// Wallkit Events Names\nexport const WALLKIT_CHANGE_FRAME = 'wk-event-modal';\nexport const WALLKIT_LOGOUT = 'wk-event-logout';\nexport const WALLKIT_FIREBASE_TOKEN = 'wk-firebase-token';\nexport const WALLKIT_EVENT_FIREBASE_TOKEN = 'wk-event-firebase-token';\nexport const WALLKIT_EVENT_TOKEN = 'wk-event-token';\nexport const WALLKIT_FRAME_READY = 'wk-event-modals-ready';\nexport const WALLKIT_EVENT_GET_TOKEN = 'wk-event-get-token';\nexport const WALLKIT_EVENT_AUTH = 'wk-event-auth';\nexport const WALLKIT_EVENT_USER = 'wk-event-user';\nexport const WALLKIT_EVENT_REGISTRATION = 'wk-event-registration';\nexport const WALLKIT_EVENT_ONE_TAP_SIGN_IN = 'wk-event-one-tap-sign-in';\nexport const WALLKIT_FRAME_ROUTE_CHANGE = 'wk-event-route-change';\nexport const WALLKIT_EVENT_FIREBASE_CUSTOM_TOKEN = 'wk-event-firebase-custom-token';\nexport const WALLKIT_EVENT_CHANGE_LANGUAGE = 'wk-event-change-language';\nexport const WALLKIT_EVENT_EXTERNAL_PROVIDER_TOKEN = 'wk-event-external-provider-token';\n\nexport default {\n    local: {\n        FRAME_CREATED,\n        FRAME_MOUNTED,\n        MODAL_CREATED,\n        SUCCESS_AUTH,\n        SUCCESS_FIREBASE_AUTH,\n        FRAME_MESSAGE,\n        AUTH_MODAL_CLOSED,\n        FRAME_MODAL_CLOSED,\n        MODAL_CLOSED,\n        RECAPTCHA_LOADED,\n        RECAPTCHA_VALIDATION_FAILED,\n        RECAPTCHA_VALIDATION_SUCCESS,\n        TICKETS_TOKEN_AUTH_SUCCESS,\n        CHECK_USER_ACCESS,\n        PRE_SIGN_IN,\n        EXTERNAL_PROVIDER_TOKEN_AUTH_SUCCESS,\n        DEFAULT_AUTH_FORM_SLUG_UPDATED,\n        LOGOUT\n    },\n    wallkit: {\n        FRAME_CREATED,\n        WALLKIT_LOGOUT,\n        WALLKIT_FIREBASE_TOKEN,\n        WALLKIT_EVENT_FIREBASE_TOKEN,\n        WALLKIT_EVENT_TOKEN,\n        WALLKIT_FRAME_READY,\n        WALLKIT_EVENT_GET_TOKEN,\n        WALLKIT_EVENT_AUTH,\n        WALLKIT_EVENT_USER,\n        WALLKIT_EVENT_REGISTRATION,\n        WALLKIT_EVENT_ONE_TAP_SIGN_IN,\n        WALLKIT_FRAME_ROUTE_CHANGE,\n        WALLKIT_EVENT_FIREBASE_CUSTOM_TOKEN,\n        WALLKIT_EVENT_CHANGE_LANGUAGE,\n        WALLKIT_EVENT_EXTERNAL_PROVIDER_TOKEN\n    }\n}\n","export default class Events {\n    constructor() {\n        if (!!Events.instance) {\n            return Events.instance;\n        }\n\n        Events.instance = this;\n        this.listeners = [];\n\n        return this;\n    }\n\n    subscribe(eventName, callback, options) {\n        this.listeners.push({ name: eventName, callback, options: options });\n    }\n\n    unsubscribe(eventName, callback) {\n        this.listeners = this.listeners.filter((event) => {\n            return ((event.name !== eventName) || (event.callback !== callback));\n        });\n    }\n\n    notify(eventName, data) {\n        let onceIndexesToRemove = [];\n        this.listeners.forEach((event, index) => {\n            if (eventName === event.name) {\n                event.callback(data);\n\n                if (!!event?.options?.once) {\n                    onceIndexesToRemove.push(index);\n                }\n            }\n        })\n\n        this.listeners = this.listeners.filter((item, index) => !onceIndexesToRemove.includes(index));\n    }\n\n    getEventByName (eventName) {\n      return this.listeners?.find((item) => item.name === eventName);\n    }\n\n    async preventiveEvent (eventName, data) {\n      const event = this.getEventByName(eventName);\n\n      if (event) {\n        try {\n          const proceed = await event.callback(data);\n\n          return !!proceed;\n        } catch (e) {\n          console.log('ERROR:', e);\n        }\n      }\n\n      return true;\n    }\n}\n","import { createElement } from \"../../../utils/DOM\";\nimport Events from \"../../events\";\nimport {FIREBASE_UI_SHOWN, DEFAULT_AUTH_FORM_SLUG_UPDATED} from \"../../events/events-name\";\nimport {\n    SIGN_IN_FORM_SLUG,\n    SIGN_UP_FORM_SLUG\n} from \"../forms/AuthForm\";\nimport {\n    TRIGGER_EMAIL_BUTTON_TITLE_SELECTOR,\n    TRIGGER_GOOGLE_BUTTON_TITLE_SELECTOR,\n    TRIGGER_EMAIL_BUTTON_CLASS_NAME\n} from \"../../../configs/constants\";\nimport isEmpty from 'lodash.isempty';\nimport get from 'lodash.get';\n\nexport class TriggerButton {\n    #fullLabel = {\n        email: 'Sign in with email',\n    };\n    #emailButonIconUrl = 'https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg';\n    #className = TRIGGER_EMAIL_BUTTON_CLASS_NAME;\n    #buttonsTitleSelector = {\n        email: TRIGGER_EMAIL_BUTTON_TITLE_SELECTOR,\n        google: TRIGGER_GOOGLE_BUTTON_TITLE_SELECTOR\n    }\n    #options;\n\n    constructor(selector, options) {\n        this.#options = this.checkOptions(options);\n        this.events = new Events();\n        this.selector = selector;\n        this.element = this.createElement();\n        this.subscribeEventForChanges();\n\n        if (options.onClick) {\n            this.element.addEventListener('click', options.onClick.bind(this));\n        }\n    }\n\n    checkOptions(options) {\n        if(!Array.isArray(options.authProviders)) return options;\n        for (const authProvider of options.authProviders) {\n            if (typeof authProvider !== \"string\" && isEmpty(authProvider.provider)) continue;\n\n            const aProvider = typeof authProvider === \"string\" ? authProvider : authProvider.provider.toLowerCase();\n            options[aProvider] = {\n                fullLabel: '',\n                signInLabel: '',\n                signUpLabel: '',\n                label: '',\n                backgroundColor: '',\n                textColor: '',\n                textColorStyle: '',\n                iconUrl: '',\n                styles: {}\n            };\n            const { fullLabel, signInLabel, signUpLabel, buttonColor, buttonTextColor, iconUrl } = authProvider;\n            if (aProvider === 'email') {\n                options[aProvider].fullLabel = this.#fullLabel[aProvider];\n                options[aProvider].label = this.#fullLabel[aProvider];\n                options[aProvider].iconUrl = this.#emailButonIconUrl;\n            }\n            if (!isEmpty(fullLabel)) {\n                options[aProvider].fullLabel = fullLabel;\n                options[aProvider].label = fullLabel;\n            }\n            if (!isEmpty(signInLabel)) {\n                options[aProvider].signInLabel = signInLabel;\n                if (options.defaultFormSlug === SIGN_IN_FORM_SLUG) {\n                    options[aProvider].label = signInLabel;\n                }\n            }\n            if (!isEmpty(signUpLabel)) {\n                options[aProvider].signUpLabel = signUpLabel;\n                if (options.defaultFormSlug === SIGN_UP_FORM_SLUG) {\n                    options[aProvider].label = signUpLabel;\n                }\n            }\n            if (!isEmpty(buttonColor)) {\n                options[aProvider].backgroundColor = buttonColor;\n                options[aProvider].styles.backgroundColor = buttonColor;\n            }\n            if (!isEmpty(buttonTextColor )) {\n                options[aProvider].textColor = buttonTextColor;\n                options[aProvider].textColorStyle = ` style=\"color:${buttonTextColor}\"`;\n            }\n            if (!isEmpty(iconUrl)) {\n                options[aProvider].iconUrl = iconUrl;\n            }\n        }\n        return options;\n    }\n\n    subscribeEventForChanges() {\n        /** change Firebase button titles on load */\n        this.events.subscribe(FIREBASE_UI_SHOWN, () => {\n            this.#changeAuthButtonsTitle(this.#options.defaultFormSlug, false);\n            this.#changeAuthButtonsTitleColor();\n        }, {once: true});\n\n        /** change titles on auth form change */\n        this.events.subscribe(DEFAULT_AUTH_FORM_SLUG_UPDATED, (value) => {\n            const newValue = get(value, 'new', false);\n            const oldValue = get(value, 'old', false);\n            if (newValue && newValue !== oldValue) {\n                this.#changeAuthButtonsTitle(newValue, oldValue);\n            }\n        });\n    }\n\n    #changeAuthButtonsTitleColor() {\n        if(!Array.isArray(this.#options.authProviders)) return;\n        for (const authProvider of this.#options.authProviders) {\n            if (isEmpty(authProvider.provider)) continue;\n\n            const aProvider = authProvider.provider.toLowerCase();\n            if (aProvider !== 'email') {\n                const textColor = get(this.#options[aProvider], 'textColor', false);\n                if (!textColor) continue;\n\n                const buttonsTitle = document.querySelectorAll(this.#buttonsTitleSelector[aProvider]);\n                if (buttonsTitle) {\n                    buttonsTitle.forEach( (item) => {\n                        item.style.color = textColor;\n                    });\n                }\n            }\n        }\n    }\n\n    #changeAuthButtonsTitle(authNew, authOld) {\n        if(!Array.isArray(this.#options.authProviders)) return;\n        if ( authNew && authNew !== authOld && [SIGN_UP_FORM_SLUG, SIGN_IN_FORM_SLUG].includes(authNew) ) {\n            for (const authProvider of this.#options.authProviders) {\n                if (isEmpty(authProvider.provider)) continue;\n\n                const aProvider = authProvider.provider.toLowerCase();\n                const {signInLabel, signUpLabel, fullLabel} = this.#options[aProvider];\n                if (!isEmpty(this.#options[aProvider]) && (!isEmpty(signInLabel) || !isEmpty(signUpLabel))) {\n                    const buttonsTitle = document.querySelectorAll(this.#buttonsTitleSelector[aProvider]);\n                    const title = (authNew === SIGN_UP_FORM_SLUG) ? signUpLabel || fullLabel : signInLabel || fullLabel;\n                    if (buttonsTitle && title) {\n                        buttonsTitle.forEach((item) => {\n                            item.innerHTML = title;\n                        });\n                    }\n                }\n            }\n        }\n    }\n\n    createElement () {\n        const elementKey = 'email';\n        const { iconUrl, textColorStyle, label, styles } = this.#options[elementKey];\n        return createElement('div', {\n            className: this.#className,\n            innerHTML: `\n                <span class=\"firebaseui-idp-icon-wrapper\">\n                    <img class=\"firebaseui-idp-icon\" alt=\"\" src=\"${iconUrl}\">\n                </span>\n                <span class=\"wk-auth-form-button-email-title firebaseui-idp-text firebaseui-idp-text-long\"${textColorStyle}>${label}</span>`,\n            styles\n        });\n    }\n\n    hide () {\n        this.element.style.display = 'none';\n    }\n\n    show () {\n        this.element.style.display = 'block';\n    }\n\n    render() {\n        const targetElement = document.querySelector(this.selector);\n\n        if (targetElement) {\n            targetElement.appendChild(this.element);\n        }\n    }\n\n    get isVisible () {\n        if (window.getComputedStyle(this.element)){\n            return window.getComputedStyle(this.element).getPropertyValue('display') === 'block';\n        }\n        return false;\n    }\n}\n","import { FormField } from \"./index\";\nimport { createElement } from \"../../../utils/DOM\";\n\nexport class CheckBoxField extends FormField {\n  constructor(options) {\n    super(options);\n\n    this.type = 'checkbox';\n\n    this.input.addEventListener('change', this.validate.bind(this));\n  }\n\n  createCheckMark () {\n    return createElement('span', {\n      className: 'wk-form-field__checkmark',\n    });\n  }\n\n  createWrapper () {\n    return createElement('div', {\n      className: 'wk-form-field wk-form-field--checkbox'\n    });\n  }\n\n  getValue () {\n    return this.input.checked;\n  }\n\n  render (options) {\n    this.inputWrapper = this.createInputWrapper();\n\n    const label = this.createLabel(options.label, options.name);\n    label.appendChild(this.input);\n    label.appendChild(this.createCheckMark());\n\n    this.inputWrapper.appendChild(label);\n    this.wrapper.appendChild(this.inputWrapper);\n  }\n}\n","import { FormField } from \"./index\";\n\nexport class PasswordField extends FormField {\n    constructor(options) {\n        super(options);\n\n        this.insertAffix(`<div id=\"show-password-toggle\" class=\"wk-eye-toggle\"></div>`, this.togglePasswordVisibility.bind(this))\n\n        if (options.passwordHint) {\n            this.insertDescription(`<div>\n            <span>Password should match requirements:</span>\n            <ul class=\"wk-field-list\">\n                <li>at least 1 uppercase character (A-Z)</li>\n                <li>at least 1 lowercase character (a-z)</li>\n                <li>at least 1 digit (0-9)</li>\n                <li>at least 1 special character (punctuation)</li>\n                <li>at least 8 characters length</li>\n            </ul>\n        </div>`);\n        }\n\n        this.testStrength = options.testStrength ?? false;\n    }\n\n    togglePasswordVisibility () {\n        const targetElement = this.wrapper.querySelector('#show-password-toggle');\n        const TOGGLE_CLASSNAME = 'wk-eye-toggled';\n\n        if (targetElement) {\n            if (targetElement.classList.contains(TOGGLE_CLASSNAME)) {\n                targetElement.classList.remove(TOGGLE_CLASSNAME);\n                this.switchPasswordInputType('password');\n            } else {\n                targetElement.classList.add(TOGGLE_CLASSNAME);\n                this.switchPasswordInputType('text');\n            }\n        }\n    }\n\n    switchPasswordInputType (type) {\n        if (this.input) {\n            this.input.type = type || 'password';\n        }\n    }\n\n    #testPasswordRule (value, regex, errorMessage) {\n      const uppercaseRegex = new RegExp(regex);\n      const uppercaseValid = uppercaseRegex.test(value);\n\n      if (!uppercaseValid) {\n        return {\n          message: errorMessage,\n          valid: false\n        };\n      }\n\n      return {\n        valid: true\n      }\n    }\n\n    #testPassword (password) {\n        if (!this.testStrength) {\n          return {\n            valid: true\n          };\n        }\n\n        const rules = [\n          {\n            regex: \"^(?=.{8,})\",\n            message: \"At least 8 characters length\"\n          },\n          {\n            regex: \"^(?=.*[A-Z])\",\n            message: \"At least 1 uppercase character (A-Z)\"\n          },\n          {\n            regex: \"^(?=.*[a-z])\",\n            message: \"At least 1 lowercase character (a-z)\"\n          },\n          {\n            regex: \"^(?=.*[0-9])\",\n            message: \"At least 1 digit (0-9)\"\n          },\n          {\n            regex: \"^(?=.*[`~!@#$%^&*()+={}\\/|:;'<>,.?_-])\",\n            message: \"At least 1 special character (punctuation)\"\n          },\n        ];\n\n        for (let rule of rules) {\n          const validateRule = this.#testPasswordRule(password, rule.regex, rule.message);\n\n          if (!validateRule.valid) {\n            return validateRule;\n          }\n        }\n\n        return {\n          valid: true\n        };\n    }\n\n    validate () {\n      const value = this.getValue();\n      const passwordValidation = this.#testPassword(value);\n\n      if (!passwordValidation.valid) {\n        this.setError(`<div>\n                <span>Password should be: ${passwordValidation.message}</span>\n            </div>`);\n\n        return false;\n      }\n      return super.validate();\n    }\n\n}\n","import {createElement, insertAfter} from \"../../../utils/DOM\";\n\nexport class FormField {\n    constructor(options) {\n        if (!options) {\n            throw new Error('No Options Provided');\n        }\n\n        this.wrapper = this.createWrapper(options);\n        this.input = this.createInput(options);\n        this.type = options.type || 'text';\n        this.message = null;\n        this.isValid = false;\n        this.required = options.required || false;\n        this.slug = options.dataSlug;\n\n        this.render(options);\n\n        if (options.affix) {\n            this.insertAffix(options.affix.content, options.affix.onClick);\n        }\n\n        if (options.description) {\n            this.insertDescription(options.description);\n        }\n\n        if (options.onChange) {\n            this.input.addEventListener('change', options.onChange.bind(this));\n        }\n\n        if (options.onInput) {\n            this.input.addEventListener('input', options.onInput.bind(this));\n        }\n\n        this.input.addEventListener('blur', this.validate.bind(this));\n\n        if (options.onEnter) {\n          this.input.addEventListener('keydown', (event) => {\n            if (event.keyCode === 13) {\n              options.onEnter();\n            }\n          });\n        }\n\n        if (options.onValidate && typeof options.onValidate === \"function\") {\n            this.onValidate = options.onValidate;\n        }\n\n        if (options.relatedData) {\n            this.relatedData = options.relatedData;\n        }\n    }\n\n    getElement () {\n        return this.wrapper;\n    }\n\n    getValue () {\n        return this.input.value;\n    }\n\n    validate () {\n        const value = this.getValue();\n\n        if (this.required && !value) {\n            this.setError('This field is required.');\n\n            return false;\n        }\n\n        if (this.type === 'email') {\n            if (!value) {\n                this.setError('Enter your email address to continue.');\n\n                return false;\n            } else if (!value.length > 4 || !value.includes('@') || !value.includes('.')) {\n                this.setError('This email address isn\\'t correct.');\n\n                return false;\n            }\n        } else if (this.type === 'password') {\n            if (!value) {\n                this.setError('Enter your password to continue.');\n\n                return false;\n            }\n        }\n\n        if (this.onValidate) {\n            if (!this.onValidate(this)) {\n                return false;\n            }\n        }\n\n        this.resetValidation();\n        this.setFieldValidationState(true);\n\n        return true;\n    }\n\n    createWrapper () {\n        return createElement('div', {\n            className: 'wk-form-field'\n        });\n    }\n\n    createInputWrapper () {\n        return createElement('div', {\n            className: 'wk-form-field__input-wrapper',\n        });\n    }\n\n    insertAffix (content, onClick) {\n        const affixElement = createElement('div', {\n            className: 'wk-form-field__field-affix',\n            innerHTML: content\n        });\n\n        affixElement.addEventListener('click', onClick);\n        this.inputWrapper.appendChild(affixElement);\n    }\n\n    insertDescription (description) {\n        const descriptionElement = createElement('div', {\n            className: 'wk-form-field__field-description',\n            innerHTML: description\n        });\n\n        this.wrapper.appendChild(descriptionElement);\n    }\n\n    createInput (options) {\n        return createElement('input', {\n            className: 'wk-form-field__input',\n            id: options.id || options.name,\n            attributes: {\n                name: options.name,\n                type: options.type || 'text',\n                placeholder: options.placeholder || ''\n            }\n        });\n    }\n\n    createLabel (text, forRef) {\n        return createElement('label', {\n            className: 'wk-form-field__label',\n            attributes: {\n                for: forRef\n            },\n            innerHTML: text\n        });\n    }\n\n    createMessage (message, valid) {\n        const messageElement = createElement('span', {\n            className: `wk-form-field__message`,\n        });\n\n        messageElement.innerHTML = message;\n\n        return messageElement;\n    }\n\n    setError (message) {\n        if (!this.message) {\n            this.setFieldValidationState(false);\n            this.message = this.createMessage(message, false);\n            insertAfter(this.message, this.inputWrapper);\n        } else if (this.message) {\n            this.message.innerHTML = message;\n        }\n    }\n\n    removeMessage () {\n        if (this.message) {\n            this.message.remove();\n            this.message = null;\n        }\n    }\n\n    setFieldValidationState (valid) {\n        this.isValid = valid;\n        if (!valid) {\n            this.wrapper.classList.add('wk-form-field--invalid');\n            this.wrapper.classList.remove('wk-form-field--valid');\n        } else {\n            this.wrapper.classList.add('wk-form-field--valid');\n            this.wrapper.classList.remove('wk-form-field--invalid');\n        }\n    }\n\n    resetValidation () {\n        this.removeMessage();\n        this.wrapper.classList.remove('wk-form-field--valid', 'wk-form-field--invalid');\n    }\n\n    resetField () {\n        this.input.value = '';\n        this.resetValidation()\n    }\n\n    focus () {\n      this.input.focus();\n    }\n\n    render (options) {\n      this.inputWrapper = this.createInputWrapper();\n      this.wrapper.appendChild(this.createLabel(options.label, options.name));\n      this.inputWrapper.appendChild(this.input);\n      this.wrapper.appendChild(this.inputWrapper);\n    }\n}\n","import { createElement } from \"../../../utils/DOM\";\n\nimport { TriggerButton } from \"../buttons/TriggerButton\";\nimport { LoginForm } from \"./LoginForm\";\nimport { SignupForm } from \"./SignUpForm\";\nimport { ForgotPasswordForm } from \"./ForgotPasswordForm\";\nimport { ResetPasswordForm } from \"./ResetPasswordForm\";\nimport {DEFAULT_AUTH_FORM_SLUG_UPDATED} from \"../../events/events-name\";\n\nexport const SIGN_UP_FORM_SLUG = 'sign-up';\nexport const SIGN_IN_FORM_SLUG = 'sign-in';\nexport const FORGOT_PASSWORD_FORM_SLUG = 'forgot-password';\nexport const RESET_PASSWORD_FORM_SLUG = 'reset-password';\n\nexport class AuthForm {\n    #options;\n\n    constructor(selector, options) {\n        this.#options = options;\n        this.defaultForm = options?.defaultForm || false;\n\n        // this.wrapper = createElement('div', {\n        //     id: 'wk-auth-form'\n        // });\n\n        this.loginForm = new LoginForm(selector, {\n            cancelBtn: options.triggerButton !== false,\n            signUp: options.signUp ?? true,\n            ...(options.customizeAuthForms?.signIn || {}),\n            onSubmit: (data) => {\n                if (options.onLogin) {\n                    options.onLogin(data);\n                }\n            },\n            onCancel: () => {\n                if (options.onCancel) {\n                    options.onCancel();\n                    this.loginForm.resetForm();\n                }\n            }\n        });\n        this.loginForm.formWrapper.addEventListener('click', (event) => {\n            if (event.target.id === 'auth-signup-link') {\n                event.preventDefault();\n\n                this.showForm(SIGN_UP_FORM_SLUG);\n            } else if (event.target.id === 'auth-password-link') {\n                event.preventDefault();\n\n                this.showForm(FORGOT_PASSWORD_FORM_SLUG);\n            }\n        });\n        this.loginForm.hide();\n\n        if (options.signUp === true) {\n            this.signUpForm = new SignupForm(selector, {\n                ...(options.customizeAuthForms?.signUp || {}),\n                cancelBtn: options.triggerButton !== false,\n                termsOfService: options.termsOfService,\n                onSubmit: (data) => {\n                    if (options.onSignUp) {\n                        options.onSignUp(data);\n                    }\n                },\n                onCancel: () => {\n                    if (options.onCancel) {\n                        options.onCancel();\n                        this.signUpForm.resetForm();\n                    }\n                }\n            });\n            this.signUpForm.formWrapper.addEventListener('click', (event) => {\n                if (event.target.id === 'auth-signin-link') {\n                    event.preventDefault();\n\n                    this.showForm(SIGN_IN_FORM_SLUG);\n                }\n            });\n            this.signUpForm.hide();\n        }\n\n        this.forgotPasswordForm = new ForgotPasswordForm(selector, {\n            ...(options.customizeAuthForms?.forgotPassword || {}),\n            onSubmit: (data) => {\n                if (options.onPasswordForgot) {\n                    options.onPasswordForgot(data);\n                }\n            }\n        });\n\n        this.forgotPasswordForm.formWrapper.addEventListener('click', (event) => {\n            if (event.target.id === 'back-to-login') {\n                event.preventDefault();\n\n                this.showForm(SIGN_IN_FORM_SLUG);\n                this.forgotPasswordForm.reRender();\n            }\n        });\n        this.forgotPasswordForm.hide();\n\n        this.resetPasswordForm = new ResetPasswordForm(selector, {\n            ...(options.customizeAuthForms?.resetPassword || {}),\n            onSubmit: (data) => {\n                if (options.onPasswordReset) {\n                    options.onPasswordReset(data);\n                }\n            }\n        });\n\n        this.resetPasswordForm.formWrapper.addEventListener('click', (event) => {\n            if (event.target.id === 'back-to-login') {\n                event.preventDefault();\n\n                this.showForm(SIGN_IN_FORM_SLUG);\n                this.resetPasswordForm.reRender();\n            }\n        });\n        this.resetPasswordForm.hide();\n\n        if (options.triggerButton !== false) {\n            this.triggerButton = new TriggerButton(selector, {\n                authProviders: options.authProviders,\n                defaultFormSlug: this.defaultFormSlug,\n                onClick: () => {\n                    this.defaultForm.show();\n                    this.triggerButton.hide();\n                    if (options.onAuthFormShow) {\n                        options.onAuthFormShow();\n                    }\n                }\n            });\n        }\n\n        this.forms = {\n            [FORGOT_PASSWORD_FORM_SLUG]: this.forgotPasswordForm,\n            [RESET_PASSWORD_FORM_SLUG]: this.resetPasswordForm,\n            [SIGN_IN_FORM_SLUG]: this.loginForm,\n            [SIGN_UP_FORM_SLUG]: this.signUpForm\n        };\n    }\n\n    get defaultForm () {\n        return this.forms[this.defaultFormSlug];\n    }\n\n    set defaultForm (formSlug) {\n        const oldSlug = this.defaultFormSlug;\n        if (formSlug && [SIGN_UP_FORM_SLUG, SIGN_IN_FORM_SLUG, FORGOT_PASSWORD_FORM_SLUG, RESET_PASSWORD_FORM_SLUG].includes(formSlug)) {\n            this.defaultFormSlug = formSlug;\n        } else {\n            this.defaultFormSlug = this.#options.defaultForm || SIGN_UP_FORM_SLUG;\n        }\n        if (this.#options.triggerButton !== false && this.triggerButton) {\n            this.triggerButton.events.notify(DEFAULT_AUTH_FORM_SLUG_UPDATED, {\n                \"new\": this.defaultFormSlug,\n                \"old\": oldSlug\n            });\n        }\n    }\n\n    get activeForm () {\n        let form = false;\n        if (!!this.forms && Object.keys(this.forms).length){\n            Object.keys(this.forms).forEach(key => {\n                if (this.forms[key].isVisible) {\n                    form = this.forms[key];\n                }\n            });\n        }\n        return form;\n    }\n\n    showForm (authFormSlug) {\n        if (authFormSlug && this.forms[authFormSlug]) {\n            this.hide();\n            this.forms[authFormSlug].show();\n        }\n    }\n\n    showDefaultForm () {\n        this.showForm(this.defaultFormSlug)\n    }\n\n    reset () {\n        this.hide();\n\n        if (this.triggerButton) {\n            this.triggerButton.show();\n        } else {\n            this.showDefaultForm();\n        }\n    }\n\n    hide () {\n        if (!!this.forms) {\n            for (let formKey in this.forms) {\n                const form = this.forms[formKey];\n\n                if (form) {\n                    form.hide();\n                    form.resetForm();\n                }\n            }\n        }\n    }\n\n    handleError(error) {\n        if (this.activeForm) {\n            if (error === null) {\n                this.activeForm.resetFormError(error);\n            } else {\n                this.activeForm.setFormError(error);\n            }\n        }\n    }\n\n    showSuccessPasswordForgot () {\n        const email = this.forgotPasswordForm.emailField.getValue();\n\n        this.forgotPasswordForm.showFormResult(`\n            <div class=\"wk-success-message wk-password-reset-success wk-password-forgot-message\">\n                <p class=\"wk-success-message__description\">Please follow the instructions sent to <b>${email}</b> to set a new password.</p>\n                <button id=\"back-to-login\" class=\"wk-form-button wk-form-button--cancel\">Back to login</button>\n            </div>\n        `);\n    }\n\n    showSuccessPasswordReset () {\n        this.resetPasswordForm.showFormResult(`\n            <div class=\"wk-success-message wk-password-reset-success wk-password-reset-message\">\n                <h2 class=\"wk-success-message__title\">Your password had been saved successfully!</h2>\n                <button id=\"back-to-login\" class=\"wk-form-button wk-form-button--cancel\">Back to login</button>\n            </div>\n        `);\n    }\n\n    render () {\n        if (this.loginForm) {\n            this.loginForm.render();\n        }\n\n        if (this.signUpForm) {\n            this.signUpForm.render();\n        }\n\n        if (this.forgotPasswordForm) {\n            this.forgotPasswordForm.render();\n        }\n\n        if (this.resetPasswordForm) {\n            this.resetPasswordForm.render();\n        }\n\n        if (this.triggerButton) {\n            this.triggerButton.render()\n        } else {\n            this.showDefaultForm();\n        }\n    }\n}\n","import { createElement } from \"../../../utils/DOM\";\nimport { Form } from \"../index\";\n\nimport { PasswordField } from \"../field/PasswordField.js\";\n\nexport class ChangePasswordForm extends Form {\n    constructor(targetElementSelector, options) {\n        super(targetElementSelector, options);\n\n        this.onCancel = options.onCancel || false;\n        this.options = options;\n        this.options.title = 'Change Password' || options.title;\n        this.options.footer = this.getFormFooter() || options.footer;\n\n        this.oldPasswordField = new PasswordField({\n            dataSlug: 'old_password',\n            name: 'wk-old-password',\n            testStrength: false,\n            passwordHint: false,\n            label: 'Old Password',\n            type: 'password',\n            onEnter: () => {\n                this.submitForm();\n            },\n            onValidate: (field) => {\n                const value = field.getValue();\n                if (!value) {\n                    field.setError(`<div>\n                            <span>Password cannot be empty.</span>\n                        </div>`);\n                    return false;\n                }\n                return true;\n            }\n        });\n        this.newPasswordField = new PasswordField({\n            dataSlug: 'new_password',\n            name: 'wk-new-password',\n            testStrength: true,\n            passwordHint: true,\n            label: 'New Password',\n            type: 'password',\n            relatedData: {\n                oldPassword: this.oldPasswordField\n            },\n            onEnter: () => {\n              this.submitForm();\n            },\n            onValidate: (field) => {\n                const oldPasswordValue = field.relatedData.oldPassword.getValue();\n                const value = field.getValue();\n                if (oldPasswordValue === value) {\n                    field.setError(`<div>\n                            <span>The new password must not match the old one.</span>\n                        </div>`);\n                    return false;\n                }\n                return true;\n            }\n        });\n        this.newPasswordConfirmField = new PasswordField({\n            dataSlug: 'new_password_confirm',\n            name: 'wk-new-password-confirm',\n            testStrength: true,\n            passwordHint: false,\n            label: 'New Password Confirmation',\n            type: 'password',\n            relatedData: {\n                newPassword: this.newPasswordField\n            },\n            onEnter: () => {\n                this.submitForm();\n            },\n            onValidate: (field) => {\n                const newPasswordValue = field.relatedData.newPassword.getValue();\n                const value = field.getValue();\n                if (newPasswordValue !== value) {\n                    field.setError(`<div>\n                            <span>The password confirmation must be the same as the new password.</span>\n                        </div>`);\n                    return false;\n                }\n                return true;\n            }\n        });\n\n        this.fields = [\n            this.oldPasswordField,\n            this.newPasswordField,\n            this.newPasswordConfirmField,\n        ];\n\n        this.init();\n\n    }\n\n    cancelForm() {\n        if (typeof this.onCancel === \"function\") {\n            this.onCancel();\n        }\n    }\n\n    getFormFooter () {\n        const formFooter = createElement('div', {\n            className: 'wk-form__footer'\n        });\n        formFooter.appendChild(createElement('a', {\n            className: 'wk-form__link account-settings-link',\n            innerText: 'Cancel',\n            attributes: {\n                href: '#'\n            }\n        }));\n        formFooter.appendChild(this.submitBtn);\n\n        return formFooter;\n    }\n}\n","import { createElement } from \"../../../utils/DOM\";\nimport { Form } from \"../index\";\n\nimport { FormField } from \"../field\";\n\nexport class ForgotPasswordForm extends Form {\n    constructor(targetElementSelector, options) {\n        super(targetElementSelector, options);\n\n        this.options = options;\n        this.options.title = options.title || 'Reset Password';\n        this.options.footer = this.getFormFooter() || options.footer;\n\n        this.emailField = new FormField({\n            name: 'wk-fb-email',\n            dataSlug: 'email',\n            label: 'Email',\n            type: 'email',\n            onEnter: () => {\n              this.submitForm();\n            }\n        });\n\n        this.fields = [\n            this.emailField\n        ];\n\n        this.init();\n    }\n\n    getFormFooter () {\n        const formFooter = createElement('div', {\n            className: 'wk-form__footer'\n        });\n        formFooter.appendChild(this.cancelBtn);\n        this.cancelBtn.id = 'back-to-login';\n\n        formFooter.appendChild(this.submitBtn);\n\n        return formFooter;\n    }\n\n}\n","import { createElement } from \"../../../utils/DOM\";\nimport { Form } from \"../index\";\n\nimport { FormField } from \"../field\";\nimport { PasswordField } from \"../field/PasswordField.js\";\n\nexport class LoginForm extends Form {\n    constructor(targetElementSelector, options) {\n        super(targetElementSelector, options);\n\n        this.options = options;\n        this.options.title = options.title || 'Sign in with email';\n        this.options.footer = this.getFormFooter() || options.footer;\n\n        this.emailField = new FormField({\n            dataSlug: 'email',\n            name: 'wk-fb-email',\n            label: 'Email',\n            type: 'email',\n            onEnter: () => {\n              this.passwordField.focus();\n            }\n        });\n\n        this.passwordField = new PasswordField({\n            dataSlug: 'password',\n            name: 'wk-fb-password',\n            testStrength: false,\n            label: 'Password',\n            type: 'password',\n            onEnter: () => {\n              this.submitForm();\n            }\n        });\n\n        this.fields = [\n            this.emailField,\n            this.passwordField\n        ];\n\n        this.init();\n\n        if (options.onCancel) {\n            this.cancelBtn.addEventListener('click', options.onCancel.bind(this));\n        }\n    }\n\n    getFormFooter() {\n        const footerWrapper = createElement('div');\n\n        const subFooter = createElement('div', {\n            className: 'wk-form__sub-footer',\n        });\n\n        const signUpWrapper = createElement( 'div', {\n            className: 'wk-form__footer-sign-up',\n            innerText: this.options.signUpPreLinkTitle || '',\n        });\n\n        if (this.options.signUp === true) {\n            signUpWrapper.appendChild(createElement('a', {\n                id: 'auth-signup-link',\n                className: 'wk-form__link',\n                innerText: this.options.signUpLinkTitle || 'Sign Up',\n                attributes: {\n                    href: '#'\n                }\n            }));\n        }\n        subFooter.appendChild(signUpWrapper);\n\n        subFooter.appendChild(createElement('a', {\n            className: 'wk-form__link wk-form__reset-password',\n            innerText: 'Forgot password',\n            id: 'auth-password-link',\n            attributes: {\n                href: '#'\n            }\n        }));\n\n        const formFooter = createElement('div', {\n            className: 'wk-form__footer wk-form__footer--right'\n        });\n\n        footerWrapper.appendChild(subFooter);\n\n        if (this.options.cancelBtn !== false) {\n          formFooter.appendChild(this.cancelBtn);\n        }\n        formFooter.appendChild(this.submitBtn);\n\n        footerWrapper.appendChild(formFooter);\n\n        return footerWrapper;\n    }\n}\n","import { createElement } from \"../../../utils/DOM\";\nimport { Form } from \"../index\";\n\nimport {PasswordField} from \"../field/PasswordField\";\n\nexport class ResetPasswordForm extends Form {\n    constructor(targetElementSelector, options) {\n        super(targetElementSelector, options);\n\n        this.options = options;\n        this.options.title = options.title || 'Reset Password';\n        this.options.footer = this.getFormFooter() || options.footer;\n\n        this.newPasswordField = new PasswordField({\n            dataSlug: 'new_password',\n            name: 'wk-new-password',\n            testStrength: true,\n            passwordHint: true,\n            label: 'New Password',\n            type: 'password',\n            onEnter: () => {\n                this.submitForm();\n            },\n        });\n\n        this.fields = [\n            this.newPasswordField\n        ];\n\n        this.init();\n    }\n\n    getFormFooter () {\n        const formFooter = createElement('div', {\n            className: 'wk-form__footer'\n        });\n        formFooter.appendChild(this.cancelBtn);\n        this.cancelBtn.id = 'back-to-login';\n\n        formFooter.appendChild(this.submitBtn);\n\n        return formFooter;\n    }\n\n}\n","import { createElement } from \"../../../utils/DOM\";\nimport { Form } from \"../index\";\n\nimport { FormField } from \"../field\";\nimport { PasswordField } from \"../field/PasswordField.js\";\nimport { CheckBoxField } from \"../field/CheckBoxField.js\";\n\nexport class SignupForm extends Form {\n    constructor(targetElementSelector, options) {\n        super(targetElementSelector, options);\n\n        this.options = options;\n        this.options.title = options.title || 'Sign Up';\n        this.options.footer = this.getFormFooter() || options.footer;\n        this.options.termsOfService.termsOfService = this.#defaultTermsOfServiceOption(this.options.termsOfService.termsOfService);\n\n        this.emailField = new FormField({\n            dataSlug: 'email',\n            name: 'wk-fb-email',\n            label: 'Email',\n            type: 'email',\n            onEnter: () => {\n              this.nameField.focus();\n            }\n        });\n        this.nameField = new FormField({\n            dataSlug: 'name',\n            name: 'wk-fb-name',\n            label: 'Name',\n            type: 'text',\n            onEnter: () => {\n              this.passwordField.focus();\n            }\n        });\n        this.passwordField = new PasswordField({\n            dataSlug: 'password',\n            name: 'wk-fb-password',\n            testStrength: true,\n            passwordHint: true,\n            label: 'Password',\n            type: 'password',\n            onEnter: () => {\n              this.submitForm();\n            }\n        });\n\n        if (this.#isTosEnabled(options)) {\n          this.tosField = new CheckBoxField({\n            dataSlug: 'agreement',\n            name: 'wk-fb-agreement',\n            required: true,\n            label: this.getTosAcceptLabel(options.termsOfService),\n            type: 'checkbox',\n          });\n        }\n\n        this.fields = [\n            this.emailField,\n            this.nameField,\n            this.passwordField,\n        ];\n\n        if (this.tosField) {\n          this.fields.push(this.tosField);\n        }\n\n        this.init();\n\n        if (options.onCancel) {\n            this.cancelBtn.addEventListener('click', options.onCancel.bind(this));\n        }\n    }\n\n    #defaultTermsOfServiceOption(termsOfService) {\n        if (typeof termsOfService === \"undefined\" ||\n            ( typeof termsOfService !== \"string\" && typeof termsOfService !== \"boolean\" ) ) {\n            termsOfService = true\n        }\n        return termsOfService;\n    }\n\n    getFormFooter () {\n        const formFooter = createElement('div', {\n            className: 'wk-form__footer'\n        });\n        const signInWrapper = createElement( 'div', {\n            className: 'wk-form__footer-sign-in',\n            innerText: this.options.signInPreLinkTitle || 'Already have an account? ',\n        });\n        signInWrapper.appendChild(createElement('a', {\n            className: 'wk-form__link',\n            innerText: this.options.signInLinkTitle || 'Sign-in',\n            id: 'auth-signin-link',\n            attributes: {\n                href: '#'\n            }\n        }));\n        formFooter.appendChild(signInWrapper);\n\n        if (this.options.cancelBtn !== false) {\n            formFooter.appendChild(this.cancelBtn);\n        }\n\n        formFooter.appendChild(this.submitBtn);\n\n        return formFooter;\n    }\n\n    #isTosEnabled (options) {\n      if (!options.termsOfService.termsOfService) {\n        return false;\n      }\n\n      return (!!options.termsOfService.termsOfService && typeof options.termsOfService.termsOfService === \"string\") ||\n        !!options.termsOfService.tosURL ||\n        !!options.termsOfService.privacyPolicyURL;\n    }\n\n    getTosAcceptLabel (termsOptions) {\n      if (!termsOptions || !termsOptions.termsOfService) {\n        return '';\n      }\n\n      if (typeof termsOptions.termsOfService === \"string\") {\n        return termsOptions.termsOfService;\n      }\n\n      let defaultLabel = `By signing up I agree with the`;\n\n      if (termsOptions.tosURL) {\n        defaultLabel += ` <a href=\"${termsOptions.tosURL}\" target=\"_blank\">Terms & Conditions</a>`\n      }\n\n      if (termsOptions.tosURL && termsOptions.privacyPolicyURL) {\n        defaultLabel += ` and `\n      }\n\n      if (termsOptions.privacyPolicyURL) {\n        defaultLabel += ` <a href=\"${termsOptions.privacyPolicyURL}\" target=\"_blank\">Privacy Policy</a>`\n      }\n\n      return defaultLabel;\n    }\n}\n","import { createElement } from \"../../utils/DOM\";\n\nexport class Form {\n    constructor(targetElementSelector, options) {\n        this.targetElementSelector = targetElementSelector;\n\n        this.formWrapper = createElement('div', {\n            className: 'wk-form'\n        });\n\n        this.submitBtn = createElement('button', {\n            className: 'wk-form-button',\n            innerText: options.submitBtnTitle || 'Submit'\n        });\n\n        this.cancelBtn = createElement('button', {\n            className: 'wk-form-button wk-form-button--cancel',\n            innerText: options.cancelBtnTitle || 'Cancel'\n        });\n\n        this.loading = false;\n\n        this.options = options;\n        this.fields = [];\n    }\n\n    render (selector) {\n        try {\n            const placeholderElement = document.querySelector(selector || this.targetElementSelector);\n            if (placeholderElement) {\n                placeholderElement.appendChild(this.getFormElement());\n            }\n        } catch (e) {\n            console.log('FORM RENDER ERROR:', e);\n        }\n    }\n\n    getFormElement () {\n        return this.formWrapper;\n    }\n\n    setFormError (error) {\n        this.formErrorPlaceholder.innerText = error;\n        this.formErrorPlaceholder.classList.add('wk-form__error--show');\n    }\n\n    resetFormError () {\n        this.formErrorPlaceholder.innerText = '';\n        this.formErrorPlaceholder.classList.remove('wk-form__error--show');\n    }\n\n    resetFields () {\n        this.fields.forEach((field) => field.resetField());\n    }\n\n    resetForm () {\n        this.resetFields();\n        this.resetFormError();\n    }\n\n    showFormResult (markup) {\n        if (markup) {\n            this.formWrapper.innerHTML = '';\n            this.formWrapper.appendChild(createElement('div', {\n                className: 'wk-form-result',\n                innerHTML: markup || ''\n            }));\n        }\n    }\n\n    insertFields () {\n        this.formWrapperFields = createElement('div', {\n            className: 'wk-form-fields'\n        });\n\n        this.fields.forEach((field) => {\n            this.formWrapperFields.appendChild(field.getElement());\n        });\n\n        this.formWrapper.appendChild(this.formWrapperFields);\n\n        return this;\n    }\n\n    insertHeader () {\n        this.formWrapperHeader = createElement('div', {\n            className: 'wk-form-header'\n        });\n\n        if (this.options.title) {\n            this.formWrapperHeader.appendChild(createElement('h2', {\n                className: 'wk-form-header__title',\n                innerText: this.options.title\n            }));\n        }\n\n        if (this.options.description) {\n            this.formWrapperHeader.appendChild(createElement('h2', {\n                className: 'wk-form-header__description',\n                innerText: this.options.description\n            }));\n        }\n\n        this.formErrorPlaceholder = createElement('div', {\n            className: 'wk-form__error'\n        });\n\n        this.formWrapperHeader.appendChild(this.formErrorPlaceholder);\n        this.formWrapper.appendChild(this.formWrapperHeader);\n\n        return this;\n    }\n\n    insertFooter () {\n        const formWrapperFooter = createElement('div', {\n            className: 'wk-form-footer'\n        });\n\n        if (!this.options.footer) {\n            formWrapperFooter.appendChild(this.submitBtn);\n        } else {\n            formWrapperFooter.appendChild(this.options.footer);\n        }\n\n        this.formWrapper.appendChild(formWrapperFooter);\n\n        return this;\n    }\n\n    validateForm () {\n        let isValid = null;\n\n        this.fields.forEach((field) => {\n            const isFieldValid = field.validate();\n\n            if (isValid !== false) {\n                isValid = isFieldValid;\n            }\n        });\n\n        return isValid;\n    }\n\n    show () {\n        this.formWrapper.style.display = 'block';\n\n        return this;\n    }\n\n    hide () {\n        this.formWrapper.style.display = 'none';\n\n        return this;\n    }\n\n    get isVisible () {\n        if (window.getComputedStyle(this.formWrapper)){\n            return window.getComputedStyle(this.formWrapper).getPropertyValue('display') === 'block';\n        }\n        return false;\n    }\n\n    submitForm () {\n        if (this.validateForm()) {\n            if (this.options.onSubmit) {\n                const data = {};\n\n                this.fields.forEach((field) => {\n                    data[field.slug] = field.getValue();\n                });\n\n                this.resetFormError();\n\n                this.options.onSubmit(data);\n            }\n        }\n    }\n\n    reRender () {\n        this.formWrapper.innerHTML = '';\n        this.insertFormElements();\n    }\n\n    insertFormElements () {\n        this.insertHeader();\n        this.insertFields();\n        this.insertFooter();\n    }\n\n    init () {\n        this.insertFormElements();\n\n        this.submitBtn.addEventListener('click', this.submitForm.bind(this));\n\n        return this;\n    }\n}","import { createElement } from \"../../utils/DOM\";\nimport { WALLKIT_MODAL_MIN_WIDTH, WALLKIT_MODAL_MIN_HEIGHT, WALLKIT_POPUP_URL, WALLKIT_POPUP_DEV_URL, WALLKIT_FRAME_ID } from \"../../configs/constants\";\nimport { FRAME_CREATED, WALLKIT_CHANGE_FRAME, WALLKIT_FRAME_READY, WALLKIT_FRAME_ROUTE_CHANGE } from \"../events/events-name\";\nimport Events from \"../events\";\n\nconst ADDITIONAL_FRAME_CLASSNAMES = 'intrinsic-ignore';\n\nexport default class Frame {\n    constructor(options) {\n        if (!!Frame.instance) {\n            return Frame.instance;\n        }\n\n        Frame.instance = this;\n\n        this.currentFrameName = '';\n        this.options = options;\n        this.frameElement = null;\n        this.ready = false;\n\n        this.events = new Events();\n    }\n\n    get element() {\n        return this.frameElement;\n    }\n\n    get getFrameURL() {\n        const host = this.options.mode === 'dev' ? WALLKIT_POPUP_DEV_URL : WALLKIT_POPUP_URL;\n        const lang = this.options.lang ?? 'en';\n        return `${ host }?PUBLIC_KEY=${ this.options.public_key }&version=${ this.options.version }&lang=${lang}`;\n    }\n\n    createFrame() {\n        this.frameElement = createElement('iframe', {\n            id: WALLKIT_FRAME_ID,\n            className: `${WALLKIT_FRAME_ID} ${ADDITIONAL_FRAME_CLASSNAMES}`,\n            attributes: {\n                scrolling: 'no',\n                allowtransparency: 'true',\n                frameborder: '0',\n                width: WALLKIT_MODAL_MIN_WIDTH,\n                height: WALLKIT_MODAL_MIN_HEIGHT\n            }\n        });\n        this.frameElement.setAttribute(\"src\", this.getFrameURL);\n\n        this.events.notify(FRAME_CREATED, true);\n\n        return this.frameElement;\n    }\n\n    resize(width, height) {\n        width = width >= WALLKIT_MODAL_MIN_WIDTH ? width : WALLKIT_MODAL_MIN_WIDTH;\n        height = height >= WALLKIT_MODAL_MIN_HEIGHT ? height : WALLKIT_MODAL_MIN_HEIGHT;\n\n        if (this.frameElement) {\n            this.frameElement.width = width;\n            this.frameElement.height = height;\n        }\n    }\n\n    sendEvent(name, value, params) {\n        const event = () => {\n            if (this.frameElement && this.frameElement.contentWindow) {\n                const frameWindow = this.frameElement.contentWindow;\n\n                this.events.notify(name, value);\n\n                frameWindow.postMessage({\n                    name: name,\n                    value: value,\n                    params: params\n                }, '*');\n            }\n        }\n\n        if (this.ready) {\n            event();\n        } else {\n            this.events.subscribe(WALLKIT_FRAME_READY, event.bind(this));\n        }\n    }\n\n    openFrame(name, params) {\n        this.currentFrameName = name;\n        if (this.ready) {\n            this.sendEvent(WALLKIT_CHANGE_FRAME, name, params);\n        } else {\n            this.events.subscribe(WALLKIT_FRAME_READY, () => {\n                this.sendEvent(WALLKIT_CHANGE_FRAME, name, params);\n            }, { once: true});\n        }\n    }\n\n    #listeners() {\n        this.events.subscribe(WALLKIT_FRAME_ROUTE_CHANGE, (value) => {\n           this.currentFrameName = value;\n        });\n\n        this.events.subscribe(WALLKIT_FRAME_READY, (value) => {\n            if (value === true) {\n                this.onFrameReady();\n            }\n        });\n    }\n\n    onFrameReady() {\n        this.ready = true;\n        if (this.options?.onReady) {\n            this.options?.onReady();\n        }\n    }\n\n    init() {\n        this.#listeners();\n\n        return this.createFrame();\n    }\n\n}\n","import { FB_AVAILABLE_LANGUAGES } from \"../../configs/languages\";\nimport {WALLKIT_EVENT_CHANGE_LANGUAGE} from \"../events/events-name\";\nimport Events from \"../events\";\n\nexport class Localization {\n    #events;\n    constructor() {\n        this.#events = new Events();\n    }\n\n    static assembleLanguage (language = 'en') {\n        if (typeof language === \"string\") {\n            if (FB_AVAILABLE_LANGUAGES.includes(language.toLowerCase())) {\n                return language;\n            }\n        }\n\n        return 'en';\n    }\n    static changeLanguage (language = 'en') {\n        if (typeof language === \"string\") {\n            this.#events.notify(WALLKIT_EVENT_CHANGE_LANGUAGE, language);\n        }\n    }\n}\n","import {\n  WALLKIT_MODAL_WRAPPER_CLASSNAME,\n  WALLKIT_MODAL_CLOSE_BTN_CLASSNAME,\n  WALLKIT_MODAL_CONTENT_CLASSNAME,\n  WALLKIT_MODAL_MIN_WIDTH,\n  WALLKIT_MODAL_MIN_HEIGHT, WALLKIT_MODAL_MAX_WIDTH\n} from \"../../configs/constants\";\nimport DOM from '../../utils/DOM';\nimport { loadWallkitAsset } from \"../../utils/loaders\";\nimport { parseModalHashURL, parseUrlToShowAuthModal } from \"../../utils/url\";\nimport Events from \"../events\";\nimport { MODAL_CLOSED } from \"../events/events-name\";\n\nexport default class Modal {\n    constructor(options) {\n        this.options = options;\n        this.modalFrame = options ? options.resourceFrame : null;\n        this.content = options ? options.content : null;\n        this.modalWrapper = null;\n        this.modalContent = null;\n        this.loaderElement = null;\n        this.isLoading = false;\n        this.closeOutside = true;\n        this.onClose = options ? options.onClose : null;\n    }\n\n    #getModalName() {\n        return this.options?.modalName ?? 'wk-modal';\n    }\n\n    #createElement(elementTag, elementName, options) {\n        let elementIdName = this.#getModalName() + '-' + elementName;\n\n        let elementIndex = 0;\n        let elementId = elementIdName;\n        while (DOM.checkIfElementExists('#' + elementId)) {\n            ++elementIndex;\n            elementId = elementIdName + '-' + elementIndex;\n        }\n\n        return DOM.createElement(elementTag, { id: elementId, ...options });\n    }\n\n    #createCloseBtn() {\n        const closeBtn = this.#createElement('div', 'close-btn', {\n            className: WALLKIT_MODAL_CLOSE_BTN_CLASSNAME\n        });\n        closeBtn.innerHTML = '&#xd7;'; // Plus Symbol\n\n        this.bindCloseEvent(closeBtn);\n\n        return closeBtn;\n    }\n\n    bindCloseEvent(element) {\n        return element.addEventListener('click', this.hide.bind(this));\n    }\n\n    #createWrapper() {\n        let modalClassName = WALLKIT_MODAL_WRAPPER_CLASSNAME;\n\n        if (this.options?.className) {\n            modalClassName += ' ' + this.options?.className;\n        }\n\n        this.modalWrapper = this.#createElement('div', 'wrapper', {\n            styles: {\n                display: 'none',\n            },\n            className: modalClassName\n        });\n\n        this.modalWrapper.addEventListener('click', (event) => {\n            if (event.target.id === this.modalWrapper.id) {\n                if (this.closeOutside) {\n                    this.hide();\n                }\n            }\n        });\n\n        return this.modalWrapper;\n    }\n\n    #createContent() {\n        this.modalContent = this.#createElement('div', 'content', {\n            className: WALLKIT_MODAL_CONTENT_CLASSNAME\n        });\n\n        this.modalContent.style.minWidth = WALLKIT_MODAL_MIN_WIDTH + 'px';\n        this.modalContent.style.minHeight = WALLKIT_MODAL_MIN_HEIGHT + 'px';\n        this.modalContent.style.maxWidth = WALLKIT_MODAL_MAX_WIDTH + 'px';\n\n        return this.modalContent;\n    }\n\n    insertContent(element) {\n       if (this.modalContent && element) {\n           if (typeof element === \"string\") {\n               this.modalContent.insertAdjacentHTML('beforeend', element);\n           } else if (element instanceof HTMLElement) {\n               this.modalContent.appendChild(element);\n           }\n       }\n    }\n\n    toggleLoader(state) {\n        this.isLoading = state;\n        this.loaderElement.style.display = state ? 'flex' : 'none';\n    }\n\n    #createLoader() {\n        this.loaderElement = this.#createElement('div', 'wallkit-modal-spinner', {\n            className: 'wallkit-spinner',\n            styles: {\n                display: this.options?.initialLoader ? 'flex' : 'none',\n            },\n        });\n\n        this.loaderElement.insertAdjacentHTML('beforeend', '<div class=\"wallkit-spinner__container\">' +\n            '<div class=\"cube1\"></div>' +\n            '<div class=\"cube2\"></div>' +\n            '</div>');\n    }\n\n    #completeModal() {\n        this.#loadAssets();\n        this.modalWrapper.appendChild(this.modalContent);\n        this.modalContent.appendChild(this.loaderElement);\n        this.modalContent.appendChild(this.#createCloseBtn());\n\n        if (this.modalFrame) {\n            this.insertContent(this.modalFrame.init());\n        } else if (this.modalContent) {\n            this.insertContent(this.content);\n        }\n\n        return DOM.injectInBody(this.modalWrapper);\n    }\n\n    open(name, params) {\n        if (this.modalFrame) {\n            this.modalFrame.openFrame(name, params);\n            this.show();\n        }\n    }\n\n    destroy() {\n\n    }\n\n    show() {\n        this.modalWrapper.style.display = 'flex';\n    }\n\n    hide() {\n        const events = new Events();\n        events.notify(MODAL_CLOSED, { name: this.#getModalName() });\n\n        if (this.onClose) {\n            this.onClose();\n        }\n\n        this.modalWrapper.style.display = 'none';\n    }\n\n    resize(width, height) {\n        if (this.modalFrame) {\n            this.modalFrame.resize(width, height);\n        }\n    }\n\n    sendEvent(name, value, params) {\n        if (this.modalFrame) {\n            this.modalFrame.sendEvent(name, value, params);\n        }\n    }\n\n    openByHash() {\n        const modal = parseModalHashURL();\n        if (modal) {\n            this.open(modal.name, modal.params);\n        } else if (parseUrlToShowAuthModal()) {\n            this.open('sign-in');\n        }\n    }\n\n    #loadAssets() {\n        loadWallkitAsset('css', '1.0', 'spinner');\n    }\n\n    onReady() {\n        if (this.options?.onReady) {\n            this.options.onReady(this);\n        }\n    }\n\n    init() {\n        this.#createWrapper();\n        this.#createContent();\n        this.#createLoader();\n        this.#completeModal();\n        this.onReady();\n    }\n}\n","import { insertScript } from \"../../utils/DOM\";\nimport { WALLKIT_CDN_URL } from \"../../configs/constants\";\nimport { WALLKIT_SDK_LOADED } from '../events/events-name';\nimport Events from \"../events\";\n\nexport default class SDK {\n    #options;\n    #events;\n    #apiUrl;\n\n    constructor(options) {\n        if (!!SDK.instance) {\n            return SDK.instance;\n        }\n\n        if (!options) {\n            return new Error('No Options Provided');\n        }\n\n        SDK.instance = this;\n\n        this.methods = null;\n        this.client = null;\n\n        this.#options = options;\n        this.#events = new Events();\n        this.#apiUrl = options.mode === 'dev' ? 'https://api.dev.wallkit.net/api/v1': undefined;\n\n        if (window.Wallkit) {\n            this.onLoad();\n        } else {\n            this.load();\n        }\n    }\n\n    onLoad() {\n        if (window.Wallkit) {\n            window.Wallkit.init({\n              resource: this.#options.public_key,\n              api_url: this.#apiUrl,\n              subDomainCookie: this.#options.cookies?.subDomain ?? false\n            });\n            this.methods = window.Wallkit;\n            this.client = window.Wallkit.client;\n            this.#events.notify(WALLKIT_SDK_LOADED, window.Wallkit);\n\n            if (this.#options?.onLoaded) {\n                this.#options?.onLoaded();\n            }\n        }\n    }\n\n    awaitLoad() {\n        return new Promise((resolve) => {\n            if (!this.methods) {\n                this.#events.subscribe(WALLKIT_SDK_LOADED, () => resolve(this));\n            } else {\n                resolve(this);\n            }\n        });\n    }\n\n    load() {\n        insertScript(`${WALLKIT_CDN_URL}/js/sdk/0.0.51/wallkit.umd.min.js`, 'wallkit-js-sdk', this.onLoad.bind(this));\n    }\n}\n","import Modal from \"../modal\";\nimport { ChangePasswordForm } from \"../form/forms/ChangePasswordForm\"\nimport {WALLKIT_USER_MANAGER_MODAL_FORM_PLACEHOLDER_ID} from \"../../configs/constants\";\n\nexport default class UserManager {\n\n    constructor(options) {\n        this.popup = options.popup;\n        this.authentication = options.authentication;\n        this.#initModal(options);\n    }\n\n    #initModal(options) {\n        this.modal = new Modal({\n            modalName: options.name || 'user-manager-modal',\n            content: options.content || this.getDefaultUserManagerModalContent(),\n            className: options.className || 'wallkit-auth-modal',\n            initialLoader: options.loader || false\n        });\n        this.modal.init();\n        this.modal.modalWrapper.addEventListener('click', (event) => {\n            if (this.changePasswordForm && event.target.classList.contains('account-settings-link')) {\n                event.preventDefault();\n                this.changePasswordForm.cancelForm();\n            }\n        });\n    }\n\n    #initChangePasswordForm () {\n        if (!this.changePasswordForm) {\n            this.changePasswordForm = new ChangePasswordForm(\n                `#${WALLKIT_USER_MANAGER_MODAL_FORM_PLACEHOLDER_ID}`, {\n                    onCancel: () => {\n                        this.cancelModalForm({\n                            openPopupName: 'account-settings'\n                        });\n                    },\n                    onSubmit: (data) => {\n                        this.#onSubmitChangePasswordForm(data);\n                    }\n                });\n            this.changePasswordForm.render();\n        } else {\n            this.changePasswordForm.resetForm();\n            this.changePasswordForm.reRender();\n        }\n    }\n\n    async #onSubmitChangePasswordForm({old_password, new_password}) {\n        try {\n            if (this.modal) {\n                this.modal.toggleLoader(true);\n            }\n            await this.authentication.firebase.reauthenticateWithCredential(old_password);\n            await this.authentication.firebase.updatePassword(new_password);\n            this.#successChangePasswordForm();\n        } catch (error) {\n            this.#setErrorMessageChangePasswordForm(error);\n        }\n    }\n\n    #setErrorMessageChangePasswordForm (error) {\n        if (this.changePasswordForm) {\n            if (error.message) {\n                this.changePasswordForm.setFormError(error.message);\n            }\n            if (this.modal) {\n                this.modal.toggleLoader(false);\n            }\n        }\n    }\n\n    #successChangePasswordForm () {\n        if (this.changePasswordForm) {\n            this.changePasswordForm.showFormResult(`\n            <div class=\"wk-success-message wk-password-reset-success\">\n                <h2 class=\"wk-success-message__title\">Your password has been successfully changed!</h2>\n                <a href=\"#\" class=\"wk-form__link account-settings-link\">Back to account settings</a>\n            </div>\n        `);\n            if (this.modal) {\n                this.modal.toggleLoader(false);\n            }\n        }\n    }\n\n    cancelModalForm(options) {\n        this.modal.hide();\n        if (options.openPopupName) {\n            this.popup.open(options.openPopupName);\n        }\n    }\n\n    showChangePassword() {\n        this.modal.show();\n        this.#initChangePasswordForm();\n    }\n\n    getDefaultUserManagerModalContent () {\n        return `<div>\n                    <div id=\"user-manager-modal-error\"></div>\n                    <div id=\"${WALLKIT_USER_MANAGER_MODAL_FORM_PLACEHOLDER_ID}\"></div>\n                </div>`;\n    }\n}","import Error, { ERRORS_TYPES } from '../handlers/Error.js';\n\nexport const isDocumentAvailable = () => {\n    return !!document;\n}\n\nexport const checkIfElementExists = (elementSelector) => {\n    if (!isDocumentAvailable()) return Error.handleError('Document is not available', ERRORS_TYPES.DOM_ERROR);\n\n    return !!document.querySelector(elementSelector);\n}\n\nexport const insertAfter = (newNode, referenceNode) => {\n    referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);\n}\n\nexport const createElement = (tag, options) => {\n    if (!isDocumentAvailable()) return Error.handleError('Document is not available', ERRORS_TYPES.DOM_ERROR);\n\n    if (!tag) return Error.checkRequiredArgument(tag);\n\n    const element = document.createElement(tag);\n\n    const { id, className, styles, attributes, innerText, innerHTML } = options ?? {}; // Options Arguments\n\n    if (id) {\n        element.id = id;\n    }\n\n    if (innerText) {\n        element.innerText = innerText;\n    }\n\n    if (innerHTML) {\n        element.innerHTML = innerHTML;\n    }\n\n    if (className) {\n        element.setAttribute('class', className);\n    }\n\n    if (styles && Object.keys(styles) && Object.keys(styles).length) {\n        for (let prop in styles) {\n            if (styles.hasOwnProperty(prop)) {\n                element.style[prop] = styles[prop];\n            }\n        }\n    }\n\n    if (attributes && Object.keys(attributes) && Object.keys(attributes).length) {\n        for (let prop in attributes) {\n            if (attributes.hasOwnProperty(prop)) {\n                element.setAttribute(prop,  attributes[prop]);\n            }\n        }\n    }\n\n    return element;\n}\n\nexport const injectInBody = (element) => {\n    if (!isDocumentAvailable()) return Error.handleError('Document is not available', ERRORS_TYPES.DOM_ERROR);\n    if (!element) return Error.checkRequiredArgument(element, 'element');\n\n    return document.body.appendChild(element);\n}\n\nexport const injectInHead = (element) => {\n    if (!isDocumentAvailable()) return Error.handleError('Document is not available', ERRORS_TYPES.DOM_ERROR);\n    if (!element) return Error.checkRequiredArgument(element, 'element');\n\n    return document.head.appendChild(element);\n}\n\nexport const loadCSS = (url, id) => {\n    if (!isDocumentAvailable()) return Error.handleError('Document is not available', ERRORS_TYPES.DOM_ERROR);\n    if (checkIfElementExists('#' + id)) return;\n\n    const head = document.querySelector('head');\n    const link = document.createElement('link');\n\n    if (id) {\n        link.id = id;\n    }\n\n    link.rel  = 'stylesheet';\n    link.type = 'text/css';\n    link.href = url;\n    link.media = 'all';\n\n    return head.appendChild(link);\n}\n\nexport const insertScript = (url, id, onload) => {\n    if (!isDocumentAvailable()) return Error.handleError('Document is not available', ERRORS_TYPES.DOM_ERROR);\n    if (checkIfElementExists('#' + id)) return;\n\n    const scriptElement = createElement('script', {\n        id,\n        attributes: {\n            src: url\n        }\n    });\n\n    if (onload) {\n        scriptElement.addEventListener('load', onload, { once: true });\n    }\n\n    return injectInBody(scriptElement);\n}\n\nexport const isMobile = () => {\n    if (typeof window !== 'undefined') {\n        return window.innerWidth < 800;\n    } else {\n        return false;\n    }\n};\n\nexport const normalizeSelector = (selector) => {\n    if (!!selector && !['#', '.'].includes(selector.charAt(0))) {\n        selector = `#${selector}`;\n    }\n    return selector;\n}\n\nexport default {\n    createElement,\n    injectInBody,\n    checkIfElementExists,\n    loadCSS,\n    insertScript,\n    isMobile,\n    normalizeSelector\n}\n","export const setCookie = (name, value, options) => {\n    if (!name || !value) {\n      return;\n    }\n\n    options = options || {};\n    let { expires } = options;\n\n    if (typeof expires === \"number\" && expires) {\n        let date = new Date();\n        date.setTime(date.getTime() + expires * 1000);\n        expires = options.expires = date;\n    }\n\n    if (expires && expires.toUTCString) {\n        options.expires = expires.toUTCString();\n    }\n\n    let updatedCookie = `${name}=${encodeURIComponent(value)}; `;\n\n    for (let propName in options) {\n        let propValue = options[propName];\n        if (propValue) {\n            updatedCookie += `${propName}=${propValue}; `;\n        }\n    }\n\n    document.cookie = updatedCookie;\n}\n\nexport const removeCookie = (name, domain) => {\n    const props = {\n      [name]: '',\n      expires: 'Thu, 01 Jan 1970 00:00:00 UTC',\n      path: '/',\n      domain: domain || null\n    };\n\n    let cookieFingerprint = '';\n    for (let propName in props) {\n      const propValue = props[propName];\n      if (propValue !== null && propValue !== undefined) {\n        cookieFingerprint += `${propName}=${propValue}; `;\n      }\n    }\n\n    document.cookie = cookieFingerprint;\n}\n\nexport default {\n    setCookie,\n    removeCookie\n}\n","export const isCrawler = () => {\n    return /bot|googlebot|crawler|spider|robot|crawling|facebookexternalhit|facebookcatalog/i.test(navigator.userAgent);\n}\n","import { loadCSS, insertScript } from \"./DOM\";\nimport { WALLKIT_CDN_ASSETS_URL } from \"../configs/constants\";\n\nexport const loadWallkitAsset = (type, version, name, min = true) => {\n    switch (type) {\n        case 'css':\n            let assetName = name;\n\n            if (min) {\n                assetName += '.min.css';\n            } else {\n                assetName += '.css';\n            }\n\n            loadCSS(`${WALLKIT_CDN_ASSETS_URL}/css/${version}/${assetName}`, `wk-css-${name}`);\n            return;\n        default:\n           return;\n    }\n}\n\nexport const loadScripts = (scripts) => {\n    if (Array.isArray(scripts)) {\n        scripts.forEach((script) => {\n            insertScript(script.url, script.id, script.onload);\n        });\n    }\n}\n\nexport default {\n    loadWallkitAsset,\n    loadScripts\n}","export default {\n    setItem: function (key, value) {\n        if (!this.isAvailable()) return null;\n\n        return window.localStorage.setItem(key, value);\n    },\n    getItem: function (key) {\n        if (!this.isAvailable()) return null;\n\n        return window.localStorage.getItem(key);\n    },\n    removeItem: function (key) {\n        if (!this.isAvailable()) return;\n\n        return window.localStorage.removeItem(key);\n    },\n    isAvailable: function () {\n        try {\n            window.localStorage.setItem('', '');\n            window.localStorage.removeItem('');\n            return true;\n        } catch(e) {\n            return false;\n        }\n    }\n};","export const isApplePayAvailable = () => {\n    try {\n        if (window.ApplePaySession) {\n            return window.ApplePaySession.canMakePayments();\n        } else {\n            return false;\n        }\n    } catch (e) {\n        console.error(\"ApplePay Error\", e);\n        return false;\n    }\n}","export const parseModalHashURL = () => {\n    const UryModal = /#WkModal\\((.*)\\)$/.exec(decodeURIComponent(window.location.hash));\n    if (UryModal && UryModal[1]) {\n        const par = UryModal[1].split(/,(.+)/);\n\n        if (typeof par[1] !== \"undefined\") {\n            try {\n                par[1] = JSON.parse(par[1])\n            } catch (_) {\n                par[1] = {\n                    value: par[1].trim()\n                }\n            }\n        }\n\n        window.location.hash = \"\";\n\n        return {\n            name: par[0],\n            params: (typeof par[1] === \"object\" ? par[1] : null)\n        }\n    }\n}\n\nexport const parseAuthTokenHash = () => {\n    const hash = decodeURIComponent(window.location.hash)\n\n    if (hash?.includes('wk-authorize')) {\n        const splitHash = hash.split('=');\n\n        const token = splitHash?.[1];\n        if (token) {\n            return token;\n        }\n    }\n\n    return null;\n}\n\nexport const resetHash = () => {\n    window.location.hash = '';\n    const path = window.location.href.replace('#', '');\n    window.history.pushState('', '', path);\n}\n\nexport const resetSearchParams = (params) => {\n    if (!!params && !!window.location.search && window.location.search.includes(params)) {\n        if (window.location.search.replace(params, '') === '?') {\n            params = '?'+params;\n        }\n        const path = window.location.href.replace(params, '');\n        window.history.pushState('', '', path);\n    }\n}\n\nexport const getDomainWithoutSubdomain = url => {\n  const urlParts = new URL(url).hostname.split('.')\n\n  return urlParts\n    .slice(0)\n    .slice(-(urlParts.length === 4 ? 3 : 2))\n    .join('.')\n}\n\nexport const getParentDomain = () => {\n  return `.${getDomainWithoutSubdomain(window.location)}`;\n}\n\nexport const parseResetPasswordOobCodeHash = () => {\n    const hash = decodeURIComponent(window.location.hash)\n\n    if (hash?.includes('#reset-password=')) {\n        const splitHash = hash.split('=');\n\n        const oobCode = splitHash?.[1];\n        if (oobCode) {\n            return oobCode;\n        }\n    }\n\n    return null;\n}\n\nexport const parseUrlToShowAuthModal = () => {\n    const authUrlPattern = 'auth-modal=true';\n    const search = decodeURIComponent(window.location.search);\n    if (!!search?.includes(authUrlPattern)) {\n        resetSearchParams(authUrlPattern);\n        return true;\n    }\n    return false;\n}","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _classApplyDescriptorGet(receiver, descriptor) {\n  if (descriptor.get) {\n    return descriptor.get.call(receiver);\n  }\n\n  return descriptor.value;\n}\n\nmodule.exports = _classApplyDescriptorGet;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _classApplyDescriptorSet(receiver, descriptor, value) {\n  if (descriptor.set) {\n    descriptor.set.call(receiver, value);\n  } else {\n    if (!descriptor.writable) {\n      throw new TypeError(\"attempted to set read only private field\");\n    }\n\n    descriptor.value = value;\n  }\n}\n\nmodule.exports = _classApplyDescriptorSet;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _classExtractFieldDescriptor(receiver, privateMap, action) {\n  if (!privateMap.has(receiver)) {\n    throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n  }\n\n  return privateMap.get(receiver);\n}\n\nmodule.exports = _classExtractFieldDescriptor;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var classApplyDescriptorGet = require(\"./classApplyDescriptorGet.js\");\n\nvar classExtractFieldDescriptor = require(\"./classExtractFieldDescriptor.js\");\n\nfunction _classPrivateFieldGet(receiver, privateMap) {\n  var descriptor = classExtractFieldDescriptor(receiver, privateMap, \"get\");\n  return classApplyDescriptorGet(receiver, descriptor);\n}\n\nmodule.exports = _classPrivateFieldGet;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var classApplyDescriptorSet = require(\"./classApplyDescriptorSet.js\");\n\nvar classExtractFieldDescriptor = require(\"./classExtractFieldDescriptor.js\");\n\nfunction _classPrivateFieldSet(receiver, privateMap, value) {\n  var descriptor = classExtractFieldDescriptor(receiver, privateMap, \"set\");\n  classApplyDescriptorSet(receiver, descriptor, value);\n  return value;\n}\n\nmodule.exports = _classPrivateFieldSet;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var superPropBase = require(\"./superPropBase.js\");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var _typeof = require(\"@babel/runtime/helpers/typeof\")[\"default\"];\n\nvar assertThisInitialized = require(\"./assertThisInitialized.js\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var getPrototypeOf = require(\"./getPrototypeOf.js\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","module.exports = require(\"regenerator-runtime\");\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    symbolTag = '[object Symbol]';\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/,\n    reLeadingDot = /^\\./,\n    rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Symbol = root.Symbol,\n    splice = arrayProto.splice;\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = isKey(path, object) ? [path] : castPath(path);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value) {\n  return isArray(value) ? value : stringToPath(value);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoize(function(string) {\n  string = toString(string);\n\n  var result = [];\n  if (reLeadingDot.test(string)) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, string) {\n    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result);\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Assign cache to `_.memoize`.\nmemoize.Cache = MapCache;\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap');\n\n/** Detect if properties shadowing those on `Object.prototype` are non-enumerable. */\nvar nonEnumShadows = !propertyIsEnumerable.call({ 'valueOf': 1 }, 'valueOf');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * The base implementation of `getTag`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  return objectToString.call(value);\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11,\n// for data views in Edge < 14, and promises in Node.js.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = objectToString.call(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : undefined;\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Checks if `value` is an empty object, collection, map, or set.\n *\n * Objects are considered empty if they have no own enumerable string keyed\n * properties.\n *\n * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n * jQuery-like collections are considered empty if they have a `length` of `0`.\n * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n * @example\n *\n * _.isEmpty(null);\n * // => true\n *\n * _.isEmpty(true);\n * // => true\n *\n * _.isEmpty(1);\n * // => true\n *\n * _.isEmpty([1, 2, 3]);\n * // => false\n *\n * _.isEmpty({ 'a': 1 });\n * // => false\n */\nfunction isEmpty(value) {\n  if (isArrayLike(value) &&\n      (isArray(value) || typeof value == 'string' ||\n        typeof value.splice == 'function' || isBuffer(value) || isArguments(value))) {\n    return !value.length;\n  }\n  var tag = getTag(value);\n  if (tag == mapTag || tag == setTag) {\n    return !value.size;\n  }\n  if (nonEnumShadows || isPrototype(value)) {\n    return !nativeKeys(value).length;\n  }\n  for (var key in value) {\n    if (hasOwnProperty.call(value, key)) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = isEmpty;\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(6004);\n",""],"names":["LIBRARY_STYLES","WALLKIT_POPUP_URL","WALLKIT_POPUP_DEV_URL","WALLKIT_CDN_URL","WALLKIT_CDN_ASSETS_URL","ALLOWED_ORIGINS","document","location","origin","WALLKIT_MODAL_WRAPPER_CLASSNAME","WALLKIT_MODAL_CLOSE_BTN_CLASSNAME","WALLKIT_MODAL_CONTENT_CLASSNAME","WALLKIT_MODAL_MIN_WIDTH","WALLKIT_MODAL_MAX_WIDTH","WALLKIT_MODAL_MIN_HEIGHT","WALLKIT_FIREBASE_UI_PLACEHOLDER_ID","WALLKIT_FIREBASE_WK_FORM_PLACEHOLDER_ID","WALLKIT_AUTH_FORM_PLACEHOLDER_ID","WALLKIT_USER_MANAGER_MODAL_FORM_PLACEHOLDER_ID","WALLKIT_FRAME_ID","TRIGGER_EMAIL_BUTTON_TITLE_SELECTOR","TRIGGER_GOOGLE_BUTTON_TITLE_SELECTOR","TRIGGER_EMAIL_BUTTON_CLASS_NAME","WALLKIT_FIREBASE_CONFIG","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","WALLKIT_DEV_FIREBASE_CONFIG","WALLKIT_TOKEN_NAME","FIREBASE_TOKEN_NAME","FB_AVAILABLE_LANGUAGES","ERRORS_TYPES","DOM_ERROR","ARGUMENT_ERROR","DEFAULT_ERROR_MESSAGES","Error","error_type","error","isErrorRecognisable","message","getErrorTypeMessage","errorMessage","console","log","argument","key","undefined","handleError","window","WallkitIntegration","options","config","events","Events","content","Content","preventExecutionForCrawlers","prevent_execution_for_crawlers","frame","Frame","onReady","popup","toggleLoader","Modal","resourceFrame","initialLoader","modal","openByHash","onClose","notify","FRAME_MODAL_CLOSED","name","currentFrameName","sdk","SDK","onLoaded","authentication","Authentication","firebase","auth","modalTitle","title","reCaptcha","analytics","Analytics","call","Call","init","userManager","UserManager","params","open","eventName","callback","subscribe","unsubscribe","value","sendEvent","defaultInit","onInit","use","addEventListener","event","data","FRAME_MESSAGE","includes","isAuthenticated","public_key","width","height","resize","redirect","hide","SUCCESS_AUTH","once","show","openFrame","reload","dispatchTokens","closeOutside","showChangePassword","styles","innerHTML","ticketPassAuthToken","handleTicketsToken","parseUTM","utmTags","search","queryParams","URLSearchParams","utmParams","foundedUTMParams","forEach","param","get","methods","updateUser","extra","hasUTMTags","Object","keys","length","parseUTMTags","ReCaptchaFirebase","authenticationInstance","enabled","isEnabled","loaded","valid","siteKey","grecaptcha","mobile","recaptchaScripts","url","id","defer","onload","EventsNames","RECAPTCHA_LOADED","Promise","resolve","onRecaptchaAuth","bind","hideBadge","style","innerText","reset","handleCaptchaState","local","RECAPTCHA_VALIDATION_FAILED","executeReCaptcha","ready","execute","then","MODAL_CLOSED","resetProcess","initTriggers","emailField","querySelector","submitBtn","cancelBtn","code","onclick","emailBtn","blur","getReCaptchaSettings","response","active","recaptcha_public_key","load","reCaptchaPlaceholder","classList","add","dataset","sitekey","size","modalContent","appendChild","token","validateReCaptchaToken","RECAPTCHA_VALIDATION_SUCCESS","Token","slug","resource","subDomain","createTokenSlug","set","getStoredTokenValue","LocalStorage","getItem","localStorage","removeItem","expires","path","domain","setItem","Firebase","firebaseUiConfig","mode","lang","Localization","assembleLanguage","providers","tosURL","privacyPolicyURL","captchaKey","genuineForm","firebaseui","elementPlaceholder","onSuccessAuth","onAuthStateChanged","uiShown","isUiShown","initialized","GoogleAuthProvider","PROVIDER_ID","EmailAuthProvider","FacebookAuthProvider","element","display","selectedProviders","Array","isArray","map","item","provider","allowedProviders","filter","tosUrl","privacyPolicyUrl","firebaseuiInstance","AuthUI","disableAutoSignIn","callbacks","signInSuccessWithAuthResult","result","user","getIdToken","formattedResult","userId","uid","FIREBASE_UI_SHOWN","signInFlow","signInOptions","formatSelectedProviders","credentialHelper","CredentialHelper","GOOGLE_YOLO","startFirebaseUi","start","uiConfig","signOut","email","password","signInWithEmailAndPassword","handleSuccessAuth","createUserWithEmailAndPassword","currentUser","updateProfile","displayName","operationType","sendPasswordResetEmail","oobCode","passResetUrl","fetch","method","body","JSON","stringify","newPassword","headers","res","json","resJson","oldPassword","credential","reauthenticateWithCredential","updatePassword","signInWithCustomToken","attachListener","setTimeout","FIREBASE_LOADED","initFirebase","FIREBASE_INIT","defaultPlaceholder","selector","elementSelector","reject","loading","onFirebaseAppLoaded","scripts","onScriptLoaded","loadedCounter","apps","defaultConfig","initializeApp","instance","cookies","firebaseToken","updateFirebaseToken","onFirebaseInit","onAuthFail","onFirebaseAuthFail","initAuthForm","ReCaptcha","state","signIn","authForm","loginForm","setFormError","signUp","updateName","signUpForm","termsOfService","AuthForm","triggerButton","defaultForm","authProviders","customizeAuthForms","forms","onLogin","preventiveEvent","PRE_SIGN_IN","proceed","executeRecaptcha","handleLogin","onSignUp","handleSignUp","onPasswordForgot","toggleFormLoader","genuinePasswordReset","firebasePasswordReset","success","showSuccessPasswordForgot","forgotPasswordForm","onPasswordReset","sendNewPasswordResetPassword","new_password","showSuccessPasswordReset","resetPasswordForm","onAuthFormShow","hideAuthForm","onCancel","showAuthForm","handleAuthError","resetAuthProcess","SUCCESS_FIREBASE_AUTH","authInWallkit","status","authenticateWithFirebase","setToken","userGetTimeout","userEventCallback","clearTimeout","unsubscribeLocalEvent","register","existed","subscribeLocalEvent","removeTokens","substring","placeholders","targetElement","renderType","placeholder","insertAdjacentHTML","getDefaultAuthenticationFormContent","attachFormPlaceholders","authFormSlug","isVisible","showDefaultForm","checkFirebaseInit","shownTimeout","wallkit","WALLKIT_EVENT_FIREBASE_TOKEN","setFirebaseToken","initCaptchaProcess","e","remove","removeToken","removeFirebaseToken","logout","WALLKIT_LOGOUT","LOGOUT","dispatchWallkitToken","dispatchFirebaseToken","WALLKIT_EVENT_TOKEN","getAuthTokensByTicketPassToken","authWithCustomToken","firebase_custom_token","userCredential","getUser","TICKETS_TOKEN_AUTH_SUCCESS","externalUserId","getAuthTokensByExternalUserId","EXTERNAL_PROVIDER_TOKEN_AUTH_SUCCESS","WALLKIT_EVENT_ONE_TAP_SIGN_IN","render","charAt","toLowerCase","modalName","className","WALLKIT_EVENT_AUTH","WALLKIT_EVENT_REGISTRATION","WALLKIT_EVENT_GET_TOKEN","WALLKIT_FIREBASE_TOKEN","WALLKIT_EVENT_FIREBASE_CUSTOM_TOKEN","errorPlaceholder","getElementById","showForm","RESET_PASSWORD_FORM_SLUG","classForHandleClick","classThatReactOnTheUsersStatus","classThatReactOnTheUsersPlans","classThatReactOnTheUsersEvents","setDataWkStatusUserInDOMElements","setDataWkStatusPlansInDOMElements","setDataWkStatusEventsInDOMElements","getUserStatus","querySelectorAll","wkCallStatusUser","subscriptions","plans","s","plan","join","wkCallStatusPlans","assigned_tickets","ti_event","wkCallStatusEvents","client","setAllDataWkStatusesInDOMElements","wkCallUserHasAccess","getWallkitUserData","debug","_","WALLKIT_EVENT_USER","CHECK_USER_ACCESS","target","contains","classes","from","slugAndParamStr","find","startsWith","slugAndParamArr","split","popupSlug","popupParams","preventDefault","popupParamsArr","item_type","item_key","accessCount","accessCountLimit","taxonomies","formatted","taxonimiesTitles","taxonimiesKeys","taxKey","push","label","termKeysKey","termTitleKey","items","taxonomy_titles","taxonomy_keys","type","link","href","image","assign","formatTaxonomies","getAccessDetails","allow","allowed","checkAccess","checkAccessDetails","checkContentAccessAndSync","contentId","terms","content_terms","usedLimitInPeriod","accessLimit","ret","d","encodeURIComponent","query","FRAME_CREATED","FRAME_MOUNTED","MODAL_CREATED","WALLKIT_SDK_LOADED","AUTH_MODAL_CLOSED","DEFAULT_AUTH_FORM_SLUG_UPDATED","WALLKIT_CHANGE_FRAME","WALLKIT_FRAME_READY","WALLKIT_FRAME_ROUTE_CHANGE","WALLKIT_EVENT_CHANGE_LANGUAGE","WALLKIT_EVENT_EXTERNAL_PROVIDER_TOKEN","listeners","onceIndexesToRemove","index","getEventByName","TriggerButton","google","checkOptions","createElement","subscribeEventForChanges","onClick","authProvider","aProvider","fullLabel","signInLabel","signUpLabel","backgroundColor","textColor","textColorStyle","iconUrl","buttonColor","buttonTextColor","defaultFormSlug","SIGN_IN_FORM_SLUG","SIGN_UP_FORM_SLUG","newValue","oldValue","elementKey","getComputedStyle","getPropertyValue","buttonsTitle","color","authNew","authOld","CheckBoxField","input","validate","checked","inputWrapper","createInputWrapper","createLabel","createCheckMark","wrapper","FormField","PasswordField","insertAffix","togglePasswordVisibility","passwordHint","insertDescription","testStrength","TOGGLE_CLASSNAME","switchPasswordInputType","getValue","passwordValidation","setError","regex","uppercaseRegex","RegExp","uppercaseValid","test","rules","rule","validateRule","createWrapper","createInput","isValid","required","dataSlug","affix","description","onChange","onInput","onEnter","keyCode","onValidate","relatedData","resetValidation","setFieldValidationState","affixElement","descriptionElement","attributes","text","forRef","messageElement","createMessage","removeMessage","focus","FORGOT_PASSWORD_FORM_SLUG","LoginForm","onSubmit","resetForm","formWrapper","SignupForm","ForgotPasswordForm","forgotPassword","reRender","ResetPasswordForm","resetPassword","formSlug","oldSlug","form","formKey","activeForm","resetFormError","showFormResult","ChangePasswordForm","targetElementSelector","footer","getFormFooter","oldPasswordField","submitForm","field","newPasswordField","oldPasswordValue","newPasswordConfirmField","newPasswordValue","fields","formFooter","Form","passwordField","footerWrapper","subFooter","signUpWrapper","signUpPreLinkTitle","signUpLinkTitle","nameField","tosField","getTosAcceptLabel","signInWrapper","signInPreLinkTitle","signInLinkTitle","termsOptions","defaultLabel","submitBtnTitle","cancelBtnTitle","placeholderElement","getFormElement","formErrorPlaceholder","resetField","resetFields","markup","formWrapperFields","getElement","formWrapperHeader","formWrapperFooter","isFieldValid","validateForm","insertFormElements","insertHeader","insertFields","insertFooter","ADDITIONAL_FRAME_CLASSNAMES","frameElement","host","version","scrolling","allowtransparency","frameborder","setAttribute","getFrameURL","contentWindow","frameWindow","postMessage","createFrame","onFrameReady","language","modalFrame","modalWrapper","loaderElement","isLoading","HTMLElement","elementTag","elementName","elementIdName","elementIndex","elementId","DOM","checkIfElementExists","closeBtn","bindCloseEvent","modalClassName","minWidth","minHeight","maxWidth","insertContent","injectInBody","Wallkit","onLoad","api_url","subDomainCookie","openPopupName","getDefaultUserManagerModalContent","loader","changePasswordForm","cancelForm","cancelModalForm","old_password","isDocumentAvailable","insertAfter","newNode","referenceNode","parentNode","insertBefore","nextSibling","tag","checkRequiredArgument","prop","hasOwnProperty","injectInHead","head","loadCSS","rel","media","insertScript","scriptElement","src","isMobile","innerWidth","normalizeSelector","setCookie","date","Date","setTime","getTime","toUTCString","updatedCookie","propName","propValue","cookie","removeCookie","props","cookieFingerprint","isCrawler","navigator","userAgent","loadWallkitAsset","min","assetName","loadScripts","script","isAvailable","isApplePayAvailable","ApplePaySession","canMakePayments","parseModalHashURL","UryModal","exec","decodeURIComponent","hash","par","parse","trim","parseAuthTokenHash","splitHash","resetHash","replace","history","pushState","resetSearchParams","getDomainWithoutSubdomain","urlParts","URL","hostname","slice","getParentDomain","parseResetPasswordOobCodeHash","parseUrlToShowAuthModal","authUrlPattern"],"sourceRoot":""}