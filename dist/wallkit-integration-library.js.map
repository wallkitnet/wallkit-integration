{"version":3,"file":"wallkit-integration-library.js","mappings":"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CA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oCAAoC;;AAEpC;AACA;;AAEA;AACA;;AAEA;AACA,wBAAwB,qBAAM,gBAAgB,qBAAM,IAAI,qBAAM,sBAAsB,qBAAM;;AAE1F;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,cAAc;AACzB,aAAa,GAAG;AAChB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,eAAe;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,aAAa,UAAU;AACvB;AACA;AACA,kBAAkB;AAClB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA,kBAAkB;AAClB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,cAAc;AACzB,WAAW,GAAG;AACd,aAAa,GAAG;AAChB;AACA;AACA,kBAAkB,QAAQ,OAAO,UAAU;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;ACl6BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,oCAAoC;;AAEpC;AACA;;AAEA;AACA,wBAAwB,qBAAM,gBAAgB,qBAAM,IAAI,qBAAM,sBAAsB,qBAAM;;AAE1F;AACA;;AAEA;AACA;;AAEA;AACA,kBAAkB,KAA0B;;AAE5C;AACA,gCAAgC,QAAa;;AAE7C;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kDAAkD,cAAc;;AAEhE;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA,8BAA8B,mBAAmB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACrkBA;AACA;AACA,yCAAyC,SAAS;AAClD;AACA;AACA,oCAAoC,yBAAyB,SAAS,yBAAyB;;;;;;;ACL/F;AACA;AACA;AACA,kCAAkC,yBAAyB,SAAS,yBAAyB;;;;;;;ACH7F;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,yBAAyB,SAAS,yBAAyB;;;;;;;ACNpG;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,oCAAoC,yBAAyB,SAAS,yBAAyB;;;;;;;AC9B/F;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,yBAAyB,SAAS,yBAAyB;;;;;;;ACNtG;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,yBAAyB,SAAS,yBAAyB;;;;;;;ACVtG;AACA;AACA;AACA;AACA;AACA,kCAAkC,yBAAyB,SAAS,yBAAyB;;;;;;;ACL7F;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,yBAAyB,SAAS,yBAAyB;;;;;;;ACN1G,8BAA8B,mBAAO,CAAC,IAA8B;AACpE,kCAAkC,mBAAO,CAAC,IAAkC;AAC5E;AACA;AACA;AACA;AACA,wCAAwC,yBAAyB,SAAS,yBAAyB;;;;;;;ACNnG,8BAA8B,mBAAO,CAAC,IAA8B;AACpE,kCAAkC,mBAAO,CAAC,IAAkC;AAC5E;AACA;AACA;AACA;AACA;AACA,wCAAwC,yBAAyB,SAAS,yBAAyB;;;;;;;ACPnG,oBAAoB,mBAAO,CAAC,IAAoB;AAChD;AACA,kBAAkB,kBAAkB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,+BAA+B,yBAAyB,SAAS,yBAAyB;;;;;;;AClB1F,oBAAoB,mBAAO,CAAC,IAAoB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA;AACA;AACA;AACA,kCAAkC,yBAAyB,SAAS,yBAAyB;;;;;;;ACf7F,oBAAoB,mBAAO,CAAC,EAAoB;AAChD;AACA;AACA,gDAAgD,yBAAyB,SAAS,yBAAyB;AAC3G,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,EAAE,yBAAyB,SAAS,yBAAyB;AAClE;AACA;AACA;AACA,uBAAuB,yBAAyB,SAAS,yBAAyB;;;;;;;ACjBlF;AACA;AACA;AACA,GAAG,EAAE,yBAAyB,SAAS,yBAAyB;AAChE;AACA;AACA,kCAAkC,yBAAyB,SAAS,yBAAyB;;;;;;;ACN7F,qBAAqB,mBAAO,CAAC,IAAqB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,4BAA4B,yBAAyB,SAAS,yBAAyB;;;;;;;ACjBvF;AACA;AACA;AACA;AACA;AACA,yCAAyC,yBAAyB,SAAS,yBAAyB;;;;;;;ACLpG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,YAAY,6EAA6E;AACjG,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,yBAAyB,SAAS,yBAAyB;;;;;;;AC3BnG;AACA;AACA;AACA,mCAAmC,yBAAyB,SAAS,yBAAyB;;;;;;;ACH9F,cAAc,sCAAiC;AAC/C,4BAA4B,mBAAO,CAAC,IAA4B;AAChE;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,6CAA6C,yBAAyB,SAAS,yBAAyB;;;;;;;ACVxG,cAAc,sCAAiC;AAC/C;AACA,gBAAgB;AAChB;AACA;AACA,GAAG,EAAE,yBAAyB,SAAS,yBAAyB;AAChE,kBAAkB;AAClB;AACA;AACA;AACA;AACA,KAAK;AACL,uDAAuD;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,aAAa;AACb,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kFAAkF;AAClF;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,aAAa,YAAY;AACzB;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,QAAQ;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,+CAA+C,QAAQ;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA,+CAA+C,QAAQ;AACvD;AACA;AACA;AACA,KAAK;AACL;AACA,+CAA+C,QAAQ;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA,sCAAsC,yBAAyB,SAAS,yBAAyB;;;;;;;AC/SjG;AACA;AACA;AACA;AACA,GAAG,EAAE,yBAAyB,SAAS,yBAAyB;AAChE;AACA;AACA,kCAAkC,yBAAyB,SAAS,yBAAyB;;;;;;;ACP7F,qBAAqB,mBAAO,CAAC,IAAqB;AAClD,2BAA2B,mBAAO,CAAC,IAA2B;AAC9D,iCAAiC,mBAAO,CAAC,IAAiC;AAC1E,sBAAsB,mBAAO,CAAC,IAAsB;AACpD;AACA;AACA;AACA,iCAAiC,yBAAyB,SAAS,yBAAyB;;;;;;;ACP5F,qBAAqB,mBAAO,CAAC,IAAqB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,yBAAyB,SAAS,yBAAyB;;;;;;;ACR5F,cAAc,sCAAiC;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,yBAAyB,SAAS,yBAAyB;;;;;;;ACX1F,cAAc,sCAAiC;AAC/C,kBAAkB,mBAAO,CAAC,GAAkB;AAC5C;AACA;AACA;AACA;AACA,iCAAiC,yBAAyB,SAAS,yBAAyB;;;;;;;ACN5F;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA,GAAG,EAAE,yBAAyB,SAAS,yBAAyB;AAChE;AACA,0BAA0B,yBAAyB,SAAS,yBAAyB;;;;;;;ACTrF,uBAAuB,mBAAO,CAAC,IAAuB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,yBAAyB,SAAS,yBAAyB;;;;;;;ACTzG;;AAEA,cAAc,mBAAO,CAAC,IAA+B;AACrD;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,IAAI;AACJ;AACA;AACA;;;;;;;UCdA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCzBA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA,CAAC;;;;;WCPD;WACA;WACA;WACA;WACA;;;;;UEJA;UACA;UACA;UACA","sources":["webpack:///webpack/universalModuleDefinition","webpack:///./src/assets/styles.js","webpack:///./src/configs/constants.js","webpack:///./src/configs/languages.js","webpack:///./src/handlers/Error.js","webpack:///./src/index.js","webpack:///./src/managers/analytics/index.js","webpack:///./src/managers/authentication/ReCaptcha.js","webpack:///./src/managers/authentication/Token.js","webpack:///./src/managers/authentication/firebase/Firebase.js","webpack:///./src/managers/authentication/index.js","webpack:///./src/managers/call/index.js","webpack:///./src/managers/content/index.js","webpack:///./src/managers/events/events-name.js","webpack:///./src/managers/events/index.js","webpack:///./src/managers/form/buttons/TriggerButton.js","webpack:///./src/managers/form/field/CheckBoxField.js","webpack:///./src/managers/form/field/PasswordField.js","webpack:///./src/managers/form/field/index.js","webpack:///./src/managers/form/forms/AuthForm.js","webpack:///./src/managers/form/forms/ChangePasswordForm.js","webpack:///./src/managers/form/forms/EmailLinkForm.js","webpack:///./src/managers/form/forms/ForgotPasswordForm.js","webpack:///./src/managers/form/forms/LoginForm.js","webpack:///./src/managers/form/forms/ResetPasswordForm.js","webpack:///./src/managers/form/forms/SignUpForm.js","webpack:///./src/managers/form/index.js","webpack:///./src/managers/frame/index.js","webpack:///./src/managers/localization/index.js","webpack:///./src/managers/modal/index.js","webpack:///./src/managers/sdk/index.js","webpack:///./src/managers/user/index.js","webpack:///./src/utils/DOM.js","webpack:///./src/utils/cookie.js","webpack:///./src/utils/crawlers.js","webpack:///./src/utils/loaders.js","webpack:///./src/utils/local-storage.js","webpack:///./src/utils/payments.js","webpack:///./src/utils/url.js","webpack:///./node_modules/lodash.get/index.js","webpack:///./node_modules/lodash.isempty/index.js","webpack:///./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack:///./node_modules/@babel/runtime/helpers/classApplyDescriptorGet.js","webpack:///./node_modules/@babel/runtime/helpers/classApplyDescriptorSet.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/classExtractFieldDescriptor.js","webpack:///./node_modules/@babel/runtime/helpers/classPrivateFieldGet.js","webpack:///./node_modules/@babel/runtime/helpers/classPrivateFieldSet.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/get.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/interopRequireDefault.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/regeneratorRuntime.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/superPropBase.js","webpack:///./node_modules/@babel/runtime/helpers/toPrimitive.js","webpack:///./node_modules/@babel/runtime/helpers/toPropertyKey.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack:///./node_modules/@babel/runtime/regenerator/index.js","webpack:///webpack/bootstrap","webpack:///webpack/runtime/global","webpack:///webpack/runtime/node module decorator","webpack:///webpack/before-startup","webpack:///webpack/startup","webpack:///webpack/after-startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(self, () => {\nreturn ","export const POPUP_UI_LIBRARY_STYLES = `\n        .wallkit-modal-wrapper {\n            z-index: 100;\n            position: fixed;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background: rgba(18, 18, 20, 0.9);\n            display: flex;\n            align-items: center;\n            justify-content: flex-start;\n            flex-direction: column;\n            overflow-y: auto;\n            padding: 70px 15px 20px;\n        }\n\n        .wallkit-modal-wrapper__content {\n            background-color: #fff;\n            flex-shrink: 0;\n            position: relative;\n            box-sizing: border-box;\n            overflow: hidden;\n            font-family: Roboto, sans-serif;\n        }\n        \n        @media screen and (max-width: 500px) {\n            .wallkit-modal-wrapper__content {\n                width: 100%;\n                min-width: auto!important;\n            }\n        }\n\n        .wallkit-modal-wrapper__close-btn {\n            position: absolute;\n            right: 10px;\n            top: 10px;\n            cursor: pointer;\n            color: #000;\n            font-size: 37px;\n            width: 37px;\n            height: 37px;\n            text-align: center;\n            line-height: 34px;\n        }\n\n        .wallkit-modal-wrapper .wk-frame {\n            transition: all 0.3s linear 0s;\n            max-width: 100%;\n            border: none;\n        }\n\n        .wallkit-auth-modal {\n            z-index: 999;\n        }\n\n        .wallkit-auth-modal .wallkit-modal-wrapper__content {\n            padding: 20px;\n        }\n\n        .wallkit-auth-modal .wallkit-auth-modal__title {\n            font-family: Roboto, sans-serif;\n            text-align: center;\n        }\n        \n        .wk-auth-form {\n            display: flex;\n            flex-direction: column;\n        }\n\n        .wk-form-field {\n            display: flex;\n            flex-direction: column;\n            font-family: Oxygen, sans-serif;\n            margin-bottom: 10px;\n        }\n\n        .wk-form-field .wk-form-field__label {\n            font-weight: 500;\n            color: #333;\n            margin-bottom: 5px;\n        }\n\n        .wk-form-field .wk-form-field__input-wrapper {\n            margin-bottom: 5px;\n            position: relative;\n        }\n        \n        .wk-eye-toggle {\n            background: url(https://www.gstatic.com/images/icons/material/system/1x/visibility_black_24dp.png);\n            width: 24px;\n            height: 24px;\n        }\n        \n        .wk-form-field__field-description {\n            font-size: 11px;\n            color: #989898;\n        }\n        \n        .wk-eye-toggle.wk-eye-toggled {\n            background: url(https://www.gstatic.com/images/icons/material/system/1x/visibility_off_black_24dp.png);\n        }\n        \n        .wk-form-field__field-affix {\n            position: absolute;\n            right: 5px;\n            top: 0;\n            bottom: 0;\n        }\n        \n        .wk-form-field .wk-form-field__input {\n            border-radius: 0;\n            border: 0;\n            border-bottom: 1px solid #ccc;\n            padding: 5px;\n            box-sizing: border-box;\n            width: 100%;\n        }\n        \n        .wk-field-list {\n            list-style-type: circle;\n            padding-left: 12px;\n            margin-top: 1px;\n        }\n\n        .wk-form-field .wk-form-field__input:focus {\n            border-bottom: 1px solid #3f51b5;\n            outline: none;\n        }\n\n        .wk-form-field .wk-form-field__message {\n            font-size: 12px;\n        }\n\n        .wk-auth-form-button {\n            background-color: #db4437;\n            direction: ltr;\n            font-weight: 500;\n            height: auto;\n            line-height: normal;\n            max-width: 220px;\n            min-height: 40px;\n            padding: 8px 16px;\n            text-align: left;\n            width: 100%;\n            box-sizing: border-box;\n            box-shadow: 0 2px 2px 0 rgba(0,0,0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.20), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n            border-radius: 2px;\n            font-family: \"Roboto\",\"Helvetica\",\"Arial\",sans-serif;\n            margin: 0 auto 15px;\n            cursor: pointer;\n        }\n        \n        .wk-auth-form-button:focus,\n        .wk-auth-form-button:active,{\n            background-color: #5b6abe;\n        }\n\n        .wk-form-field.wk-form-field--invalid .wk-form-field__input {\n            border-bottom: 1px solid #dd2c00;\n        }\n        \n        .wk-form-field.wk-form-field--checkbox.wk-form-field--invalid .wk-form-field__checkmark {\n            border-color: #dd2c00;\n        }\n\n        .wk-form-field.wk-form-field--valid .wk-form-field__input {\n            border-bottom: 1px solid green;\n        }\n\n        .wk-form-field.wk-form-field--invalid .wk-form-field__message {\n            color: #dd2c00;\n        }\n\n        .wk-form-field.wk-form-field--valid .wk-form-field__message {\n            color: green;\n        }\n\n        .wk-form .wk-form__link {\n            font-size: 14px;\n            color: #3170f3;\n            text-decoration: underline;\n        }\n\n        .wk-form {\n            font-family: Oxygen, sans-serif;\n        }\n        \n        .wk-form-header {\n            margin-bottom: 10px;\n        }\n\n        .wk-form .wk-form__footer {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n        }\n        \n        .wk-form .wk-form__footer.wk-form__footer--right {\n            justify-content: flex-end;\n        }\n\n        .wk-form .wk-form__sub-footer {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 20px;\n        }\n\n        .wk-form__reset-password {\n            text-align: right;\n        }\n\n        .wk-form-result {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n        }\n\n        .wk-form-button {\n            border: none;\n            border-radius: 2px;\n            background-color: #3f51b5;\n            color: #fff;\n            position: relative;\n            height: 36px;\n            margin: 0;\n            min-width: 64px;\n            padding: 0 16px;\n            display: inline-block;\n            font-family: \"Roboto\", \"Helvetica\", \"Arial\", sans-serif;\n            font-size: 14px;\n            font-weight: 500;\n            text-transform: uppercase;\n            letter-spacing: 0;\n            overflow: hidden;\n            will-change: box-shadow;\n            transition: box-shadow .2s cubic-bezier(0.4, 0, 1, 1),background-color .2s cubic-bezier(0.4, 0, 0.2, 1),color .2s cubic-bezier(0.4, 0, 0.2, 1);\n            outline: none;\n            cursor: pointer;\n            text-decoration: none;\n            text-align: center;\n            line-height: 36px;\n            vertical-align: middle;\n        }\n\n        .wk-form__error {\n            display: none;\n            margin: 10px 0;\n            border: 1px solid #f5c6cb;\n            border-radius: 5px;\n            color: #721c24;\n            background-color: #f8d7da;\n            line-height: 21px;\n            padding: 10px;\n        }\n\n        .wk-form__error.wk-form__error--show {\n            display: block;\n        }\n\n        .wk-form-button.wk-form-button--cancel {\n            margin-left: auto;\n            margin-right: 10px;\n            color: #3f51b5;\n            background: none;\n        }\n        \n        .wk-success-message {\n        }\n        \n        .wk-success-message__title {\n            font-weight: 500;\n            margin-bottom: 10px;\n        }\n        \n        .wk-success-message__description {\n            margin-bottom: 10px;\n        }\n        \n        .wk-success-message__description b {\n            font-weight: 500;\n        }\n\n        .wk-form-button.wk-form-button--cancel:hover {\n            background-color: hsla(0,0%,62%,.2);\n        }\n        \n        .wk-success-message.wk-password-reset-success {\n            min-height: 205px;\n            display: flex;\n            justify-content: center;\n            flex-direction: column;\n        }\n        \n       \n        \n        .wk-form-field.wk-form-field--checkbox .wk-form-field__label {\n            position: relative;\n            padding-left: 30px;     \n            line-height: 20px;\n            font-size: 14px;     \n        } \n        \n        .wk-form-field.wk-form-field--checkbox input {\n            position: absolute;\n            opacity: 0;\n            cursor: pointer;\n            height: 0;\n            width: 0;\n        }\n        \n        .wk-form-field .wk-form-field__checkmark {\n            position: absolute;\n            top: 0;\n            left: 0;\n            height: 18px;\n            width: 18px;\n            background-color: none;\n            border: 2px solid #333;\n            box-sizing: border-box;\n            border-radius: 2px;\n        }\n        \n        .wk-form-field.wk-form-field--checkbox input:checked ~ .wk-form-field__checkmark {\n            background-color: #3f51b5;\n            border-color: #3f51b5;\n        }\n        \n        .wk-form-field__checkmark:after {\n            content: \"\";\n            position: absolute;\n            display: none;\n        }\n        \n        .wk-form-field input:checked ~ .wk-form-field__checkmark:after {\n            display: block;\n        }\n        \n        .wk-form-field .wk-form-field__checkmark:after {\n            left: 5px;\n            top: 2px;\n            width: 3px;\n            height: 7px;\n            border: solid white;\n            border-width: 0 2px 2px 0;\n            -webkit-transform: rotate(45deg);\n            -ms-transform: rotate(45deg);\n            transform: rotate(45deg);\n        }\n        \n        .wallkit-modal-error {\n            border: 1px solid #f1aeb5;\n            border-radius: 5px;\n            padding: 10px;\n            width: calc(100% - 50px);\n            background-color: #f8d7da;\n            color: #58151c;\n            font-family: \"Roboto\", \"Helvetica\", \"Arial\", sans-serif;\n        }\n        \n        .wallkit-modal-success {\n            border: 1px solid #a3cfbb;\n            border-radius: 5px;\n            padding: 10px;\n            width: 100%;\n            background-color: #d1e7dd;\n            color: #0a3622;\n            font-family: \"Roboto\", \"Helvetica\", \"Arial\", sans-serif;\n        }\n        \n        .wallkit-email-confirmation-modal {\n          text-align: center;\n        }\n`;\nexport const INLINE_UI_LIBRARY_STYLES = `\n        .wallkit-modal-wrapper {\n            display: flex;\n            align-items: center;\n            justify-content: flex-start;\n            flex-direction: column;\n        }\n\n        .wallkit-modal-wrapper__content {\n            background-color: #fff;\n            flex-shrink: 0;\n            position: relative;\n            box-sizing: border-box;\n            overflow: hidden;\n        }\n        \n        @media screen and (max-width: 500px) {\n            .wallkit-modal-wrapper__content {\n                width: 100%;\n                min-width: auto!important;\n            }\n        }\n\n        .wallkit-modal-wrapper__close-btn {\n            position: absolute;\n            right: 10px;\n            top: 10px;\n            cursor: pointer;\n            color: #000;\n            font-size: 37px;\n            width: 37px;\n            height: 37px;\n            text-align: center;\n            line-height: 34px;\n        }\n\n        .wallkit-modal-wrapper .wk-frame {\n            transition: all 0.3s linear 0s;\n            max-width: 100%;\n            border: none;\n        }\n\n        .wallkit-auth-modal {\n            z-index: 999;\n        }\n\n        .wallkit-auth-modal .wallkit-modal-wrapper__content {\n            padding: 20px;\n        }\n\n        .wallkit-auth-modal .wallkit-auth-modal__title {\n            font-family: Roboto, sans-serif;\n            text-align: center;\n        }\n        \n        .wk-auth-form {\n            display: flex;\n            flex-direction: column;\n        }\n\n        .wk-form-field {\n            display: flex;\n            flex-direction: column;\n            font-family: Oxygen, sans-serif;\n            margin-bottom: 10px;\n        }\n\n        .wk-form-field .wk-form-field__label {\n            font-weight: 500;\n            color: #333;\n            margin-bottom: 5px;\n        }\n\n        .wk-form-field .wk-form-field__input-wrapper {\n            margin-bottom: 5px;\n            position: relative;\n        }\n        \n        .wk-eye-toggle {\n            background: url(https://www.gstatic.com/images/icons/material/system/1x/visibility_black_24dp.png);\n            width: 24px;\n            height: 24px;\n        }\n        \n        .wk-form-field__field-description {\n            font-size: 11px;\n            color: #989898;\n        }\n        \n        .wk-eye-toggle.wk-eye-toggled {\n            background: url(https://www.gstatic.com/images/icons/material/system/1x/visibility_off_black_24dp.png);\n        }\n        \n        .wk-form-field__field-affix {\n            position: absolute;\n            right: 5px;\n            top: 0;\n            bottom: 0;\n        }\n        \n        .wk-form-field .wk-form-field__input {\n            border-radius: 0;\n            border: 0;\n            border-bottom: 1px solid #ccc;\n            padding: 5px;\n            box-sizing: border-box;\n            width: 100%;\n        }\n        \n        .wk-field-list {\n            list-style-type: circle;\n            padding-left: 12px;\n            margin-top: 1px;\n        }\n\n        .wk-form-field .wk-form-field__input:focus {\n            border-bottom: 1px solid #3f51b5;\n            outline: none;\n        }\n\n        .wk-form-field .wk-form-field__message {\n            font-size: 12px;\n        }\n\n        .wk-auth-form-button {\n            background-color: #db4437;\n            direction: ltr;\n            font-weight: 500;\n            height: auto;\n            line-height: normal;\n            max-width: 220px;\n            min-height: 40px;\n            padding: 8px 16px;\n            text-align: left;\n            width: 100%;\n            box-sizing: border-box;\n            box-shadow: 0 2px 2px 0 rgba(0,0,0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.20), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n            border-radius: 2px;\n            font-family: \"Roboto\",\"Helvetica\",\"Arial\",sans-serif;\n            margin: 0 auto 15px;\n            cursor: pointer;\n        }\n        \n        .wk-auth-form-button:focus,\n        .wk-auth-form-button:active,{\n            background-color: #5b6abe;\n        }\n\n        .wk-form-field.wk-form-field--invalid .wk-form-field__input {\n            border-bottom: 1px solid #dd2c00;\n        }\n        \n        .wk-form-field.wk-form-field--checkbox.wk-form-field--invalid .wk-form-field__checkmark {\n            border-color: #dd2c00;\n        }\n\n        .wk-form-field.wk-form-field--valid .wk-form-field__input {\n            border-bottom: 1px solid green;\n        }\n\n        .wk-form-field.wk-form-field--invalid .wk-form-field__message {\n            color: #dd2c00;\n        }\n\n        .wk-form-field.wk-form-field--valid .wk-form-field__message {\n            color: green;\n        }\n\n        .wk-form .wk-form__link {\n            font-size: 14px;\n            color: #3170f3;\n            text-decoration: underline;\n        }\n\n        .wk-form {\n            font-family: Oxygen, sans-serif;\n        }\n        \n        .wk-form-header {\n            margin-bottom: 10px;\n        }\n\n        .wk-form .wk-form__footer {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n        }\n        \n        .wk-form .wk-form__footer.wk-form__footer--right {\n            justify-content: flex-end;\n        }\n\n        .wk-form .wk-form__sub-footer {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 20px;\n        }\n\n        .wk-form__reset-password {\n            text-align: right;\n        }\n\n        .wk-form-result {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n        }\n\n        .wk-form-button {\n            border: none;\n            border-radius: 2px;\n            background-color: #3f51b5;\n            color: #fff;\n            position: relative;\n            height: 36px;\n            margin: 0;\n            min-width: 64px;\n            padding: 0 16px;\n            display: inline-block;\n            font-family: \"Roboto\", \"Helvetica\", \"Arial\", sans-serif;\n            font-size: 14px;\n            font-weight: 500;\n            text-transform: uppercase;\n            letter-spacing: 0;\n            overflow: hidden;\n            will-change: box-shadow;\n            transition: box-shadow .2s cubic-bezier(0.4, 0, 1, 1),background-color .2s cubic-bezier(0.4, 0, 0.2, 1),color .2s cubic-bezier(0.4, 0, 0.2, 1);\n            outline: none;\n            cursor: pointer;\n            text-decoration: none;\n            text-align: center;\n            line-height: 36px;\n            vertical-align: middle;\n        }\n\n        .wk-form__error {\n            display: none;\n            margin: 10px 0;\n            border: 1px solid #f5c6cb;\n            border-radius: 5px;\n            color: #721c24;\n            background-color: #f8d7da;\n            line-height: 21px;\n            padding: 10px;\n        }\n\n        .wk-form__error.wk-form__error--show {\n            display: block;\n        }\n\n        .wk-form-button.wk-form-button--cancel {\n            margin-left: auto;\n            margin-right: 10px;\n            color: #3f51b5;\n            background: none;\n        }\n        \n        .wk-success-message {\n        }\n        \n        .wk-success-message__title {\n            font-weight: 500;\n            margin-bottom: 10px;\n        }\n        \n        .wk-success-message__description {\n            margin-bottom: 10px;\n        }\n        \n        .wk-success-message__description b {\n            font-weight: 500;\n        }\n\n        .wk-form-button.wk-form-button--cancel:hover {\n            background-color: hsla(0,0%,62%,.2);\n        }\n        \n        .wk-success-message.wk-password-reset-success {\n            min-height: 205px;\n            display: flex;\n            justify-content: center;\n            flex-direction: column;\n        }\n        \n       \n        \n        .wk-form-field.wk-form-field--checkbox .wk-form-field__label {\n            position: relative;\n            padding-left: 30px;     \n            line-height: 20px;\n            font-size: 14px;     \n        } \n        \n        .wk-form-field.wk-form-field--checkbox input {\n            position: absolute;\n            opacity: 0;\n            cursor: pointer;\n            height: 0;\n            width: 0;\n        }\n        \n        .wk-form-field .wk-form-field__checkmark {\n            position: absolute;\n            top: 0;\n            left: 0;\n            height: 18px;\n            width: 18px;\n            background-color: none;\n            border: 2px solid #333;\n            box-sizing: border-box;\n            border-radius: 2px;\n        }\n        \n        .wk-form-field.wk-form-field--checkbox input:checked ~ .wk-form-field__checkmark {\n            background-color: #3f51b5;\n            border-color: #3f51b5;\n        }\n        \n        .wk-form-field__checkmark:after {\n            content: \"\";\n            position: absolute;\n            display: none;\n        }\n        \n        .wk-form-field input:checked ~ .wk-form-field__checkmark:after {\n            display: block;\n        }\n        \n        .wk-form-field .wk-form-field__checkmark:after {\n            left: 5px;\n            top: 2px;\n            width: 3px;\n            height: 7px;\n            border: solid white;\n            border-width: 0 2px 2px 0;\n            -webkit-transform: rotate(45deg);\n            -ms-transform: rotate(45deg);\n            transform: rotate(45deg);\n        }\n`;\n","// Popups\nexport const WALLKIT_POPUP_URL = 'https://popups.wallkit.net';\n// export const WALLKIT_POPUP_URL = 'http://127.0.0.1:8000/popups';\nexport const WALLKIT_POPUP_DEV_URL = 'https://popups.dev.wallkit.net';\n// export const WALLKIT_POPUP_DEV_URL = 'http://127.0.0.1:8000/popups';\n\n// Assets\nexport const WALLKIT_CDN_URL = 'https://cdn1.wallkit.net';\nexport const WALLKIT_CDN_ASSETS_URL = WALLKIT_CDN_URL + '/assets';\n\n// Safety\nexport const ALLOWED_ORIGINS = [\n    document.location.origin,\n    'http://127.0.0.1:8000',\n    'https://popups.wallkit.net',\n    'https://popups.dev.wallkit.net'\n];\n\n// Markup\nexport const WALLKIT_MODAL_WRAPPER_CLASSNAME = 'wallkit-modal-wrapper';\nexport const WALLKIT_MODAL_CLOSE_BTN_CLASSNAME = 'wallkit-modal-wrapper__close-btn';\nexport const WALLKIT_MODAL_CONTENT_CLASSNAME = 'wallkit-modal-wrapper__content';\nexport const WALLKIT_MODAL_MIN_WIDTH = '500';\nexport const WALLKIT_MODAL_MAX_WIDTH = '500';\nexport const WALLKIT_MODAL_MIN_HEIGHT = '250';\nexport const WALLKIT_FIREBASE_UI_PLACEHOLDER_ID = 'firebase-ui-placeholder';\nexport const WALLKIT_FIREBASE_WK_FORM_PLACEHOLDER_ID = 'wk-email-auth-form';\nexport const WALLKIT_AUTH_FORM_PLACEHOLDER_ID = 'wk-auth-form';\nexport const WALLKIT_USER_MANAGER_MODAL_FORM_PLACEHOLDER_ID = 'wk-user-manager-modal-form';\nexport const WALLKIT_FRAME_ID = 'wk-frame';\nexport const TRIGGER_EMAIL_BUTTON_TITLE_SELECTOR = 'span.wk-auth-form-button-email-title';\nexport const TRIGGER_EMAILLINK_BUTTON_TITLE_SELECTOR = 'span.wk-auth-form-button-emaillink-title';\nexport const TRIGGER_GOOGLE_BUTTON_TITLE_SELECTOR = '#firebase-ui-placeholder .firebaseui-container .firebaseui-idp-google span.firebaseui-idp-text-long';\nexport const TRIGGER_EMAIL_BUTTON_CLASS_NAME = 'wk-auth-form-button wk-auth-form-button-email';\nexport const TRIGGER_EMAILLINK_BUTTON_CLASS_NAME = 'wk-auth-form-button wk-auth-form-button-emaillink';\nexport const TRIGGER_BUTTON_CLASS_NAME = 'wk-auth-form-button';\n\n// Authentication\nexport const WALLKIT_FIREBASE_CONFIG = {\n    apiKey: \"AIzaSyAoRdxZIlUE0HInqtzDid6rNxluhs5nCqg\",\n    authDomain: \"wallkit-production.firebaseapp.com\",\n    databaseURL: \"https://wallkit-production.firebaseio.com\",\n    projectId: \"wallkit-production\",\n    storageBucket: \"wallkit-production.appspot.com\",\n    messagingSenderId: \"779443518820\",\n    appId: \"1:779443518820:web:ffc6660647590674e20e71\",\n    measurementId: \"G-GWJ1GC5B30\"\n};\nexport const WALLKIT_DEV_FIREBASE_CONFIG = {\n    apiKey: \"AIzaSyCmIluc9x63JOu7I5UMZ8q5M4AbluBeC8o\",\n    authDomain: \"wallkit-258413.firebaseapp.com\",\n    databaseURL: \"https://wallkit-258413.firebaseio.com\",\n    projectId: \"wallkit-258413\",\n    storageBucket: \"wallkit-258413.appspot.com\",\n    messagingSenderId: \"767802802956\",\n    appId: \"1:767802802956:web:e8fc363619c47f7fff7f29\",\n    measurementId: \"G-ER6R7Z47R3\"\n};\nexport const WALLKIT_TOKEN_NAME = 'wk-token';\nexport const FIREBASE_TOKEN_NAME = 'firebase-token';\n","export const FB_AVAILABLE_LANGUAGES = [\n    'ar',\n    'bg',\n    'ca',\n    'zh_cn',\n    'zh_tw',\n    'hr',\n    'cs',\n    'da',\n    'nl',\n    'en',\n    'en_gb',\n    'fa',\n    'fil',\n    'fi',\n    'fr',\n    'de',\n    'el',\n    'iw',\n    'hi',\n    'hu',\n    'id',\n    'it',\n    'ja',\n    'ko',\n    'lv',\n    'lt',\n    'no',\n    'pl',\n    'pt_pt',\n    'ro',\n    'ru',\n    'sr',\n    'sk',\n    'sl',\n    'es',\n    'sv',\n    'th',\n    'tr',\n    'uk',\n    'vi'\n];","\nexport const ERRORS_TYPES = {\n    DOM_ERROR: 'DOM_ERROR',\n    ARGUMENT_ERROR: 'ARGUMENT_ERROR'\n}\n\nexport const DEFAULT_ERROR_MESSAGES = {\n    DOM_ERROR: 'DOM Manipulation gone wrong',\n    ARGUMENT_ERROR: 'One of the argument were not provided'\n}\n\n\nexport default class Error {\n    constructor() {\n    }\n\n    static isErrorRecognisable(error_type) {\n        return !!ERRORS_TYPES[error_type];\n    }\n\n    static getErrorTypeMessage(error_type) {\n        return DEFAULT_ERROR_MESSAGES[error_type] ?? 'Unrecognised Error';\n    }\n\n    static handleError(error, error_type) {\n        if (error_type && this.isErrorRecognisable(error_type)) {\n            const message = error ?? Error.getErrorTypeMessage(error_type);\n            const errorMessage = `ERROR::${error_type}; ${message};`;\n            console.log(errorMessage);\n            throw new Error(errorMessage);\n        } else {\n            const errorMessage = `ERROR::${error_type};`;\n            console.log(errorMessage);\n            throw new Error(errorMessage);\n        }\n    }\n\n    static checkRequiredArgument(argument, key) {\n        if (argument === undefined) {\n            this.handleError(`Argument ${key} is not provided`, ERRORS_TYPES.ARGUMENT_ERROR);\n        }\n    }\n}","import Authentication from './managers/authentication';\nimport Modal from './managers/modal';\nimport Frame from './managers/frame';\nimport SDK from './managers/sdk';\nimport Events from \"./managers/events\";\nimport Analytics from \"./managers/analytics\";\nimport Content from \"./managers/content\";\nimport Call from \"./managers/call\";\nimport UserManager from \"./managers/user\"\n\nimport { POPUP_UI_LIBRARY_STYLES, INLINE_UI_LIBRARY_STYLES } from './assets/styles';\n\nimport { createElement, injectInHead } from \"./utils/DOM\";\nimport { isApplePayAvailable } from './utils/payments';\nimport { isCrawler } from './utils/crawlers';\n\nimport { ALLOWED_ORIGINS } from './configs/constants';\nimport { SUCCESS_AUTH, FRAME_MESSAGE, FRAME_MODAL_CLOSED, MODAL_OPEN, READY, FIREBASE_READY } from \"./managers/events/events-name\";\nimport { parseAuthTokenHash, parseModalHashURL, resetHash, parseConfirmTokenHash } from \"./utils/url\";\n\nwindow.WallkitIntegration = class WallkitIntegration {\n    constructor(options) {\n\n        this.managersStatuses = {\n            analytics: {\n                isEnabled: options?.analytics?.parseUTM ?? false,\n                isReady: false,\n            },\n            authentication: {\n                isEnabled: true,\n                isReady: false,\n            },\n            call: {\n                isEnabled: options?.call?.use ?? false,\n                isReady: false,\n            },\n            content: {\n                isEnabled: true,\n                isReady: false,\n            },\n            events: {\n                isEnabled: true,\n                isReady: false,\n            },\n            frame: {\n                isEnabled: true,\n                isReady: false,\n            },\n            localization: {\n                isEnabled: false,\n                isReady: false,\n            },\n            modal: {\n                isEnabled: true,\n                isReady: false,\n            },\n            sdk: {\n                isEnabled: true,\n                isReady: false,\n            },\n            user: {\n                isEnabled: true,\n                isReady: false,\n            }\n        };\n\n        this.events = new Events();\n        this.managersStatuses.events.isReady = true;\n\n        this.config = options;\n\n        this.uiType = options?.ui?.type ?? 'popup';\n\n        this.content = Content;\n        this.managersStatuses.content.isReady = true;\n\n        const preventExecutionForCrawlers = options?.prevent_execution_for_crawlers ?? true;\n        if (preventExecutionForCrawlers && isCrawler()) {\n            return;\n        }\n\n        this.frame = new Frame({\n            ...options,\n            onReady: () => {\n                this.popup.toggleLoader(false);\n                this.managersStatuses.frame.isReady = true;\n            }\n        });\n\n        this.popup = new Modal({\n            resourceFrame: this.frame,\n            initialLoader: true,\n            onReady: (modal) => {\n                this.managersStatuses.modal.isReady = true;\n            },\n            onClose: () => {\n                this.events.notify(FRAME_MODAL_CLOSED, {name: this.frame.currentFrameName});\n            },\n            ui: options?.ui\n        });\n\n        this.sdk = new SDK({\n            ...options,\n            onLoaded: () => {\n                const {firebase, modal, content, reCaptcha, forms} = options.auth || {};\n\n                this.authentication = new Authentication({\n                    ...options,\n                    firebase: firebase,\n                    modalTitle: modal?.title,\n                    content: content || modal?.content,\n                    reCaptcha: reCaptcha,\n                });\n\n                this.analytics = new Analytics(options?.analytics);\n                this.managersStatuses.analytics.isReady = true;\n\n                this.call = new Call(this.popup, this.config, () => {\n                    this.managersStatuses.call.isReady = true;\n                });\n\n                this.init();\n                this.userManager = new UserManager({\n                    customizeForms: forms || false,\n                    popup: this.popup,\n                    authentication: this.authentication,\n                    ui: options?.ui,\n                });\n                this.managersStatuses.user.isReady = true;\n                this.managersStatuses.sdk.isReady = true;\n            }\n        });\n\n        this.checkAlreadyDefinedCallbacks();\n    }\n\n    checkAlreadyDefinedCallbacks() {\n        if (Array.isArray(window.wk) && window.wk.length > 0) {\n            window.wk.forEach(([event, callback, options]) => {\n                if (typeof event !== 'string' || typeof callback !== 'function') {\n                    return;\n                }\n\n                this.on(event, callback, options);\n            });\n        }\n    }\n\n    modal (name, params) {\n        this.popup.open(name, params);\n    }\n\n    on (eventName, callback, options) {\n        this.events.subscribe(eventName, callback, options);\n    }\n\n    off (eventName, callback, options) {\n        this.events.unsubscribe(eventName, callback, options);\n    }\n\n    sendEvent (name, value, params) {\n        this.frame.sendEvent(name, value, params);\n    }\n\n    #eventsListener() {\n\n        this.events.subscribe(MODAL_OPEN, (name) => {\n            this.modal(name);\n        });\n\n        window.addEventListener('message', (event) => {\n            const { data: { value, name }, origin } = event;\n\n            this.events.notify(name, value);\n            this.events.notify(FRAME_MESSAGE, { name, value });\n\n            try {\n                if (ALLOWED_ORIGINS.includes(origin) && name) {\n                    switch (name) {\n                        case \"wk-event-modals-ready\" :\n                            if (this.authentication.isAuthenticated()) {\n                                this.frame.sendEvent(\"wk-event-applepay-ready\", isApplePayAvailable());\n                            } else {\n                                this.frame.sendEvent(\"wk-event-get-token\", this.config.public_key);\n                            }\n\n                            break;\n\n                        case \"wk-event-resize\" :\n                            if (value.width !== 0 && value.height !== 0) {\n                                this.popup.resize(value.width, value.height);\n                            }\n\n                            break;\n\n                        case \"show-firebase-auth\":\n                            const redirect = value;\n                            this.popup.hide();\n                            this.events.subscribe(SUCCESS_AUTH, () => {\n                                if (typeof redirect === \"string\") {\n                                    this.popup.open(redirect);\n                                }\n                            }, { once: true });\n                            this.authentication.show();\n                            this.frame.openFrame('');\n                            break;\n\n                        case \"wk-event-close-modal\" :\n                            this.popup.hide();\n\n                            break;\n\n                        case \"wk-event-reload-page\" :\n                            this.popup.hide();\n                            location.reload();\n\n                            break;\n\n                        case \"wk-event-storage-available\":\n                            if (!value) {\n                                this.authentication.dispatchTokens();\n                            }\n\n                            break;\n\n                        case \"wk-event-close-on-wrapper\":\n                            this.popup.closeOutside = value;\n                            break;\n\n                        case \"wk-firebase-change-password\" :\n                            this.popup.hide();\n                            this.userManager.showChangePassword();\n                            break;\n\n                        case \"wk-event-confirmation-required\":\n                            if (value.popup === 'plans') {\n                              this.frame.openFrame('account-settings');\n                              this.authentication.confirmation.showEmailConfirmationModal();\n                              this.popup.hide();\n                            }\n\n                            break;\n                    }\n                }\n            } catch (error) {\n                console.log('ERROR', error);\n            }\n        });\n\n        this.events.subscribe(FIREBASE_READY, (params) => {\n            this.managersStatuses.authentication.isReady = true;\n        });\n\n        let loadingInPercent = 0;\n        let wkReady = setInterval(() => {\n\n            const dif = [];\n            for (const manager in this.managersStatuses) {\n                if (this.managersStatuses[manager].isEnabled && !this.managersStatuses[manager].isReady) {\n                    dif.push({manager, ...this.managersStatuses[manager]});\n                }\n            }\n\n            const currentLoadingInPercent = Math.round((Object.keys(this.managersStatuses).length - dif.length) / Object.keys(this.managersStatuses).length * 100);\n            if (currentLoadingInPercent !== loadingInPercent) {\n                console.log(`WIL is loading... ${currentLoadingInPercent}%`, dif);\n                loadingInPercent = currentLoadingInPercent;\n            }\n\n            if (dif.length === 0) {\n                console.log('WIL is ready...')\n                clearInterval(wkReady);\n                this.events.notify('ready', true);\n            }\n\n        }, 100);\n\n\n        this.on(READY, async () => {\n\n            const isOpenAuthRouting = await this.authentication.handleAuthRouting();\n\n            if (isOpenAuthRouting) {\n                return;\n            }\n\n            if (this.uiType === 'popup') {\n                this.popup.openByHash();\n            } else {\n                const modal = parseModalHashURL();\n                if (modal) {\n                    this.popup.open(modal.name, modal.params);\n                } else {\n                    if (this.authentication.isAuthenticated()) {\n                        this.popup.open('account-settings');\n                    } else {\n                        this.popup.open('sign-in');\n                    }\n                }\n            }\n        }, {once: true});\n\n    }\n\n    #insertStyles() {\n        const styles = createElement('style');\n        styles.innerHTML = this.uiType === 'popup' ? POPUP_UI_LIBRARY_STYLES : INLINE_UI_LIBRARY_STYLES;\n\n        injectInHead(styles);\n    }\n\n    #recogniseURLIncomeParams() {\n        const ticketPassAuthToken = parseAuthTokenHash();\n        if (ticketPassAuthToken) {\n            this.authentication.handleTicketsToken(ticketPassAuthToken);\n            resetHash();\n        }\n\n        const confirmToken = parseConfirmTokenHash();\n        if (confirmToken) {\n          this.authentication.confirmation.confirmUserEmail(confirmToken);\n          resetHash();\n        }\n    }\n\n    async init() {\n        this.#insertStyles();\n        this.popup.init();\n\n        if (this.config.auth.defaultInit !== false) {\n            this.authentication.init();\n        }\n\n        this.analytics.init();\n        this.#eventsListener();\n        this.#recogniseURLIncomeParams();\n\n        if (this.config.onInit) {\n            this.config.onInit(this);\n        }\n\n        if (this.config?.call?.use) {\n            await this.call.init();\n        }\n\n    }\n\n    push ([event, callback, options]) {\n        if (typeof event !== 'string' || typeof callback !== 'function') {\n            return;\n        }\n\n        this.events.subscribe(event, callback, options);\n    }\n}\n\nexport * from './managers/events/events-name';\nexport * from './configs/constants';\n\nexport default WallkitIntegration;\n","import SDK from '../sdk';\nimport Authentication from \"../authentication\";\nimport Events from \"../events\";\nimport { SUCCESS_AUTH } from \"../events/events-name\";\n\nexport default class Analytics {\n    #config;\n    #sdk;\n    #authentication;\n    #events;\n\n    constructor(options) {\n        this.#config = {\n            parseUTM: options?.parseUTM !== undefined ? options.parseUTM : true\n        };\n        this.#authentication = new Authentication();\n        this.#sdk = new SDK();\n        this.#events = new Events();\n\n        this.utmTags = {};\n    }\n\n    parseUTMTags() {\n        if (!window.location.search.includes('utm')) return {};\n\n        const queryParams = new URLSearchParams(window.location.search);\n        const utmParams = ['utm_source', 'utm_medium', 'utm_campaign'];\n\n        let foundedUTMParams = {};\n\n        utmParams.forEach((param) => {\n            if (queryParams.get(param)) {\n                foundedUTMParams[param] = queryParams.get(param);\n            }\n        });\n\n        this.utmTags = foundedUTMParams;\n\n        if (this.#authentication.isAuthenticated()) {\n            this.#sdk.methods.updateUser({\n                extra: this.utmTags\n            });\n        } else if (this.hasUTMTags) {\n            this.#events.subscribe(SUCCESS_AUTH, () => {\n                this.#sdk.methods.updateUser({\n                    extra: this.utmTags\n                });\n            }, {once: true});\n        }\n\n        return foundedUTMParams;\n    }\n\n    get hasUTMTags() {\n        return !!Object.keys(this.utmTags).length;\n    }\n\n    init() {\n        if (this.#config.parseUTM !== false) {\n            this.parseUTMTags();\n        }\n    }\n}","import EventsNames from \"../events/events-name\";\nimport { createElement, injectInBody, injectInHead, isMobile } from \"../../utils/DOM\";\nimport { loadScripts } from \"../../utils/loaders\";\nimport SDK from \"../sdk\";\nimport Events from \"../events\";\n\nexport default class ReCaptchaFirebase {\n    #sdk;\n\n    constructor(authenticationInstance, options) {\n        if (!authenticationInstance) {\n            throw Error('Authentication Instance is not provided');\n        }\n\n        this.enabled = this.isEnabled(options);\n        this.authentication = authenticationInstance;\n        this.options = options;\n        this.loaded = false;\n        this.valid = false;\n        this.siteKey = options?.siteKey;\n        this.grecaptcha = null;\n\n        this.#sdk = new SDK();\n        this.events = new Events();\n    }\n\n    isEnabled (options) {\n        if (isMobile()) {\n            return !!options && options?.mobile !== false;\n        } else {\n            return !!options;\n        }\n    }\n\n    setOptions(options) {\n        if (options) {\n            this.options = options;\n            this.enabled = true;\n        }\n\n\n        return this;\n    }\n\n    async load() {\n        try {\n            if (!this.options) {\n                return false;\n            }\n\n            if (this.loaded) {\n                return true;\n            }\n\n            const recaptchaScripts = [\n                {\n                    url: `https://www.google.com/recaptcha/api.js`,\n                    id: 'recaptcha-script',\n                    defer: true,\n                    onload: () => {\n                        this.loaded = true;\n                        this.grecaptcha = window.grecaptcha;\n                        this.events.notify(EventsNames.local.RECAPTCHA_LOADED, true);\n\n                        Promise.resolve(true);\n                    }\n                },\n            ];\n\n            window.onRecaptchaAuth = this.#onRecaptchaAuth.bind(this);\n            this.#initReCaptchaPlaceholder();\n            this.hideBadge();\n\n            loadScripts(recaptchaScripts);\n        } catch (e) {\n            console.error(e);\n            return false;\n        }\n    }\n\n    #initReCaptchaPlaceholder() {\n        const reCaptchaPlaceholder = createElement('div');\n        reCaptchaPlaceholder.classList.add('g-recaptcha');\n        reCaptchaPlaceholder.dataset.sitekey = this.siteKey;\n        reCaptchaPlaceholder.dataset.size = 'invisible';\n        reCaptchaPlaceholder.dataset.callback = 'onRecaptchaAuth';\n\n        if (this.authentication.modal) {\n          this.authentication.modal.modalContent.appendChild(reCaptchaPlaceholder);\n        }\n    }\n\n    #onRecaptchaAuth(token) {\n        return this.#sdk.methods.validateReCaptchaToken(token).then(() => {\n            this.events.notify(EventsNames.local.RECAPTCHA_VALIDATION_SUCCESS);\n            this.valid = true;\n            this.authentication.modal.toggleLoader(false);\n        }).catch(() => {\n            this.valid = false;\n        }).finally(() => {\n            this.authentication.modal.toggleLoader(false);\n        })\n    }\n\n    hideBadge() {\n        const style = createElement('style');\n        style.innerText = `.grecaptcha-badge {\n                    visibility: hidden;\n                };`;\n        injectInHead(style);\n    }\n\n    resetProcess() {\n        if (this.grecaptcha) {\n            this.grecaptcha.reset();\n        }\n        this.authentication.firebase.reset();\n        this.authentication.modal.toggleLoader(false);\n    }\n\n    async initCaptchaProcess() {\n        try {\n            this.valid = false;\n\n            if (this.grecaptcha && typeof this.grecaptcha.reset === 'function') {\n                this.grecaptcha.reset();\n            }\n\n            const handleCaptchaState = () => {\n                if (!this.valid) {\n                    this.events.notify(EventsNames.local.RECAPTCHA_VALIDATION_FAILED);\n                    this.authentication.firebase.reset();\n                    this.authentication.modal.toggleLoader(true);\n                }\n            }\n\n            const executeReCaptcha = () => {\n                this.authentication.modal.toggleLoader(true);\n                this.grecaptcha.ready(() => {\n                    this.grecaptcha.execute().then(() => {\n                        this.events.subscribe(EventsNames.local.MODAL_CLOSED,\n                            () => this.resetProcess(),\n                            { once: true });\n                    }).catch(() => this.resetProcess())\n                });\n            }\n\n            const initTriggers = () => {\n                executeReCaptcha();\n\n                const emailField = document.querySelector('.firebaseui-id-email');\n                const submitBtn = document.querySelector('.firebaseui-id-page-sign-in .firebaseui-id-submit');\n                const cancelBtn = document.querySelector('.firebaseui-id-page-sign-in .firebaseui-id-secondary-link');\n\n                if (emailField) {\n                    emailField.setAttribute( \"autocomplete\", \"off\" );\n\n                    emailField.addEventListener('input', () => {\n                        handleCaptchaState();\n                    });\n\n                    emailField.addEventListener('keydown', (event) => {\n                        if (event.code && event.code === 'Enter') {\n                            handleCaptchaState();\n                        }\n                    });\n                }\n\n                if (cancelBtn) {\n                    cancelBtn.onclick = () => {\n                        handleCaptchaState();\n                    }\n                }\n\n                if (submitBtn) {\n                    submitBtn.onclick = () => {\n                        handleCaptchaState();\n                    }\n                }\n            }\n\n            const emailBtn = document.querySelector('.firebaseui-idp-button[data-provider-id=\"password\"]');\n            const emailField = document.querySelector('.firebaseui-id-email');\n\n            if (emailBtn) {\n                emailBtn.addEventListener('click', initTriggers.bind(this));\n            } else if (emailField) {\n                const submitBtn = document.querySelector('.firebaseui-id-page-sign-in .firebaseui-id-submit');\n                if (submitBtn) {\n                    submitBtn.onclick = () => {\n                        handleCaptchaState();\n                    }\n                }\n\n                emailField.setAttribute( \"autocomplete\", \"off\" );\n\n                emailField.addEventListener('input', () => {\n                    if (!this.valid) {\n                        emailField.blur();\n                        executeReCaptcha();\n                    }\n                });\n            }\n        } catch (error) {\n            if (typeof this.authentication.firebase.reset === 'function') {\n                this.authentication.firebase.reset();\n            }\n            console.error('error', error);\n        }\n    }\n\n    async init () {\n        try {\n            if (!this.options || this.loaded) {\n                return false;\n            }\n\n            if (this.options === true) {\n                const response = await this.#sdk.methods.getReCaptchaSettings()\n\n                if (response && response.active) {\n                    this.siteKey = response.recaptcha_public_key;\n\n                    return this.load();\n                }\n\n            } else {\n                return this.load();\n            }\n\n            return false;\n        } catch (error) {\n            console.error(error);\n            return false;\n        }\n    }\n}\n","import LocalStorage from '../../utils/local-storage';\nimport { removeCookie, setCookie } from \"../../utils/cookie\";\nimport localStorage from \"../../utils/local-storage\";\nimport { getParentDomain } from \"../../utils/url\";\n\nexport default class Token {\n    #slug;\n    #resource;\n    #domain;\n\n    constructor(slug, value, resource, subDomain) {\n        if (slug && resource) {\n            this.#resource = resource;\n            this.#domain = subDomain === true ? getParentDomain() : '';\n            this.#slug = this.createTokenSlug(slug, resource);\n\n            if (value) {\n                this.set(value);\n            } else {\n                this.token = this.getStoredTokenValue() || null;\n            }\n        }\n    }\n\n    createTokenSlug (slug, resource) {\n        return `${slug}_${resource}`;\n    }\n\n    get() {\n        return this.token;\n    }\n\n    getStoredTokenValue() {\n        return LocalStorage.getItem(this.#slug) || null;\n    }\n\n    remove() {\n        this.token = null;\n        removeCookie(this.#slug, this.#domain);\n        localStorage.removeItem(this.#slug);\n    }\n\n    set(value) {\n        this.token = value;\n        setCookie(this.#slug, value, {\n            expires: 'Fri, 31 Dec 9999 23:59:59 GMT',\n            path: \"/\",\n            domain: this.#domain,\n        });\n        localStorage.setItem(this.#slug, value);\n    }\n}\n","import { loadScripts } from \"../../../utils/loaders\";\nimport { insertScript, loadCSS, normalizeSelector } from \"../../../utils/DOM\";\nimport {\n    WALLKIT_FIREBASE_CONFIG,\n    WALLKIT_DEV_FIREBASE_CONFIG,\n    WALLKIT_FIREBASE_UI_PLACEHOLDER_ID,\n} from \"../../../configs/constants\";\nimport { Localization } from \"../../localization\";\nimport Events from \"../../events\";\nimport {\n    FIREBASE_INIT,\n    FIREBASE_LOADED,\n    FIREBASE_UI_SHOWN\n} from \"../../events/events-name\";\nimport isEmpty from \"lodash.isempty\";\n\nexport default class Firebase {\n    #mode;\n\n    constructor(options) {\n        this.events = new Events();\n\n        this.firebaseUiConfig = null;\n        this.#mode = options?.mode;\n        this.lang = Localization.assembleLanguage(options.lang || 'en');\n        this.config = options?.config;\n        this.providers = options?.providers;\n        this.tosURL = options?.tosURL;\n        this.privacyPolicyURL = options?.privacyPolicyURL;\n        this.captchaKey = options?.captchaKey ?? '6LeNZrwbAAAAAKXPTmJj5KMdUwI2GE6XAUbCU6DM';\n        this.genuineForm = options?.genuineForm ?? true;\n\n        this.firebase = null;\n        this.firebaseui = null;\n        this.elementPlaceholder = this.#getElementPlaceholder(options);\n        this.onSuccessAuth = options?.onSuccessAuth ?? null;\n        this.onAuthStateChanged = options?.onAuthStateChanged ?? null;\n        this.uiShown = options?.uiShown ?? null;\n\n        this.isUiShown = false;\n        this.initialized = false;\n        this.loaded = false;\n    }\n\n    #getElementPlaceholder(options) {\n      const defaultPlaceholder = `#${WALLKIT_FIREBASE_UI_PLACEHOLDER_ID}`;\n\n      if (this.genuineForm) {\n        let selector = options?.elementSelector ?? defaultPlaceholder;\n        return normalizeSelector(selector);\n      }\n\n      return defaultPlaceholder;\n    }\n\n    get allowedProviders() {\n        return {\n            'google': this.firebase.auth.GoogleAuthProvider.PROVIDER_ID,\n            'email': this.firebase.auth.EmailAuthProvider.PROVIDER_ID,\n            'facebook': this.firebase.auth.FacebookAuthProvider.PROVIDER_ID,\n            'apple': 'apple.com',\n            'microsoft': 'microsoft.com'\n        }\n    };\n\n    hideAuthForm () {\n        const element = document.querySelector(this.elementPlaceholder);\n\n        if (element) {\n            element.style.display = 'none';\n        }\n    }\n\n    showAuthForm () {\n        const element = document.querySelector(this.elementPlaceholder);\n\n        if (element) {\n            element.style.display = 'block';\n        }\n    }\n\n    #loadFirebase() {\n        return new Promise((resolve, reject) => {\n            this.loading = true;\n            const onFirebaseAppLoaded = () => {\n                const scripts = [\n                    {\n                        url: 'https://www.gstatic.com/firebasejs/8.7.0/firebase-analytics.js',\n                        id: 'firebase-analytics',\n                        defer: true,\n                        onload: () => onScriptLoaded()\n                    },\n                    {\n                        url: 'https://www.gstatic.com/firebasejs/8.7.0/firebase-auth.js',\n                        id: 'firebase-auth',\n                        defer: true,\n                        onload: () => onScriptLoaded()\n                    },\n                    {\n                        url: 'https://www.gstatic.com/firebasejs/8.7.0/firebase-firestore.js',\n                        id: 'firebase-firestore',\n                        defer: true,\n                        onload: () => onScriptLoaded()\n                    },\n                    {\n                        url: `https://www.gstatic.com/firebasejs/ui/4.8.0/firebase-ui-auth__${this.lang}.js`,\n                        id: 'firebase-ui',\n                        defer: true,\n                        onload: () => onScriptLoaded()\n                    },\n                    {\n                        url: 'https://www.gstatic.com/firebasejs/8.7.0/firebase-app-check.js',\n                        id: 'firebase-app-check',\n                        defer: true,\n                        onload: () => onScriptLoaded()\n                    },\n                ];\n\n                let loadedCounter = 0;\n                const onScriptLoaded = () => {\n                    loadedCounter++;\n\n                    if (loadedCounter === scripts.length) {\n                        this.firebase = window.firebase;\n                        this.firebaseui = window.firebaseui;\n\n                        this.loaded = true;\n                        resolve({ firebase: window.firebase, firebaseui: window.firebaseui } )\n                    }\n                };\n\n                loadScripts(scripts);\n\n                loadCSS('https://www.gstatic.com/firebasejs/ui/4.8.0/firebase-ui-auth.css','firebase-ui-styles');\n            };\n\n            insertScript('https://www.gstatic.com/firebasejs/8.7.0/firebase-app.js','firebase-app', onFirebaseAppLoaded);\n        });\n    }\n\n    formatSelectedProviders(providers) {\n        let selectedProviders = [];\n        if (Array.isArray(providers)) {\n            selectedProviders = providers.map((item) => {\n                if ((item === 'email' || item.provider === 'email') && this.genuineForm === false) {\n                    return false;\n                }\n\n                if (typeof item === \"object\") {\n                    if (this.allowedProviders[item.provider]) {\n                        return {\n                            ...item,\n                            provider: this.allowedProviders[item.provider]\n                        }\n                    }\n                } else {\n                    if (this.allowedProviders[item]) {\n                        return this.allowedProviders[item];\n                    }\n                }\n            }).filter((item) => !!item);\n        }\n\n        return selectedProviders;\n    }\n\n    #authStateChanged(user) {\n        if (user) {\n            user.getIdToken().then((token) => {\n                if (this.onAuthStateChanged) {\n                    this.onAuthStateChanged(token);\n                }\n            });\n        }\n    }\n\n    #firebaseInitApp(config) {\n        if (this.firebase.apps.length === 0) {\n            const defaultConfig = this.#mode === 'dev' ? WALLKIT_DEV_FIREBASE_CONFIG : WALLKIT_FIREBASE_CONFIG;\n            this.firebase.initializeApp(config ?? defaultConfig);\n        }\n\n        return this.firebase;\n    }\n\n    async initFirebase({\n       config,\n       providers = ['email', 'google'],\n       tosUrl = 'https://wallkit.net',\n       privacyPolicyUrl = 'https://wallkit.net'\n    }) {\n\n        this.#firebaseInitApp(config);\n\n        const firebaseuiInstance = new this.firebaseui.auth.AuthUI(this.firebase.auth());\n        firebaseuiInstance.disableAutoSignIn();\n\n        this.firebaseUiConfig = {\n            callbacks: {\n                signInSuccessWithAuthResult: (result) => {\n                    result.user.getIdToken().then((token) => {\n                        const formattedResult = {\n                            user: result.user,\n                            userId: result.user.uid,\n                            token: token\n                        }\n\n                        if (this.onSuccessAuth) {\n                            this.onSuccessAuth(formattedResult, result);\n                        }\n                    });\n                },\n                uiShown: () => {\n                    if (this.uiShown) {\n                        this.uiShown();\n                    }\n                    this.events.notify(FIREBASE_UI_SHOWN, true);\n                    this.isUiShown = true;\n                }\n            },\n            signInFlow: 'popup',\n            signInOptions: this.formatSelectedProviders(providers),\n            credentialHelper: this.firebaseui.auth.CredentialHelper.GOOGLE_YOLO,\n            tosUrl,\n            privacyPolicyUrl\n        };\n\n        this.firebaseui = firebaseuiInstance;\n        this.startFirebaseUi(this.elementPlaceholder, this.firebaseUiConfig);\n\n        this.firebase.auth().onAuthStateChanged(this.#authStateChanged.bind(this));\n\n        return true;\n    }\n\n    reset() {\n        if (this.firebaseui) {\n            this.firebaseui.reset();\n            this.firebaseui.start(this.elementPlaceholder);\n        }\n    }\n\n    startFirebaseUi(elementPlaceholder, uiConfig) {\n        this.firebaseui.start(elementPlaceholder || this.elementPlaceholder, uiConfig || this.firebaseUiConfig);\n    }\n\n    logout() {\n        return new Promise((resolve) => {\n            if (this.firebase && this.firebase.auth) {\n                this.firebase.auth().signOut().then(() => resolve(true));\n            } else {\n                resolve(false);\n            }\n        });\n    }\n\n    signIn (email, password) {\n        return this.firebase.auth().signInWithEmailAndPassword(email, password)\n            .then((result) => this.handleSuccessAuth(result));\n    }\n\n    signUp (email, password) {\n        return this.firebase.auth().createUserWithEmailAndPassword(email, password)\n            .then((result) => this.handleSuccessAuth(result));\n    }\n\n    updateName (name) {\n      if (name) {\n        const user = this.firebase.auth().currentUser;\n\n        if (user) {\n          user.updateProfile({\n            displayName: name\n          });\n        }\n      }\n    }\n\n    async handleSuccessAuth (result) {\n        try {\n            if (result) {\n                const token = await result.user.getIdToken();\n\n                const formattedResult = {\n                    operationType: result.operationType,\n                    user: result.user,\n                    userId: result.user.uid,\n                    token: token\n                }\n\n                if (this.onSuccessAuth) {\n                    this.onSuccessAuth(formattedResult, result);\n                }\n            }\n        } catch (e) {\n            console.log('ERROR:', e);\n        }\n    }\n\n    sendPasswordResetEmail(email) {\n        return this.firebase.auth().sendPasswordResetEmail(email);\n    }\n\n    async sendNewPasswordResetPassword(password, oobCode) {\n        if (!password) {\n            throw new Error(\"The password cannot be empty of false.\");\n        }\n        if (!oobCode) {\n            throw new Error(\"Invalid values in the password reset url.\");\n        }\n\n        const passResetUrl = `https://identitytoolkit.googleapis.com/v1/accounts:resetPassword?key=${this.config.apiKey}`\n        return await fetch(passResetUrl,\n            {\n                method: 'POST',\n                body: JSON.stringify({\n                    oobCode: oobCode,\n                    newPassword: password\n                }),\n                headers: { \"Content-Type\": \"application/json\" }\n        }).then(async (res) => {\n            const resJson = await res.json();\n            if (!!resJson.error && !!resJson.error.message) {\n                switch (resJson.error.message) {\n                    case 'OPERATION_NOT_ALLOWED':\n                        throw new Error(\"Password sign-in is disabled for this project.\");\n                    case 'EXPIRED_OOB_CODE':\n                        throw new Error(\"The password reset link has expired.\");\n                    case 'INVALID_OOB_CODE':\n                        throw new Error(\"The password reset link is invalid. This can happen if the code is malformed, expired, or has already been used. Please generate a new one using the Forgot password form.\");\n                    case 'USER_DISABLED':\n                        throw new Error(\"The user account has been disabled by an administrator.\");\n                    default :\n                        throw new Error(resJson.error.message);\n                }\n            } else {\n                return resJson;\n            }\n        }).catch((error) => {\n            throw error;\n        });\n    }\n\n    async authEmailLink(oobcode, email) {\n        if (isEmpty(oobcode) || isEmpty(email)) {\n            throw new Error(\"Invalid values in the auth email link.\");\n        }\n\n        const signInWithEmailLinkUrl = `https://identitytoolkit.googleapis.com/v1/accounts:signInWithEmailLink?key=${this.config.apiKey}`\n        return await fetch(signInWithEmailLinkUrl,\n            {\n                method: 'POST',\n                body: JSON.stringify({\n                    oobCode: oobcode,\n                    email: email\n                }),\n                headers: { \"Content-Type\": \"application/json\" }\n            }).then(async (res) => {\n                const resJson = await res.json();\n                if (!!resJson.error && !!resJson.error.message) {\n                    throw new Error(resJson.error.message);\n                } else {\n                    return resJson;\n                }\n            }).catch((error) => {\n                throw error;\n            });\n    }\n\n    async reauthenticateWithCredential (oldPassword) {\n        if (!!oldPassword) {\n            const user = this.firebase.auth().currentUser;\n            if (user) {\n                const credential = this.firebase.auth.EmailAuthProvider.credential(\n                    user.email,\n                    oldPassword\n                );\n                return await user.reauthenticateWithCredential(credential);\n            } else {\n                throw new Error('Your authorization is broken. Please login again.');\n            }\n        } else {\n            throw new Error('Old Password is empty');\n        }\n    }\n\n    async updatePassword (newPassword) {\n        if (!!newPassword) {\n            const user = this.firebase.auth().currentUser;\n            if (user) {\n                await user.updatePassword(newPassword);\n            } else {\n                throw new Error('Your authorization is broken. Please login again.');\n            }\n        } else {\n            throw new Error('New Password is empty');\n        }\n    }\n\n    async authWithCustomToken(token) {\n        try {\n            if (this.firebase && this.firebase.auth) {\n                return await this.firebase.auth().signInWithCustomToken(token);\n            }\n\n            return false;\n        } catch (error) {\n            console.error('Custom Token Auth Fail');\n            return false;\n        }\n    }\n\n    attachEmailListener (callback) {\n        const emailBtn = document.querySelector('.firebaseui-idp-button[data-provider-id=\"password\"]');\n\n        const attachListener = () => {\n            const emailField = document.querySelector('.firebaseui-id-email');\n\n            if (emailField) {\n                emailField.addEventListener('blur', (event) => {\n                    callback(event);\n                });\n            }\n        }\n\n        if (emailBtn) {\n            emailBtn.addEventListener('click', () => {\n                setTimeout(() => {\n                    attachListener();\n                });\n            })\n        } else {\n            attachListener();\n        }\n    }\n\n    init() {\n        this.#loadFirebase().then(() => {\n            this.events.notify(FIREBASE_LOADED, true)\n\n            this.initFirebase({\n                config: this.config,\n                providers: this.providers,\n                tosUrl: this.tosURL,\n                privacyPolicyUrl: this.privacyPolicyURL\n            }).then(() => {\n                this.initialized = true;\n                this.events.notify(FIREBASE_INIT, true)\n            });\n        });\n    }\n}\n","import Modal from '../modal';\nimport Firebase from \"./firebase/Firebase\";\nimport {\n  WALLKIT_FIREBASE_UI_PLACEHOLDER_ID,\n  WALLKIT_FIREBASE_WK_FORM_PLACEHOLDER_ID,\n  WALLKIT_TOKEN_NAME,\n  FIREBASE_TOKEN_NAME,\n  WALLKIT_AUTH_FORM_PLACEHOLDER_ID\n} from \"../../configs/constants\";\nimport EventsNames, {\n    FIREBASE_INIT,\n    FIREBASE_LOADED,\n    FIREBASE_UI_SHOWN,\n    MODAL_OPEN,\n    PRE_SIGN_IN\n} from \"../events/events-name\";\nimport Events from \"../events\";\nimport Frame from \"../frame\";\nimport SDK from \"../sdk\";\nimport Token from \"./Token\";\nimport ReCaptcha from \"./ReCaptcha\";\nimport {AuthForm, RESET_PASSWORD_FORM_SLUG} from \"../form/forms/AuthForm\";\nimport {normalizeSelector} from \"../../utils/DOM\";\nimport {\n    parseResetPasswordOobCodeHash,\n    resetHash,\n    parseAuthEmailLinkOobCodeHash,\n    parseCustomTokenHash, getUrlParamByKey\n} from \"../../utils/url\";\nimport isEmpty from \"lodash.isempty\";\n\nexport default class Authentication {\n    #options;\n    #oobCode = '';\n    #showAuthFormSlug = '';\n\n    constructor(options) {\n        if (!!Authentication.instance) {\n            return Authentication.instance;\n        }\n\n        Authentication.instance = this;\n\n        this.#options = options;\n\n        this.token = new Token(WALLKIT_TOKEN_NAME, null, options.public_key, !!options?.cookies?.subDomain);\n        this.firebaseToken = new Token(FIREBASE_TOKEN_NAME, null, options.public_key, !!options?.cookies?.subDomain);\n\n        this.frame = new Frame();\n        this.sdk = new SDK();\n\n        if (!!options?.firebase) {\n            let config = {\n                lang: options.lang || 'en',\n                mode: options.mode,\n                onAuthStateChanged: this.updateFirebaseToken.bind(this),\n                onSuccessAuth: this.onSuccessAuth.bind(this),\n                uiShown: this.onFirebaseInit.bind(this),\n                onAuthFail: this.onFirebaseAuthFail.bind(this)\n            }\n\n            if (typeof options.firebase === \"object\") {\n                config = {\n                    ...config,\n                    ...options.firebase\n                }\n\n                if (options.firebase.genuineForm === false) {\n                    config.tosURL = '';\n                    config.privacyPolicyURL = '';\n                }\n            }\n\n            this.firebase = new Firebase(config);\n\n            if (options.firebase.genuineForm === false && this.#isEmailProvider) {\n                this.initAuthForm();\n            }\n        }\n\n        this.reCaptcha = new ReCaptcha(this, options?.reCaptcha);\n        this.reCaptcha.events.subscribe(EventsNames.local.RECAPTCHA_VALIDATION_FAILED, () => {\n            this.#setAuthorizationError('ReCaptcha Validation Failed! Please try again!', 'recaptcha/validation-failed');\n        });\n        this.reCaptcha.events.subscribe(EventsNames.local.RECAPTCHA_VALIDATION_SUCCESS, () => {\n            this.#resetAuthorizationError();\n        });\n\n        this.events = new Events();\n    }\n\n    get #authPlaceholderElementSelector() {\n        let selector = this.#options?.auth?.firebase?.elementSelector ?? `#${WALLKIT_AUTH_FORM_PLACEHOLDER_ID}`;\n        return normalizeSelector(selector);\n    }\n\n    get #authPlaceholderElementSelectorType() {\n        switch (this.#authPlaceholderElementSelector.charAt(0)) {\n            case '#':\n                return 'id'\n            case '.':\n                return 'class'\n        }\n        return 'id';\n    }\n\n    isAuthenticated() {\n        if (this.sdk) {\n            if(!!this.#options?.firebase){\n                return !!(this.sdk.methods.isAuthenticated() && this.token.get() && this.firebaseToken.get());\n            } else {\n                return !!(this.sdk.methods.isAuthenticated() && this.token.get());\n            }\n        } else {\n            return !!this.token.get();\n        }\n    }\n\n    toggleFormLoader(state) {\n        if (this.modal) {\n            this.modal.toggleLoader(state);\n        }\n    }\n\n    handleLogin (data) {\n      this.firebase.signIn(data.email, data.password)\n        .then(() => {})\n        .catch((error) => {\n          if (!isEmpty(error.message)) {\n            this.authForm.loginForm.setFormError(error.message, error.code || false);\n          }\n          this.reCaptcha.grecaptcha.reset();\n        });\n    }\n\n    handleSignUp (data) {\n      this.firebase.signUp(data.email, data.password)\n        .then(() => {\n          this.firebase.updateName(data.name);\n        })\n        .catch((error) => {\n          if (!isEmpty(error.message)) {\n            this.authForm.signUpForm.setFormError(error.message, error.code || false);\n          }\n          this.reCaptcha.grecaptcha.reset();\n        });\n    }\n\n    executeRecaptcha () {\n      this.reCaptcha.grecaptcha.ready(() => {\n        this.reCaptcha.grecaptcha.execute().then(() => {\n          this.modal.toggleLoader(true);\n        }).catch((error) => {\n          console.log('EXECUTE RECAPTCHA ERROR:', error);\n        });\n      })\n    }\n\n    get #isEmailProvider () {\n        const { providers } = this.#options.firebase;\n        if (isEmpty(providers)) return false;\n        if(!Array.isArray(providers)) return false;\n        for (const provider of providers) {\n            if (typeof provider === \"string\" && provider.toLowerCase() === 'email') return true;\n            if (typeof provider !== \"string\" && !isEmpty(provider.provider) && provider.provider.toLowerCase() === 'email') return true;\n        }\n        return false;\n    }\n\n    initAuthForm () {\n        const { tosURL, privacyPolicyURL, termsOfService, providers, passwordSignInIgnoreValidation, authOnPasswordReset } = this.#options.firebase || {};\n        const { signUp, defaultForm, forms } = this.#options.auth || {};\n        this.authForm = new AuthForm(`#${WALLKIT_FIREBASE_WK_FORM_PLACEHOLDER_ID}`, {\n            triggerButton: this.firebase.providers.length > 1,\n            signUp: signUp ?? true,\n            termsOfService: { tosURL, privacyPolicyURL, termsOfService },\n            defaultForm: defaultForm || false,\n            authProviders: providers || false,\n            customizeAuthForms: forms || false,\n            passwordSignInIgnoreValidation: passwordSignInIgnoreValidation || false,\n            authOnPasswordReset: authOnPasswordReset || false,\n            onLogin: async (data) => {\n              const proceed = await this.events.preventiveEvent(PRE_SIGN_IN, data);\n\n              if (!proceed) {\n                return;\n              }\n\n              if (this.reCaptcha.enabled) {\n                this.executeRecaptcha();\n\n                this.reCaptcha.events.subscribe(\n                  EventsNames.local.RECAPTCHA_VALIDATION_SUCCESS,\n                  this.handleLogin.bind(this, data),\n                  { once: true }\n                );\n              } else {\n                this.handleLogin(data);\n              }\n            },\n            onSignUp: (data) => {\n              if (this.reCaptcha.enabled) {\n                this.executeRecaptcha();\n\n                this.reCaptcha.events.subscribe(\n                  EventsNames.local.RECAPTCHA_VALIDATION_SUCCESS,\n                  this.handleSignUp.bind(this, data),\n                  { once: true }\n                );\n              } else {\n                this.handleSignUp(data);\n              }\n            },\n            onGetEmailLink: async (data) => {\n                try {\n                    this.toggleFormLoader(true);\n\n                    await this.sdk.client.post({\n                        path: '/firebase/email-auth-link',\n                        data: {\n                            email: data.email\n                        }\n                    }).then((res)=>{\n                        if (res.result){\n                            this.authForm.showSuccessEmailLink();\n                        } else {\n                            this.authForm.emailLinkForm.setFormError(\"Something went wrong\", 'auth-email-link/unknown-error');\n                        }\n                    }).catch(error => {\n                        if (!isEmpty(error.message)) {\n                            this.authForm.emailLinkForm.setFormError(error.message, error.code || false);\n                        }\n                        this.toggleFormLoader(false);\n                    });\n\n                    this.toggleFormLoader(false);\n                } catch (error) {\n                    if (!isEmpty(error.message)) {\n                        this.authForm.emailLinkForm.setFormError(error.message, error.code || false);\n                    }\n                    this.toggleFormLoader(false);\n                }\n            },\n            onPasswordForgot: async (data) => {\n              try {\n                this.toggleFormLoader(true);\n\n                let success;\n                if (this.#options.firebase.genuinePasswordReset === false) {\n                  const { result } = await this.sdk.methods.firebasePasswordReset(data.email);\n                  success = result;\n                } else {\n                  await this.firebase.sendPasswordResetEmail(data.email);\n                  success = true;\n                }\n\n                if (success) {\n                  this.authForm.showSuccessPasswordForgot();\n                } else {\n                  throw new Error('Something went wrong');\n                }\n\n                this.toggleFormLoader(false);\n              } catch (error) {\n                if (!isEmpty(error.message)) {\n                    this.authForm.forgotPasswordForm.setFormError(error.message, error.code || false);\n                }\n                this.toggleFormLoader(false);\n              }\n            },\n            onPasswordReset: async (data) => {\n                try {\n                    this.toggleFormLoader(true);\n\n                    let success;\n\n                    success = await this.firebase.sendNewPasswordResetPassword(data.new_password, this.#oobCode)\n\n                    if (success) {\n                        const { authOnPasswordReset } = this.#options.firebase;\n                        this.authForm.showSuccessPasswordReset();\n                        if (authOnPasswordReset) {\n                            this.handleLogin({email: success.email, password: data.new_password})\n                        }\n                    } else {\n                        this.authForm.resetPasswordForm.setFormError(\"Something went wrong\", 'reset-password/unknown-error');\n                    }\n\n                    this.toggleFormLoader(false);\n                } catch (error) {\n                    if (!isEmpty(error.message)) {\n                        this.authForm.resetPasswordForm.setFormError(error.message, error.code || false);\n                    }\n                    this.toggleFormLoader(false);\n                }\n            },\n            onAuthFormShow: () => {\n                this.firebase.hideAuthForm();\n            },\n            onCancel: () => {\n                this.firebase.showAuthForm();\n                this.authForm.reset();\n            },\n            getShowAuthFormSlug: () => {\n                return this.#showAuthFormSlug;\n            }\n        });\n    }\n\n    onSuccessAuth(data) {\n        this.toggleFormLoader(true);\n\n        const handleAuthError = (error) => {\n            this.resetAuthProcess(false);\n            this.toggleFormLoader(false);\n            this.#setAuthorizationError(error?.message || 'Something went wrong!', error?.code || 'unknown-error');\n        }\n\n        this.updateFirebaseToken(data.token);\n        this.events.notify(EventsNames.local.SUCCESS_FIREBASE_AUTH, data);\n        this.authInWallkit(data.token)\n            .then((status) => {\n                if (status) {\n                    this.modal.hide();\n                    if (this.authForm) {\n                        this.authForm.hide();\n                    }\n                } else {\n                    handleAuthError();\n                }\n\n                this.toggleFormLoader(false);\n            }).catch((error) => handleAuthError(error));\n    }\n\n    async authInWallkit(firebaseToken = null) {\n        this.#resetAuthorizationError();\n        if (!firebaseToken) {\n            throw new Error('Your authorization is broken. Please login again.');\n        }\n        try {\n            const response = await this.sdk.methods.authenticateWithFirebase(firebaseToken);\n            this.setToken(response.token);\n            return await new Promise((resolve, reject) => {\n                const userGetTimeout = setTimeout(() => {\n                    resolve(false);\n                }, 10000);\n                const userEventCallback = () => {\n                    clearTimeout(userGetTimeout);\n                    this.sdk.methods.unsubscribeLocalEvent('user', userEventCallback);\n                    this.events.notify(EventsNames.local.SUCCESS_AUTH, {register: !response.existed});\n                    resolve(true);\n                };\n                this.sdk.methods.subscribeLocalEvent('user', userEventCallback);\n            });\n        } catch (error) {\n            console.log('error', error);\n            this.removeTokens();\n            throw error;\n        }\n    }\n\n    getDefaultAuthenticationFormContent () {\n        return `<div>\n                    <div id=\"authorization-error\"></div>\n                    <h2 class=\"wallkit-auth-modal__title\">${this.#options?.modalTitle ?? 'Sign In'}</h2>\n                    <div ${this.#authPlaceholderElementSelectorType}=\"${this.#authPlaceholderElementSelector.substring(1)}\"></div>\n                </div>`;\n    }\n\n    attachFormPlaceholders (selector = this.#authPlaceholderElementSelector) {\n      const placeholders = `<div id=\"${WALLKIT_FIREBASE_WK_FORM_PLACEHOLDER_ID}\"></div>\n                            <div id=\"${WALLKIT_FIREBASE_UI_PLACEHOLDER_ID}\"></div>`\n\n      const targetElement = document.querySelector(selector);\n\n      if (targetElement) {\n        targetElement.innerHTML = placeholders;\n      }\n    }\n\n    render () {\n        if (this.#options.auth.renderType === 'selector') {\n            const placeholder = document.querySelector(this.#options.auth.selector);\n\n            if (placeholder) {\n                placeholder.insertAdjacentHTML('beforeend', this.#options?.content || this.getDefaultAuthenticationFormContent());\n            }\n        } else {\n            this.modal = this.#createModal();\n            this.modal.init();\n        }\n\n        this.attachFormPlaceholders();\n    }\n\n    #createModal() {\n        return new Modal({\n            modalName: 'auth-modal',\n            content: this.#options?.content || this.getDefaultAuthenticationFormContent(),\n            className: 'wallkit-auth-modal',\n            initialLoader: true,\n            ui: this.#options?.ui,\n        });\n    }\n\n    async show(authFormSlug) {\n        this.#showAuthFormSlug = authFormSlug ?? '';\n\n        if (this.#options.firebase.genuineForm === false) {\n            if (this.authForm) {\n                this.authForm.defaultForm = authFormSlug;\n                if (!this.authForm.triggerButton || !this.authForm.triggerButton.isVisible) {\n                    this.authForm.showDefaultForm();\n                }\n            }\n        }\n        this.modal.show();\n\n        if (!this.firebase.isUiShown) {\n            this.checkFirebaseInit();\n        }\n    }\n\n    checkFirebaseInit() {\n        if (!this.firebase.loaded) {\n            this.firebase.events.subscribe(FIREBASE_LOADED, () => this.checkFirebaseInit(), { once: true });\n        } else {\n            if (!this.firebase.initialized) {\n                this.firebase.events.subscribe(FIREBASE_INIT, () => this.checkFirebaseInit(), { once: true });\n            } else {\n                let shownTimeout = null;\n                if (!this.firebase.isUiShown) {\n                    shownTimeout = setTimeout(() => {\n                        this.firebase.startFirebaseUi();\n                        this.checkFirebaseInit();\n                    }, 2000);\n\n                    this.firebase.events.subscribe(FIREBASE_UI_SHOWN, () => {\n                        if (shownTimeout) {\n                            clearTimeout(shownTimeout);\n                        }\n                    });\n                }\n            }\n        }\n    }\n\n    updateFirebaseToken(token) {\n        this.firebaseToken.set(token);\n        this.frame.sendEvent(EventsNames.wallkit.WALLKIT_EVENT_FIREBASE_TOKEN, token);\n        this.sdk.methods.setFirebaseToken(token);\n    }\n\n    onFirebaseInit() {\n        try {\n          if (this.#options.firebase.genuineForm !== false) {\n            if (this.reCaptcha.enabled && this.reCaptcha.loaded) {\n\n              this.reCaptcha.initCaptchaProcess().then(() => {\n                this.events.notify(EventsNames.local.FIREBASE_READY, true);\n              });\n\n            } else if (!this.reCaptcha.loaded && this.reCaptcha.enabled) {\n\n              this.events.subscribe(EventsNames.local.RECAPTCHA_LOADED, () => {\n                this.reCaptcha.initCaptchaProcess().then(() => {\n                    this.events.notify(EventsNames.local.FIREBASE_READY, true);\n                });\n              }, {once: true});\n\n            } else if (!this.reCaptcha.enabled) {\n                this.events.notify(EventsNames.local.FIREBASE_READY, true);\n            }\n          } else if (this.authForm?.triggerButton){\n              this.authForm.triggerButton.events.notify(FIREBASE_UI_SHOWN, true);\n              this.events.notify(EventsNames.local.FIREBASE_READY, true);\n          } else {\n              this.events.notify(EventsNames.local.FIREBASE_READY, true);\n          }\n\n          this.toggleFormLoader(false);\n        } catch (e) {\n          this.toggleFormLoader(false);\n        }\n    }\n\n    removeToken() {\n        this.token.remove();\n    }\n\n    removeFirebaseToken() {\n        this.firebaseToken.remove();\n    }\n\n    removeTokens() {\n        this.removeToken();\n        this.removeFirebaseToken();\n    }\n\n    setToken(token) {\n      this.token.set(token);\n      this.sdk.methods.setToken(token);\n    }\n\n    #initListeners() {\n\n        this.events.subscribe(EventsNames.local.FRAME_MESSAGE, ({ name, value }) => {\n            switch (name) {\n                case EventsNames.wallkit.WALLKIT_EVENT_TOKEN:\n                    if (value) {\n                        this.setToken(value);\n                    }\n                    break;\n                case EventsNames.wallkit.WALLKIT_EVENT_AUTH:\n                case EventsNames.wallkit.WALLKIT_EVENT_REGISTRATION:\n                case EventsNames.wallkit.WALLKIT_EVENT_GET_TOKEN:\n                    if (value) {\n                        let token = value.token;\n                        this.setToken(token);\n                    }\n                    break;\n                case EventsNames.wallkit.WALLKIT_FIREBASE_TOKEN:\n                    this.firebaseToken.set(value);\n                    if (this.sdk) {\n                        this.sdk.methods.setFirebaseToken(value);\n                    }\n                    break;\n                case EventsNames.wallkit.WALLKIT_EVENT_FIREBASE_CUSTOM_TOKEN:\n                    if (value) {\n                        this.firebase.authWithCustomToken(value);\n                    }\n                    break;\n                case EventsNames.wallkit.WALLKIT_LOGOUT:\n                    if (this.isAuthenticated()) {\n                      this.logout();\n                    }\n                    break;\n            }\n        });\n    }\n\n    resetAuthProcess (reset = true) {\n      this.firebase.reset();\n      this.firebase.showAuthForm();\n\n      if (this.firebase.genuineForm === false && reset) {\n        this.authForm.reset();\n      }\n\n      if (this.reCaptcha.enabled) {\n        this.reCaptcha.grecaptcha.reset();\n      }\n    }\n\n    async logout() {\n      try {\n        this.removeToken();\n        const success = await this.firebase.logout();\n\n        if (success) {\n          this.removeFirebaseToken();\n\n          if (this.reCaptcha.enabled && !this.reCaptcha.loaded) {\n            await this.reCaptcha.init();\n          } else if (this.reCaptcha.loaded) {\n            this.resetAuthProcess();\n            this.reCaptcha.grecaptcha.reset();\n\n            if (this.#options.firebase.genuineForm !== false) {\n              this.reCaptcha.initCaptchaProcess();\n            }\n          }\n\n          if (this.sdk.methods.isAuthenticated()) {\n            await this.sdk.methods.logout();\n          } else if (this.token.get() || this.firebaseToken.get()) {\n            this.frame.sendEvent(EventsNames.wallkit.WALLKIT_LOGOUT, true);\n          }\n\n          this.events.notify(EventsNames.local.LOGOUT, true);\n        }\n\n        this.resetAuthProcess();\n      } catch (e) {\n        console.log('ERROR:', e);\n        this.resetAuthProcess();\n      }\n    }\n\n    dispatchTokens() {\n        if (this.isAuthenticated()) {\n           this.dispatchWallkitToken();\n           this.dispatchFirebaseToken();\n        }\n    }\n\n    dispatchWallkitToken() {\n        const token = this.token.get();\n        if (token) {\n            this.frame.sendEvent(EventsNames.wallkit.WALLKIT_EVENT_TOKEN, token);\n        }\n    }\n\n    dispatchFirebaseToken() {\n        const token = this.firebaseToken.get();\n        if (token) {\n            this.frame.sendEvent(EventsNames.wallkit.WALLKIT_EVENT_FIREBASE_TOKEN, token);\n        }\n    }\n\n    async handleTicketsToken(ticketPassAuthToken) {\n        try {\n            const response = await this.sdk.methods.getAuthTokensByTicketPassToken(ticketPassAuthToken);\n\n            if (response) {\n                return await this.authWithCustomToken(response.firebase_custom_token);\n            }\n\n            return false;\n        } catch (error) {\n            console.error(error);\n            return error;\n        }\n    }\n\n    async authWithCustomToken(customFirebaseToken = null, wallkitToken = null) {\n\n        if (!customFirebaseToken || !wallkitToken) {\n            return false;\n        }\n\n        try {\n\n            const userCredential = await this.firebase.authWithCustomToken(customFirebaseToken);\n\n            console.log('authWithCustomToken -> userCredential', userCredential);\n\n            if (!userCredential) {\n                return false;\n            }\n\n            const firebaseToken = await userCredential.user.getIdToken();\n\n            console.log('authWithCustomToken -> firebaseToken', firebaseToken);\n\n            this.updateFirebaseToken(firebaseToken);\n            this.setToken(wallkitToken);\n\n            await this.sdk.methods.getUser();\n            this.dispatchTokens();\n\n            this.events.notify(EventsNames.local.SUCCESS_AUTH, true);\n\n            return true;\n\n        } catch (error) {\n            console.log('authWithCustomToken -> error', error)\n            console.error(error);\n            return false;\n        }\n    }\n\n    async handleExternalAuthProvider(externalUserId) {\n        try {\n            if (!externalUserId) {\n                return false;\n            }\n\n            const response = await this.sdk.methods.getAuthTokensByExternalUserId(externalUserId);\n            if (!response) {\n                return false;\n            }\n\n            const userCredential = await this.firebase.authWithCustomToken(response.firebase_custom_token);\n            const firebaseToken = await userCredential.user.getIdToken();\n\n            if (!response.token || !firebaseToken) {\n                return false;\n            }\n\n            this.updateFirebaseToken(firebaseToken);\n            this.setToken(response.token);\n\n            await this.sdk.methods.getUser();\n            this.dispatchTokens();\n\n            this.events.notify(EventsNames.local.SUCCESS_AUTH, true);\n            this.events.notify(EventsNames.local.EXTERNAL_PROVIDER_TOKEN_AUTH_SUCCESS, true);\n\n            return true;\n\n        } catch (error) {\n            console.error(error);\n            return error;\n        }\n    }\n\n    #setAuthorizationError(errorMessage, errorCode) {\n        if (this.authForm) {\n            this.authForm.handleError(errorMessage, errorCode);\n        } else {\n            const errorPlaceholder = document.getElementById('authorization-error');\n            if (errorPlaceholder) {\n                if (errorMessage === null) {\n                    errorPlaceholder.innerHTML = '';\n                } else {\n                    errorPlaceholder.innerHTML = errorMessage || 'Something went wrong!';\n                }\n            }\n        }\n    }\n\n    #resetAuthorizationError() {\n        this.#setAuthorizationError(null);\n    }\n\n    onFirebaseAuthFail(error) {\n        this.toggleFormLoader(false);\n    }\n\n    handleOneTapResponse({credential}) {\n        this.frame.sendEvent(EventsNames.wallkit.WALLKIT_EVENT_ONE_TAP_SIGN_IN, credential);\n    }\n\n    #checkIfResetPasswordURL() {\n        const oobCode = parseResetPasswordOobCodeHash();\n        if (oobCode) {\n            this.showResetPassword(oobCode);\n            resetHash();\n            return true;\n        }\n        return false;\n    }\n\n    showResetPassword(oobCode) {\n        if (!isEmpty(oobCode)) {\n            this.#oobCode = oobCode;\n            if (this.authForm.triggerButton) {\n                this.authForm.triggerButton.hide();\n            }\n            this.firebase.hideAuthForm();\n            this.authForm.showForm(RESET_PASSWORD_FORM_SLUG);\n            this.modal.show();\n        }\n    }\n\n    async #checkIfAuthEmailLinkURL() {\n        const authData = parseAuthEmailLinkOobCodeHash();\n        const {oobcode, email} = authData || {}\n        if (!isEmpty(oobcode) && !isEmpty(email)) {\n            resetHash();\n            const resJson = await this.firebase.authEmailLink(oobcode, email);\n            this.onSuccessAuth({\n                operationType: \"signIn\",\n                token: resJson.idToken,\n            });\n            return true;\n        }\n        return false;\n    }\n\n    async #checkCustomToken() {\n\n        // this.firebase.events.subscribe(FIREBASE_INIT, async () => {\n            this.checkFirebaseInit();\n\n            const customFirebaseToken = getUrlParamByKey('custom-firebase-token');\n            const wallkitToken = getUrlParamByKey('wallkit-token');\n            const popupSlug = getUrlParamByKey('popup-slug');\n\n            if (customFirebaseToken && wallkitToken) {\n\n                window.history.replaceState({}, document.title, window.location.pathname);\n\n                await this.authWithCustomToken(customFirebaseToken, wallkitToken);\n                if (popupSlug) {\n                    this.events.notify(MODAL_OPEN, popupSlug);\n                    return true;\n                }\n            }\n            return false;\n\n        // }, {once: true});\n    }\n\n    async handleAuthRouting() {\n        const isOpenResetPassword = this.#checkIfResetPasswordURL();\n        const isOpenAuthWithLink =  await this.#checkIfAuthEmailLinkURL();\n        const isOpenModalAfterAuthWithCustomToken =  await this.#checkCustomToken();\n\n        return isOpenResetPassword || isOpenAuthWithLink || isOpenModalAfterAuthWithCustomToken;\n    }\n\n    init() {\n        if (!!this.#options?.firebase) {\n            // Render recaptcha before the firebase init if not custom FB form\n            if (this.#options.firebase.genuineForm !== false) {\n              if (this.reCaptcha.enabled) {\n                if (!this.isAuthenticated()) {\n                  this.reCaptcha.init();\n                }\n              }\n            }\n\n            this.render();\n            this.firebase.init();\n\n            if (this.authForm) {\n              this.authForm.render();\n              this.reCaptcha.init();\n            }\n        }\n        this.#initListeners();\n\n    }\n}\n","import Events from \"../events\";\nimport EventsNames from \"../events/events-name\";\nimport SDK from \"../sdk\";\n\nexport default class Call {\n    #popup;\n    #config;\n    #events;\n    #sdk;\n    #classForHandleClick;\n    #classThatReactOnTheUsersStatus;\n    #classThatReactOnTheUsersPlans;\n    #classThatReactOnTheUsersEvents;\n    #onReady;\n\n    constructor(popup, config, onReady) {\n        this.#popup = popup;\n        this.#config = config;\n        this.#events = new Events();\n        this.#sdk = new SDK();\n        this.#classForHandleClick = config?.call?.classForHandleClick ?? 'wk-call';\n        this.#classThatReactOnTheUsersStatus = config?.call?.classThatReactOnTheUsersStatus ?? 'wk-call-status-user';\n        this.#classThatReactOnTheUsersPlans = config?.call?.classThatReactOnTheUsersPlans ?? 'wk-call-status-plans';\n        this.#classThatReactOnTheUsersEvents = config?.call?.classThatReactOnTheUsersEvents ?? 'wk-call-status-events';\n        this.#onReady = onReady;\n    }\n\n    #isDebug() {\n        return !!this.#config?.call?.debug;\n    }\n\n    #initWkListeners() {\n        this.#events.subscribe(EventsNames.local.FRAME_MESSAGE, ({name, _}) => {\n            switch (name) {\n                case EventsNames.wallkit.WALLKIT_EVENT_USER:\n                    this.getWallkitUserData();\n                    break;\n            }\n        });\n\n        this.#events.subscribe(EventsNames.local.SUCCESS_AUTH, (value) => {\n            if (this.#isDebug()) {\n                console.log('subscribe ventsNames.local.SUCCESS_AUTH', value);\n            }\n            this.getWallkitUserData();\n        });\n\n        this.#events.subscribe(EventsNames.local.LOGOUT, () => {\n          this.setAllDataWkStatusesInDOMElements();\n          this.#setDataWkHasAccessInBody(false);\n        });\n\n        this.#events.subscribe(EventsNames.local.CHECK_USER_ACCESS, (value) => {\n            if (this.#isDebug()) {\n                console.log('subscribe ventsNames.local.CHECK_USER_ACCESS', value);\n            }\n            this.#setDataWkHasAccessInBody(value);\n        });\n    }\n\n    // add event listener to body and handle click on elements which have class `${this.#classForHandleClick}`\n    // get class which starts from \"wk\" to obtain slug of popup which we have to open\n    // and params for this popup\n    // ex. <a href=\"#\" class=\"btn btn-primary wk-call wkcheckoutsubscription-94\">Buy</a> ===>\n    // popup slug - checkout; params - {\"item_type\":\"subscription\", \"item_key\":\"94\"}\n    // open popup by slug with params\n    #initUIListeners() {\n        document.body.addEventListener('click', (e) => {\n\n                try {\n\n                    if (this.#isDebug()) {\n                        console.log('Click on element: ', e.target);\n                        console.log(`Does element have class ${this.#classForHandleClick}: ${e.target.classList.contains(this.#classForHandleClick)}`);\n                    }\n\n                    // skip if target element has no class `${this.#classForHandleClick}`\n                    if (!e.target.classList.contains(`${this.#classForHandleClick}`)) return;\n\n                    // retrieve all classes for element\n                    const classes = Array.from(e.target.classList);\n                    const slugAndParamStr = classes.find(className => className.startsWith('wk'));\n\n                    if (this.#isDebug()) {\n                        console.log('Popup\\'s slug and params: ', slugAndParamStr);\n                        console.log('Exit if slug and param === \"undefined\"');\n                    }\n\n                    // skip if we have no popup slug\n                    if (typeof slugAndParamStr === \"undefined\") return;\n\n                    const slugAndParamArr = slugAndParamStr.split(\"\");\n                    const popupSlug = slugAndParamArr[1];\n                    const popupParams = slugAndParamArr[2];\n\n                    if (this.#isDebug()) {\n                        console.log('Popup\\'s slug: ', popupSlug);\n                        console.log('Popup\\'s params: ', popupParams);\n                    }\n\n                    // open popup without params\n                    if (typeof popupSlug !== \"undefined\" && typeof popupParams === \"undefined\") {\n                        if (this.#isDebug()) {\n                            console.log('Open popup without params. Only with slug: ', popupSlug);\n                        }\n                        this.#popup.open(popupSlug);\n                        e.preventDefault();\n                        return;\n                    }\n\n                    // getting key and value params\n                    const popupParamsArr = popupParams.split('-');\n                    let key = popupParamsArr[0];\n                    const value = popupParamsArr[1];\n\n                    if (this.#isDebug()) {\n                        console.log('Popup\\'s param key: ', key);\n                        console.log('Popup\\'s param value: ', value);\n                    }\n\n                    //open popup with params\n                    if (typeof key !== \"undefined\" && typeof value !== \"undefined\") {\n\n                        // make mo readable key for user\n                        if (key === 'ticket') {\n                            key = 'ti_event_ticket';\n                        }\n\n                        // prepare params for popup\n                        const params = JSON.stringify({item_type: key, item_key: value});\n                        const path = `${popupSlug}?[${params}]`\n\n                        if (this.#isDebug()) {\n                            console.log('Open popup with params: ', path);\n                        }\n\n                        this.#popup.open(path);\n                        e.preventDefault();\n                    }\n                } catch (error) {\n                    console.log('WK Call ERROR:', error);\n                }\n            }\n        );\n    }\n\n    getUserStatus() {\n        return this.#sdk.methods.isAuthenticated() ? 'authorized' : 'guest';\n    }\n\n    setAllDataWkStatusesInDOMElements(response) {\n        this.setDataWkStatusUserInDOMElements();\n        this.setDataWkStatusPlansInDOMElements(response);\n        this.setDataWkStatusEventsInDOMElements(response);\n    }\n\n    setDataWkStatusUserInDOMElements() {\n        if (this.#isDebug()) {\n            console.log(`Set user status: \"${this.getUserStatus()}\" for elements:`);\n        }\n        // find all elements with class `${this.#classThatReactOnTheUsersStatus}`\n        for (const element of document.querySelectorAll(`.${this.#classThatReactOnTheUsersStatus}`)) {\n            if (this.#isDebug()) {\n                console.log(element);\n            }\n            element.dataset.wkCallStatusUser = this.getUserStatus();\n        }\n    }\n\n    setDataWkStatusPlansInDOMElements({subscriptions} = {}) {\n\n        let plans = 'undefined';\n\n        if (Array.isArray(subscriptions) && subscriptions.length > 0) {\n            plans = subscriptions.map((s) => s.plan.slug).join(' ');\n        }\n\n        if (this.#isDebug()) {\n            console.log(`Set plans status: \"${plans}\" for elements:`);\n        }\n        // find all elements with class `${this.#classThatReactOnTheUsersPlans}`\n        for (const element of document.querySelectorAll(`.${this.#classThatReactOnTheUsersPlans}`)) {\n            if (this.#isDebug()) {\n                console.log(element);\n            }\n            element.dataset.wkCallStatusPlans = plans;\n        }\n    }\n\n    setDataWkStatusEventsInDOMElements({assigned_tickets} = {}) {\n\n        let events = 'undefined';\n\n        if (Array.isArray(assigned_tickets) && assigned_tickets.length > 0) {\n            events = assigned_tickets.map((s) => s.ti_event.slug).join(' ');\n        }\n\n        if (this.#isDebug()) {\n            console.log(`Set events status: \"${events}\" for elements:`);\n        }\n        // find all elements with class `${this.#classThatReactOnTheUsersEvents}`\n        for (const element of document.querySelectorAll(`.${this.#classThatReactOnTheUsersEvents}`)) {\n            if (this.#isDebug()) {\n                console.log(element);\n            }\n            element.dataset.wkCallStatusEvents = events;\n        }\n    }\n\n    #setDataWkHasAccessInBody(value) {\n        if (this.#isDebug()) {\n            console.log(`Set user has access data \"${value}\" in body element.`);\n        }\n        document.body.dataset.wkCallUserHasAccess = value;\n    }\n\n    getWallkitUserData() {\n        return this.#sdk.client.get({path: `/user`})\n            .then((response) => {\n                this.setAllDataWkStatusesInDOMElements(response);\n            })\n            .catch((error) => {\n                console.log('WK Call ERROR:', error);\n                this.setAllDataWkStatusesInDOMElements();\n            });\n    }\n\n    removeAllDataWkStatuses() {\n        if (this.#isDebug()) {\n            console.log(`Remove all wallkit statuses from all DOM Elements.`);\n            console.log('Remove data-wk-call-user-has-access from body element.');\n        }\n        delete document.body.dataset.wkCallUserHasAccess;\n\n        for (const element of document.querySelectorAll(`.${this.#classThatReactOnTheUsersStatus}`)) {\n            if (this.#isDebug()) {\n                console.log('Remove data-wk-call-status-user from element:', element);\n            }\n            delete element.dataset.wkCallStatusUser;\n        }\n        for (const element of document.querySelectorAll(`.${this.#classThatReactOnTheUsersPlans}`)) {\n            if (this.#isDebug()) {\n                console.log('Remove data-wk-call-status-plans from element:', element);\n            }\n            delete element.dataset.wkCallStatusPlans;\n        }\n        for (const element of document.querySelectorAll(`.${this.#classThatReactOnTheUsersEvents}`)) {\n            if (this.#isDebug()) {\n                console.log('Remove data-wk-call-status-events from element:', element);\n            }\n            delete element.dataset.wkCallStatusEvents;\n        }\n    }\n\n    #debugUserStatus() {\n        console.log(`User status: `, this.getUserStatus());\n    }\n\n    #debugElementsClickingOnWhichOpensPopups() {\n        console.log('Elements, clicking on which opens popups:');\n        for (const element of document.querySelectorAll(`.${this.#classForHandleClick}`)) {\n            console.log(element);\n        }\n    }\n\n    #debugElementsThatReactToTheUsersStatus() {\n        console.log('Elements that react to the user\\'s status:');\n        for (const element of document.querySelectorAll(`.${this.#classThatReactOnTheUsersStatus}`)) {\n            console.log(element);\n        }\n    }\n\n    #debugElementsThatReactToTheUsersPlans() {\n        console.log('Elements that react to the user\\'s plans:');\n        for (const element of document.querySelectorAll(`.${this.#classThatReactOnTheUsersPlans}`)) {\n            console.log(element);\n        }\n    }\n\n    #debugElementsThatReactToTheUsersEvents() {\n        console.log('Elements that react to the user\\'s events:');\n        for (const element of document.querySelectorAll(`.${this.#classThatReactOnTheUsersEvents}`)) {\n            console.log(element);\n        }\n    }\n\n    async init() {\n        if (this.#isDebug()) {\n            console.log('Init Wallkit Call with config: ', this.#config?.call);\n            this.#debugUserStatus();\n            this.#debugElementsClickingOnWhichOpensPopups();\n            this.#debugElementsThatReactToTheUsersStatus();\n            this.#debugElementsThatReactToTheUsersPlans();\n            this.#debugElementsThatReactToTheUsersEvents();\n        }\n\n        this.#initWkListeners();\n        this.#initUIListeners();\n\n        if (this.#sdk.methods.isAuthenticated()) {\n            await this.getWallkitUserData();\n        } else {\n            this.setAllDataWkStatusesInDOMElements();\n        }\n\n        if (this.#onReady) {\n            this.#onReady();\n        }\n\n    }\n}\n","import SDK from \"../sdk\";\nimport Events from \"../events\";\nimport {CHECK_USER_ACCESS} from \"../events/events-name\";\n\nexport default class Content {\n    #options;\n    #events;\n\n    constructor(content, options={}) {\n        this.content = content;\n        this.#options = this.#optionsCheck(options);\n        this.sdk = new SDK();\n        this.#events = new Events();\n\n        this.accessCount = 0;\n        this.accessCountLimit = 0;\n    }\n\n    #optionsCheck(options) {\n        if (typeof options.checkAccessDetails === \"undefined\") {\n            options.checkAccessDetails = false;\n        }\n        return options;\n    }\n\n    #encodeQueryData(data) {\n        const ret = [];\n\n        for (const d in data) {\n            if (data[d] !== undefined) {\n                ret.push(`${encodeURIComponent(d)}=${encodeURIComponent(data[d])}`);\n            }\n        }\n\n        return ret.join('&');\n    }\n\n    #formatCheckAccessRequestPath(id, params) {\n        const query = this.#encodeQueryData(params);\n\n        return `/user/content-sync-and-check/${id}?${query}`;\n    }\n\n    formatTaxonomies(taxonomies) {\n        const formatted = {};\n\n        const taxonimiesTitles = [];\n        const taxonimiesKeys = [];\n\n        for (const taxKey in taxonomies) {\n            taxonimiesKeys.push(taxKey);\n            taxonimiesTitles.push(taxonomies[taxKey].label);\n\n            let termKeysKey = `term_keys[${taxKey}]`;\n            let termTitleKey = `term_titles[${taxKey}]`;\n\n            if (taxonomies[taxKey]?.items) {\n\n                formatted[termKeysKey] = [];\n                formatted[termTitleKey] = [];\n\n                taxonomies[taxKey].items.forEach((item) => {\n                    formatted[termKeysKey].push(item.slug);\n                    formatted[termTitleKey].push(item.name);\n                });\n            }\n\n            formatted[termKeysKey] = formatted[termKeysKey].join(',');\n            formatted[termTitleKey] = formatted[termTitleKey].join(',');\n        }\n\n        formatted.taxonomy_titles = taxonimiesTitles.join(',');\n        formatted.taxonomy_keys = taxonimiesKeys.join(',');\n\n        return formatted;\n    }\n\n    checkContentAccessAndSync(content) {\n        const queryParams = {\n            type: content.type,\n            title: content.title,\n            link: content.link || window.location.href,\n            image: content.image || null,\n        };\n\n        Object.assign(queryParams, this.formatTaxonomies(content.taxonomies));\n\n        return this.sdk.client.get({ path: this.#formatCheckAccessRequestPath(content.id, queryParams) }).then((response) => {\n            if (this.sdk.methods.isAuthenticated()) {\n                this.getAccessDetails(content.id);\n            }\n\n            this.#events.notify(CHECK_USER_ACCESS, response.allow);\n            return { allowed: response.allow, data: response };\n        }).catch((error) => {\n\n            this.#events.notify(CHECK_USER_ACCESS, false);\n            return { allowed: false, error: error };\n        })\n    }\n\n    async checkAccess() {\n        try {\n            const response = await this.sdk.methods.checkAccess(this.content.id);\n            if (this.sdk.methods.isAuthenticated() || this.#options.checkAccessDetails) {\n                await this.getAccessDetails(this.content.id);\n            }\n\n            this.#events.notify(CHECK_USER_ACCESS, response.allow);\n            return { allowed: response.allow, data: response };\n        } catch (error) {\n            if (error.error === 'incorrect_content_key') {\n                return this.checkContentAccessAndSync(this.content);\n            }\n\n            this.#events.notify(CHECK_USER_ACCESS, false);\n            return { allowed: false, error: error };\n        }\n    }\n\n    getAccessDetails(contentId) {\n        return this.sdk.client.get({ path: `/user/content-access-details/${contentId}` }).then((response) => {\n            this.accessCount = 0;\n            this.accessCountLimit = 0;\n            let checkDone = false;\n            this.accessDetails = {...response || false};\n            if (response?.content_terms?.items?.length ) {\n                if (!response.content_terms.exclude) {\n                    this.accessCount = response.content_terms.usedLimitInPeriod;\n                    this.accessCountLimit = response.content_terms.accessLimit;\n                } else {\n                    checkDone = true;\n                }\n            }\n            if (response?.content_types?.items?.length && !checkDone) {\n                if (!response.content_types.exclude) {\n                    this.accessCount = response.content_terms.usedLimitInPeriod < this.accessCount ? response.content_terms.usedLimitInPeriod : this.accessCount;\n                    this.accessCountLimit = response.content_terms.accessLimit < this.accessCountLimit ? response.content_terms.accessLimit : this.accessCountLimit;\n                } else {\n                    this.accessCount = 0;\n                    this.accessCountLimit = 0;\n                }\n            }\n            return {\n                accessCount: this.accessCount,\n                accessCountLimit: this.accessCountLimit\n            }\n        }).catch((error) => {\n            return error;\n        });\n    }\n}\n","// Local Events Names\nexport const FRAME_CREATED = 'frame-created';\nexport const FRAME_MOUNTED = 'frame-mounted';\nexport const MODAL_CREATED = 'modal-created';\nexport const SUCCESS_AUTH = 'success-auth';\nexport const PRE_SIGN_IN = 'pre-sign-in';\nexport const SUCCESS_FIREBASE_AUTH = 'success-firebase-auth';\nexport const WALLKIT_SDK_LOADED = 'wallkit-js-sdk-loaded';\nexport const FRAME_MESSAGE = 'frame-message';\nexport const AUTH_MODAL_CLOSED = 'auth-modal-closed';\nexport const FRAME_MODAL_CLOSED = 'frame-modal-closed';\nexport const MODAL_CLOSED = 'modal-closed';\nexport const RECAPTCHA_LOADED = 'recaptcha-loaded';\nexport const RECAPTCHA_VALIDATION_FAILED = 'recaptcha-validation-failed';\nexport const RECAPTCHA_VALIDATION_SUCCESS = 'recaptcha-validation-success';\nexport const TICKETS_TOKEN_AUTH_SUCCESS = 'tickets-token-auth-success';\nexport const FIREBASE_LOADED = 'firebase-loaded';\nexport const FIREBASE_INIT = 'firebase-init';\nexport const FIREBASE_UI_SHOWN = 'firebase-ui-shown';\nexport const CHECK_USER_ACCESS = 'check-user-access';\nexport const EXTERNAL_PROVIDER_TOKEN_AUTH_SUCCESS = 'external-provider-token-auth-success';\nexport const LOGOUT = 'logout';\nexport const DEFAULT_AUTH_FORM_SLUG_UPDATED = 'default-auth-form-slug-updated';\nexport const MODAL_OPEN = 'modal-open';\nexport const READY = 'ready';\nexport const FIREBASE_READY = 'firebase-ready';\n\n// Wallkit Events Names\nexport const WALLKIT_CHANGE_FRAME = 'wk-event-modal';\nexport const WALLKIT_LOGOUT = 'wk-event-logout';\nexport const WALLKIT_FIREBASE_TOKEN = 'wk-firebase-token';\nexport const WALLKIT_EVENT_FIREBASE_TOKEN = 'wk-event-firebase-token';\nexport const WALLKIT_EVENT_TOKEN = 'wk-event-token';\nexport const WALLKIT_FRAME_READY = 'wk-event-modals-ready';\nexport const WALLKIT_EVENT_GET_TOKEN = 'wk-event-get-token';\nexport const WALLKIT_EVENT_AUTH = 'wk-event-auth';\nexport const WALLKIT_EVENT_USER = 'wk-event-user';\nexport const WALLKIT_EVENT_REGISTRATION = 'wk-event-registration';\nexport const WALLKIT_EVENT_ONE_TAP_SIGN_IN = 'wk-event-one-tap-sign-in';\nexport const WALLKIT_FRAME_ROUTE_CHANGE = 'wk-event-route-change';\nexport const WALLKIT_EVENT_FIREBASE_CUSTOM_TOKEN = 'wk-event-firebase-custom-token';\nexport const WALLKIT_EVENT_CHANGE_LANGUAGE = 'wk-event-change-language';\nexport const WALLKIT_EVENT_EXTERNAL_PROVIDER_TOKEN = 'wk-event-external-provider-token';\n\nexport default {\n    local: {\n        FRAME_CREATED,\n        FRAME_MOUNTED,\n        MODAL_CREATED,\n        SUCCESS_AUTH,\n        SUCCESS_FIREBASE_AUTH,\n        FRAME_MESSAGE,\n        AUTH_MODAL_CLOSED,\n        FRAME_MODAL_CLOSED,\n        MODAL_CLOSED,\n        RECAPTCHA_LOADED,\n        RECAPTCHA_VALIDATION_FAILED,\n        RECAPTCHA_VALIDATION_SUCCESS,\n        TICKETS_TOKEN_AUTH_SUCCESS,\n        CHECK_USER_ACCESS,\n        PRE_SIGN_IN,\n        EXTERNAL_PROVIDER_TOKEN_AUTH_SUCCESS,\n        DEFAULT_AUTH_FORM_SLUG_UPDATED,\n        LOGOUT,\n        MODAL_OPEN,\n        READY,\n        FIREBASE_READY\n    },\n    wallkit: {\n        FRAME_CREATED,\n        WALLKIT_LOGOUT,\n        WALLKIT_FIREBASE_TOKEN,\n        WALLKIT_EVENT_FIREBASE_TOKEN,\n        WALLKIT_EVENT_TOKEN,\n        WALLKIT_FRAME_READY,\n        WALLKIT_EVENT_GET_TOKEN,\n        WALLKIT_EVENT_AUTH,\n        WALLKIT_EVENT_USER,\n        WALLKIT_EVENT_REGISTRATION,\n        WALLKIT_EVENT_ONE_TAP_SIGN_IN,\n        WALLKIT_FRAME_ROUTE_CHANGE,\n        WALLKIT_EVENT_FIREBASE_CUSTOM_TOKEN,\n        WALLKIT_EVENT_CHANGE_LANGUAGE,\n        WALLKIT_EVENT_EXTERNAL_PROVIDER_TOKEN\n    }\n}\n","export default class Events {\n    constructor() {\n        if (!!Events.instance) {\n            return Events.instance;\n        }\n\n        Events.instance = this;\n        this.listeners = [];\n\n        return this;\n    }\n\n    subscribe(eventName, callback, options) {\n        this.listeners.push({ name: eventName, callback, options: options });\n    }\n\n    unsubscribe(eventName, callback) {\n        this.listeners = this.listeners.filter((event) => {\n            return ((event.name !== eventName) || (event.callback !== callback));\n        });\n    }\n\n    notify(eventName, data) {\n        let onceIndexesToRemove = [];\n        this.listeners.forEach((event, index) => {\n            if (eventName === event.name) {\n                event.callback(data);\n\n                if (!!event?.options?.once) {\n                    onceIndexesToRemove.push(index);\n                }\n            }\n        })\n\n        this.listeners = this.listeners.filter((item, index) => !onceIndexesToRemove.includes(index));\n    }\n\n    getEventByName (eventName) {\n      return this.listeners?.find((item) => item.name === eventName);\n    }\n\n    async preventiveEvent (eventName, data) {\n      const event = this.getEventByName(eventName);\n\n      if (event) {\n        try {\n          const proceed = await event.callback(data);\n\n          return !!proceed;\n        } catch (e) {\n          console.log('ERROR:', e);\n        }\n      }\n\n      return true;\n    }\n}\n","import { createElement } from \"../../../utils/DOM\";\nimport Events from \"../../events\";\nimport {FIREBASE_UI_SHOWN, DEFAULT_AUTH_FORM_SLUG_UPDATED} from \"../../events/events-name\";\nimport {\n    SIGN_IN_FORM_SLUG,\n    SIGN_UP_FORM_SLUG\n} from \"../forms/AuthForm\";\nimport {\n    TRIGGER_EMAIL_BUTTON_TITLE_SELECTOR,\n    TRIGGER_EMAILLINK_BUTTON_TITLE_SELECTOR,\n    TRIGGER_GOOGLE_BUTTON_TITLE_SELECTOR,\n    TRIGGER_EMAIL_BUTTON_CLASS_NAME,\n    TRIGGER_EMAILLINK_BUTTON_CLASS_NAME,\n    TRIGGER_BUTTON_CLASS_NAME\n} from \"../../../configs/constants\";\nimport isEmpty from 'lodash.isempty';\nimport get from 'lodash.get';\n\nexport class TriggerButton {\n    #fullLabel = {\n        email: 'Sign in with email',\n        emaillink: 'Sign by email link'\n    };\n    #emailButonIconUrl = 'https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg';\n    #classNames = {\n        email: TRIGGER_EMAIL_BUTTON_CLASS_NAME,\n        emaillink: TRIGGER_EMAILLINK_BUTTON_CLASS_NAME,\n    };\n    #buttonsTitleSelector = {\n        email: TRIGGER_EMAIL_BUTTON_TITLE_SELECTOR,\n        emaillink: TRIGGER_EMAILLINK_BUTTON_TITLE_SELECTOR,\n        google: TRIGGER_GOOGLE_BUTTON_TITLE_SELECTOR\n    }\n    #options;\n\n    constructor(selector, options) {\n        this.#options = this.checkOptions(options);\n        this.events = new Events();\n        this.selector = selector;\n\n        this.elements = {};\n        const {email, emaillink} = this.#options || {};\n        if (!isEmpty(email)) {\n            this.elements.email = this.createElement('email');\n            if (options.emailOnClick) {\n                this.elements.email.addEventListener('click', options.emailOnClick.bind(this));\n            }\n        }\n        if (!isEmpty(emaillink)) {\n            this.elements.emaillink = this.createElement('emaillink');\n            if (options.emaillinkOnClick) {\n                this.elements.emaillink.addEventListener('click', options.emaillinkOnClick.bind(this));\n            }\n        }\n\n        this.subscribeEventForChanges();\n    }\n\n    checkOptions(options) {\n        if(!Array.isArray(options.authProviders)) return options;\n        for (const authProvider of options.authProviders) {\n            if (typeof authProvider !== \"string\" && isEmpty(authProvider.provider)) continue;\n\n            const aProvider = typeof authProvider === \"string\" ? authProvider : authProvider.provider.toLowerCase();\n            options[aProvider] = {\n                fullLabel: '',\n                signInLabel: '',\n                signUpLabel: '',\n                label: '',\n                backgroundColor: '',\n                textColor: '',\n                textColorStyle: '',\n                iconUrl: '',\n                styles: {}\n            };\n            const { fullLabel, signInLabel, signUpLabel, buttonColor, buttonTextColor, iconUrl } = authProvider;\n            if (aProvider === 'email') {\n                options[aProvider].fullLabel = this.#fullLabel[aProvider];\n                options[aProvider].label = this.#fullLabel[aProvider];\n                options[aProvider].iconUrl = this.#emailButonIconUrl;\n            }\n            if (!isEmpty(fullLabel)) {\n                options[aProvider].fullLabel = fullLabel;\n                options[aProvider].label = fullLabel;\n            }\n            if (!isEmpty(signInLabel)) {\n                options[aProvider].signInLabel = signInLabel;\n                if (options.defaultFormSlug === SIGN_IN_FORM_SLUG) {\n                    options[aProvider].label = signInLabel;\n                }\n            }\n            if (!isEmpty(signUpLabel)) {\n                options[aProvider].signUpLabel = signUpLabel;\n                if (options.defaultFormSlug === SIGN_UP_FORM_SLUG) {\n                    options[aProvider].label = signUpLabel;\n                }\n            }\n            if (!isEmpty(buttonColor)) {\n                options[aProvider].backgroundColor = buttonColor;\n                options[aProvider].styles.backgroundColor = buttonColor;\n            }\n            if (!isEmpty(buttonTextColor )) {\n                options[aProvider].textColor = buttonTextColor;\n                options[aProvider].textColorStyle = ` style=\"color:${buttonTextColor}\"`;\n            }\n            if (!isEmpty(iconUrl)) {\n                options[aProvider].iconUrl = iconUrl;\n            }\n        }\n        return options;\n    }\n\n    subscribeEventForChanges() {\n        /** change Firebase button titles on load */\n        this.events.subscribe(FIREBASE_UI_SHOWN, () => {\n            this.#changeAuthButtonsTitle(this.#options.defaultFormSlug, false);\n            this.#changeAuthButtonsTitleColor();\n        }, {once: true});\n\n        /** change titles on auth form change */\n        this.events.subscribe(DEFAULT_AUTH_FORM_SLUG_UPDATED, (value) => {\n            const newValue = get(value, 'new', false);\n            const oldValue = get(value, 'old', false);\n            if (newValue && newValue !== oldValue) {\n                this.#changeAuthButtonsTitle(newValue, oldValue);\n            }\n        });\n    }\n\n    #changeAuthButtonsTitleColor() {\n        if(!Array.isArray(this.#options.authProviders)) return;\n        for (const authProvider of this.#options.authProviders) {\n            if (isEmpty(authProvider.provider)) continue;\n\n            const aProvider = authProvider.provider.toLowerCase();\n            if (aProvider !== 'email') {\n                const textColor = get(this.#options[aProvider], 'textColor', false);\n                if (!textColor) continue;\n\n                const buttonsTitle = document.querySelectorAll(this.#buttonsTitleSelector[aProvider]);\n                if (buttonsTitle) {\n                    buttonsTitle.forEach( (item) => {\n                        item.style.color = textColor;\n                    });\n                }\n            }\n        }\n    }\n\n    #changeAuthButtonsTitle(authNew, authOld) {\n        if(!Array.isArray(this.#options.authProviders)) return;\n        if ( authNew && authNew !== authOld && [SIGN_UP_FORM_SLUG, SIGN_IN_FORM_SLUG].includes(authNew) ) {\n            for (const authProvider of this.#options.authProviders) {\n                if (isEmpty(authProvider.provider)) continue;\n\n                const aProvider = authProvider.provider.toLowerCase();\n                const {signInLabel, signUpLabel, fullLabel} = this.#options[aProvider];\n                if (!isEmpty(this.#options[aProvider]) && (!isEmpty(signInLabel) || !isEmpty(signUpLabel))) {\n                    const buttonsTitle = document.querySelectorAll(this.#buttonsTitleSelector[aProvider]);\n                    const title = (authNew === SIGN_UP_FORM_SLUG) ? signUpLabel || fullLabel : signInLabel || fullLabel;\n                    if (buttonsTitle && title) {\n                        buttonsTitle.forEach((item) => {\n                            item.innerHTML = title;\n                        });\n                    }\n                }\n            }\n        }\n    }\n\n    createElement (key) {\n        const elementKey = key || 'email';\n        const className = this.#classNames[elementKey] ?? TRIGGER_BUTTON_CLASS_NAME\n        const buttonTitleSelector = `wk-auth-form-button-${elementKey}-title`;\n        const { iconUrl, textColorStyle, label, styles } = this.#options[elementKey];\n        return createElement('div', {\n            className,\n            innerHTML: `\n                <span class=\"firebaseui-idp-icon-wrapper\">\n                    <img class=\"firebaseui-idp-icon\" alt=\"\" src=\"${iconUrl}\">\n                </span>\n                <span class=\"${buttonTitleSelector} firebaseui-idp-text firebaseui-idp-text-long\"${textColorStyle}>${label}</span>`,\n            styles\n        });\n    }\n\n    hide () {\n        if (!isEmpty(this.elements) && Object.keys(this.elements).length){\n            Object.keys(this.elements).forEach(key => {\n                this.elements[key].style.display = 'none';\n            });\n        }\n    }\n\n    show () {\n        if (!isEmpty(this.elements) && Object.keys(this.elements).length){\n            Object.keys(this.elements).forEach(key => {\n                this.elements[key].style.display = 'block';\n            });\n        }\n    }\n\n    render() {\n        const targetElement = document.querySelector(this.selector);\n\n        if (targetElement) {\n            if (!isEmpty(this.elements) && Object.keys(this.elements).length){\n                Object.keys(this.elements).forEach(key => {\n                    targetElement.appendChild(this.elements[key]);\n                });\n            }\n        }\n    }\n\n    get isVisible () {\n        let isVisible = false;\n        if (isEmpty(this.elements)) {\n            return false;\n        }\n        if (Object.keys(this.elements).length) {\n            Object.keys(this.elements).forEach(key => {\n                if (window.getComputedStyle(this.elements[key])){\n                    isVisible = window.getComputedStyle(this.elements[key]).getPropertyValue('display') === 'block';\n                    return isVisible\n                }\n            });\n        }\n        return isVisible;\n    }\n}\n","import { FormField } from \"./index\";\nimport { createElement } from \"../../../utils/DOM\";\n\nexport class CheckBoxField extends FormField {\n  constructor(options) {\n    super(options);\n\n    this.type = 'checkbox';\n\n    this.input.addEventListener('change', this.validate.bind(this));\n  }\n\n  createCheckMark () {\n    return createElement('span', {\n      className: 'wk-form-field__checkmark',\n    });\n  }\n\n  createWrapper () {\n    return createElement('div', {\n      className: 'wk-form-field wk-form-field--checkbox'\n    });\n  }\n\n  getValue () {\n    return this.input.checked;\n  }\n\n  render (options) {\n    this.inputWrapper = this.createInputWrapper();\n\n    const label = this.createLabel(options.label, options.name);\n    label.appendChild(this.input);\n    label.appendChild(this.createCheckMark());\n\n    this.inputWrapper.appendChild(label);\n    this.wrapper.appendChild(this.inputWrapper);\n  }\n}\n","import { FormField } from \"./index\";\n\nexport class PasswordField extends FormField {\n    #options;\n    #hintDescription = `<div>\n            <span>Password should match requirements:</span>\n            <ul class=\"wk-field-list\">\n                <li>at least 1 uppercase character (A-Z)</li>\n                <li>at least 1 lowercase character (a-z)</li>\n                <li>at least 1 digit (0-9)</li>\n                <li>at least 1 special character (punctuation)</li>\n                <li>at least 8 characters length</li>\n            </ul>\n        </div>`;\n    #passwordRuleLength = \"At least 8 characters length\";\n    #passwordRuleUppercase = \"At least 1 uppercase character (A-Z)\";\n    #passwordRuleLowercase = \"At least 1 lowercase character (a-z)\";\n    #passwordRuleDigit = \"At least 1 digit (0-9)\";\n    #passwordRuleSpecial = \"At least 1 special character (punctuation)\";\n    #passwordPrefix = \"Password should be: \";\n    #passwordPostfix = \"\";\n\n    constructor(options) {\n        super(options);\n        this.#options = options;\n        const { passwordHintDescription } = options.messages || {};\n\n        this.insertAffix(`<div id=\"show-password-toggle\" class=\"wk-eye-toggle\"></div>`, this.togglePasswordVisibility.bind(this))\n\n        if (options.passwordHint) {\n            this.insertDescription(passwordHintDescription || this.#hintDescription);\n        }\n\n        this.ignoreValidation = options.ignoreValidation ?? false;\n        this.testStrength = options.testStrength ?? false;\n    }\n\n    togglePasswordVisibility () {\n        const targetElement = this.wrapper.querySelector('#show-password-toggle');\n        const TOGGLE_CLASSNAME = 'wk-eye-toggled';\n\n        if (targetElement) {\n            if (targetElement.classList.contains(TOGGLE_CLASSNAME)) {\n                targetElement.classList.remove(TOGGLE_CLASSNAME);\n                this.switchPasswordInputType('password');\n            } else {\n                targetElement.classList.add(TOGGLE_CLASSNAME);\n                this.switchPasswordInputType('text');\n            }\n        }\n    }\n\n    switchPasswordInputType (type) {\n        if (this.input) {\n            this.input.type = type || 'password';\n        }\n    }\n\n    #testPasswordRule (value, regex, errorMessage) {\n      const uppercaseRegex = new RegExp(regex);\n      const uppercaseValid = uppercaseRegex.test(value);\n\n      if (!uppercaseValid) {\n        return {\n          message: errorMessage,\n          valid: false\n        };\n      }\n\n      return {\n        valid: true\n      }\n    }\n\n    #testPassword (password) {\n        if (this.ignoreValidation) {\n          return {\n            valid: true\n          };\n        }\n        if (!this.testStrength) {\n            return {\n                valid: true\n            };\n        }\n        const { passwordRuleLength, passwordRuleUppercase, passwordRuleLowercase, passwordRuleDigit , passwordRuleSpecial } = this.#options.messages || {};\n        const rules = [\n          {\n            regex: \"^(?=.{8,})\",\n            message: passwordRuleLength || this.#passwordRuleLength\n          },\n          {\n            regex: \"^(?=.*[A-Z])\",\n            message: passwordRuleUppercase || this.#passwordRuleUppercase\n          },\n          {\n            regex: \"^(?=.*[a-z])\",\n            message: passwordRuleLowercase || this.#passwordRuleLowercase\n          },\n          {\n            regex: \"^(?=.*[0-9])\",\n            message: passwordRuleDigit || this.#passwordRuleDigit\n          },\n          {\n            regex: \"^(?=.*[`~!@#$%^&*()+={}\\/|:;'<>,.?_-])\",\n            message: passwordRuleSpecial || this.#passwordRuleSpecial\n          },\n        ];\n\n        for (let rule of rules) {\n          const validateRule = this.#testPasswordRule(password, rule.regex, rule.message);\n\n          if (!validateRule.valid) {\n            return validateRule;\n          }\n        }\n\n        return {\n          valid: true\n        };\n    }\n\n    validate () {\n      const value = this.getValue();\n      const passwordValidation = this.#testPassword(value);\n      const { passwordPrefix, passwordPostfix } = this.#options.messages || {};\n      if (!passwordValidation.valid) {\n        this.setError(`<div>\n                <span>${passwordPrefix || this.#passwordPrefix}${passwordValidation.message}${passwordPostfix || this.#passwordPostfix}</span>\n            </div>`);\n\n        return false;\n      }\n      return super.validate();\n    }\n\n}\n","import {createElement, insertAfter} from \"../../../utils/DOM\";\nimport isEmpty from \"lodash.isempty\";\n\nexport class FormField {\n    #errorMessageRequired = 'This field is required.'\n    #errorMessageEmptyEmail = 'Enter your email address to continue.'\n    #errorMessageIncorrectEmail = 'This email address isn\\'t correct.'\n    #errorMessageEmptyPassword = 'Enter your password to continue.'\n\n    constructor(options) {\n        if (isEmpty(options)) {\n            throw new Error('No Options Provided');\n        }\n        const { messages } = options || {};\n        this.wrapper = this.createWrapper(options);\n        this.input = this.createInput(options);\n        this.type = options.type || 'text';\n        this.message = null;\n        this.isValid = false;\n        this.required = options.required || false;\n        this.slug = options.dataSlug;\n\n        this.render(options);\n\n        if (options.affix) {\n            this.insertAffix(options.affix.content, options.affix.onClick);\n        }\n\n        if (options.description) {\n            this.insertDescription(options.description);\n        }\n\n        if (options.onChange) {\n            this.input.addEventListener('change', options.onChange.bind(this));\n        }\n\n        if (options.onInput) {\n            this.input.addEventListener('input', options.onInput.bind(this));\n        }\n        if (!isEmpty(messages)) {\n            const { required, emptyEmail, incorrectEmail, emptyPassword } = messages || {};\n            this.#errorMessageRequired = required || this.#errorMessageRequired;\n            this.#errorMessageEmptyEmail = emptyEmail || this.#errorMessageEmptyEmail;\n            this.#errorMessageIncorrectEmail = incorrectEmail || this.#errorMessageIncorrectEmail;\n            this.#errorMessageEmptyPassword = emptyPassword || this.#errorMessageEmptyPassword;\n        }\n        this.ignoreValidation = options.ignoreValidation ?? false;\n\n        this.input.addEventListener('blur', this.validate.bind(this));\n\n        if (options.onEnter) {\n          this.input.addEventListener('keydown', (event) => {\n            if (event.keyCode === 13) {\n              options.onEnter();\n            }\n          });\n        }\n\n        if (options.onValidate && typeof options.onValidate === \"function\") {\n            this.onValidate = options.onValidate;\n        }\n\n        if (options.relatedData) {\n            this.relatedData = options.relatedData;\n        }\n    }\n\n    getElement () {\n        return this.wrapper;\n    }\n\n    getValue () {\n        return this.input.value;\n    }\n\n    validate () {\n        if (this.ignoreValidation) {\n            return true;\n        }\n        const value = this.getValue();\n\n        if (this.required && !value) {\n            this.setError(this.#errorMessageRequired);\n\n            return false;\n        }\n\n        if (this.type === 'email') {\n            if (!value) {\n                this.setError(this.#errorMessageEmptyEmail);\n\n                return false;\n            } else if (!value.length > 4 || !value.includes('@') || !value.includes('.')) {\n                this.setError(this.#errorMessageIncorrectEmail);\n\n                return false;\n            }\n        } else if (this.type === 'password') {\n            if (!value) {\n                this.setError(this.#errorMessageEmptyPassword);\n\n                return false;\n            }\n        }\n\n        if (this.onValidate) {\n            if (!this.onValidate(this)) {\n                return false;\n            }\n        }\n\n        this.resetValidation();\n        this.setFieldValidationState(true);\n\n        return true;\n    }\n\n    createWrapper () {\n        return createElement('div', {\n            className: 'wk-form-field'\n        });\n    }\n\n    createInputWrapper () {\n        return createElement('div', {\n            className: 'wk-form-field__input-wrapper',\n        });\n    }\n\n    insertAffix (content, onClick) {\n        const affixElement = createElement('div', {\n            className: 'wk-form-field__field-affix',\n            innerHTML: content\n        });\n\n        affixElement.addEventListener('click', onClick);\n        this.inputWrapper.appendChild(affixElement);\n    }\n\n    insertDescription (description) {\n        const descriptionElement = createElement('div', {\n            className: 'wk-form-field__field-description',\n            innerHTML: description\n        });\n\n        this.wrapper.appendChild(descriptionElement);\n    }\n\n    createInput (options) {\n        return createElement('input', {\n            className: options.className || `wk-form-field__input ${options.name || ''}`,\n            id: options.id || false,\n            attributes: {\n                name: options.name,\n                type: options.type || 'text',\n                placeholder: options.placeholder || ''\n            }\n        });\n    }\n\n    createLabel (text, forRef) {\n        return createElement('label', {\n            className: 'wk-form-field__label',\n            attributes: {\n                for: forRef\n            },\n            innerHTML: text\n        });\n    }\n\n    createMessage (message, valid) {\n        const messageElement = createElement('span', {\n            className: `wk-form-field__message`,\n        });\n\n        messageElement.innerHTML = message;\n\n        return messageElement;\n    }\n\n    setError (message) {\n        if (!this.message) {\n            this.setFieldValidationState(false);\n            this.message = this.createMessage(message, false);\n            insertAfter(this.message, this.inputWrapper);\n        } else if (this.message) {\n            this.message.innerHTML = message;\n        }\n    }\n\n    removeMessage () {\n        if (this.message) {\n            this.message.remove();\n            this.message = null;\n        }\n    }\n\n    setFieldValidationState (valid) {\n        this.isValid = valid;\n        if (!valid) {\n            this.wrapper.classList.add('wk-form-field--invalid');\n            this.wrapper.classList.remove('wk-form-field--valid');\n        } else {\n            this.wrapper.classList.add('wk-form-field--valid');\n            this.wrapper.classList.remove('wk-form-field--invalid');\n        }\n    }\n\n    resetValidation () {\n        this.removeMessage();\n        this.wrapper.classList.remove('wk-form-field--valid', 'wk-form-field--invalid');\n    }\n\n    resetField () {\n        this.input.value = '';\n        this.resetValidation()\n    }\n\n    focus () {\n      this.input.focus();\n    }\n\n    render (options) {\n      this.inputWrapper = this.createInputWrapper();\n      this.wrapper.appendChild(this.createLabel(options.label, options.name));\n      this.inputWrapper.appendChild(this.input);\n      this.wrapper.appendChild(this.inputWrapper);\n    }\n}\n","import { createElement } from \"../../../utils/DOM\";\n\nimport { TriggerButton } from \"../buttons/TriggerButton\";\nimport { LoginForm } from \"./LoginForm\";\nimport { SignupForm } from \"./SignUpForm\";\nimport { ForgotPasswordForm } from \"./ForgotPasswordForm\";\nimport { ResetPasswordForm } from \"./ResetPasswordForm\";\nimport { EmailLinkForm } from \"./EmailLinkForm\";\nimport {DEFAULT_AUTH_FORM_SLUG_UPDATED} from \"../../events/events-name\";\n\nexport const SIGN_UP_FORM_SLUG = 'sign-up';\nexport const SIGN_IN_FORM_SLUG = 'sign-in';\nexport const FORGOT_PASSWORD_FORM_SLUG = 'forgot-password';\nexport const RESET_PASSWORD_FORM_SLUG = 'reset-password';\nexport const EMAIL_LINK_FORM_SLUG = 'email-link';\nimport isEmpty from \"lodash.isempty\";\n\nexport class AuthForm {\n    #options;\n\n    constructor(selector, options) {\n        this.#options = options;\n        this.defaultForm = options?.defaultForm || false;\n\n        // this.wrapper = createElement('div', {\n        //     id: 'wk-auth-form'\n        // });\n        const { messages, signIn, signUp, emailLink, forgotPassword, resetPassword } = options.customizeAuthForms || {};\n\n        /** LoginForm */\n        let signInMessages = {};\n        if (!isEmpty(signIn) && !isEmpty(signIn.messages)) {\n            signInMessages = signIn.messages;\n        }\n        this.loginForm = new LoginForm(selector, {\n            className: 'wk-form-login',\n            cancelBtn: options.triggerButton !== false,\n            signUp: options.signUp ?? true,\n            passwordSignInIgnoreValidation: options.passwordSignInIgnoreValidation || false,\n            ...(signIn || {}),\n            messages: {\n                ...(messages || {}),\n                ...signInMessages\n            },\n            onSubmit: (data) => {\n                if (options.onLogin) {\n                    options.onLogin(data);\n                }\n            },\n            onCancel: () => {\n                if (options.onCancel) {\n                    options.onCancel();\n                    this.loginForm.resetForm();\n                }\n            }\n        });\n        this.loginForm.formWrapper.addEventListener('click', (event) => {\n            if (event.target.id === 'auth-signup-link') {\n                event.preventDefault();\n\n                this.showForm(SIGN_UP_FORM_SLUG);\n            } else if (event.target.id === 'auth-password-link') {\n                event.preventDefault();\n\n                this.showForm(FORGOT_PASSWORD_FORM_SLUG);\n            }\n        });\n        this.loginForm.hide();\n\n        /** SignupForm */\n        let signUpMessages = {};\n        if (!isEmpty(signUp) && !isEmpty(signUp.messages)) {\n            signUpMessages = signUp.messages;\n        }\n        if (options.signUp === true) {\n            this.signUpForm = new SignupForm(selector, {\n                className: 'wk-form-signup',\n                cancelBtn: options.triggerButton !== false,\n                termsOfService: options.termsOfService,\n                ...(signUp || {}),\n                messages: {\n                    ...(messages || {}),\n                    ...signUpMessages\n                },\n                onSubmit: (data) => {\n                    if (options.onSignUp) {\n                        options.onSignUp(data);\n                    }\n                },\n                onCancel: () => {\n                    if (options.onCancel) {\n                        options.onCancel();\n                        this.signUpForm.resetForm();\n                    }\n                }\n            });\n            this.signUpForm.formWrapper.addEventListener('click', (event) => {\n                if (event.target.id === 'auth-signin-link') {\n                    event.preventDefault();\n\n                    this.showForm(SIGN_IN_FORM_SLUG);\n                }\n            });\n            this.signUpForm.hide();\n        }\n\n        /** EmailLinkForm */\n        let emailLinkMessages = {};\n        if (!isEmpty(emailLink) && !isEmpty(emailLink.messages)) {\n            emailLinkMessages = emailLink.messages;\n        }\n        this.emailLinkForm = new EmailLinkForm(selector, {\n            className: 'wk-form-email-link',\n            cancelBtn: options.triggerButton !== false,\n            signUp: options.signUp ?? true,\n            ...(emailLink || {}),\n            messages: {\n                ...(messages || {}),\n                ...emailLinkMessages\n            },\n            onSubmit: (data) => {\n                if (options.onGetEmailLink) {\n                    options.onGetEmailLink(data);\n                }\n            },\n            onCancel: () => {\n                if (options.onCancel) {\n                    options.onCancel();\n                    this.emailLinkForm.resetForm();\n                }\n            }\n        });\n        this.emailLinkForm.formWrapper.addEventListener('click', (event) => {\n            if (event.target.id === 'auth-signup-link') {\n                event.preventDefault();\n\n                this.showForm(SIGN_UP_FORM_SLUG);\n            } else if (event.target.id === 'auth-password-link') {\n                event.preventDefault();\n\n                this.showForm(FORGOT_PASSWORD_FORM_SLUG);\n            }\n        });\n        this.emailLinkForm.formWrapper.addEventListener('click', (event) => {\n            if (event.target.id === 'back-to-login') {\n                event.preventDefault();\n                if (options.onCancel) {\n                    options.onCancel();\n                    this.loginForm.resetForm();\n                }\n            }\n        });\n        this.emailLinkForm.hide();\n\n        /** ForgotPasswordForm */\n        let forgotPasswordMessages = {};\n        if (!isEmpty(forgotPassword) && !isEmpty(forgotPassword.messages)) {\n            forgotPasswordMessages = forgotPassword.messages;\n        }\n        this.forgotPasswordForm = new ForgotPasswordForm(selector, {\n            className: 'wk-form-forgot-password',\n            ...(forgotPassword || {}),\n            messages: {\n                ...(messages || {}),\n                ...forgotPasswordMessages\n            },\n            onSubmit: (data) => {\n                if (options.onPasswordForgot) {\n                    options.onPasswordForgot(data);\n                }\n            }\n        });\n\n        this.forgotPasswordForm.formWrapper.addEventListener('click', (event) => {\n            if (event.target.id === 'back-to-login') {\n                event.preventDefault();\n\n                this.showForm(SIGN_IN_FORM_SLUG);\n                this.forgotPasswordForm.reRender();\n            }\n        });\n        this.forgotPasswordForm.hide();\n\n        /** ResetPasswordForm */\n        let resetPasswordMessages = {};\n        if (!isEmpty(resetPassword) && !isEmpty(resetPassword.messages)) {\n            resetPasswordMessages = resetPassword.messages;\n        }\n        this.resetPasswordForm = new ResetPasswordForm(selector, {\n            className: 'wk-form-reset-password',\n            ...(resetPassword || {}),\n            messages: {\n                ...(messages || {}),\n                ...resetPasswordMessages\n            },\n            onSubmit: (data) => {\n                if (options.onPasswordReset) {\n                    options.onPasswordReset(data);\n                }\n            }\n        });\n\n        this.resetPasswordForm.formWrapper.addEventListener('click', (event) => {\n            if (event.target.id === 'back-to-login') {\n                event.preventDefault();\n\n                this.showForm(SIGN_IN_FORM_SLUG);\n                this.resetPasswordForm.reRender();\n            }\n        });\n        this.resetPasswordForm.hide();\n\n        /** TriggerButton */\n        if (options.triggerButton !== false) {\n            this.triggerButton = new TriggerButton(selector, {\n                authProviders: options.authProviders,\n                defaultFormSlug: this.defaultFormSlug,\n                emailOnClick: () => {\n                    let authFormSlug = options.defaultForm || SIGN_IN_FORM_SLUG;\n                    if (options.getShowAuthFormSlug) {\n                        const showAuthFormSlug = options.getShowAuthFormSlug();\n                        authFormSlug = showAuthFormSlug || authFormSlug;\n                    }\n                    this.defaultForm = authFormSlug;\n                    this.defaultForm.show();\n                    this.triggerButton.hide();\n                    if (options.onAuthFormShow) {\n                        options.onAuthFormShow();\n                    }\n                },\n                emaillinkOnClick: () => {\n                    this.defaultForm = EMAIL_LINK_FORM_SLUG;\n                    this.defaultForm.show();\n                    this.triggerButton.hide();\n                    if (options.onAuthFormShow) {\n                        options.onAuthFormShow();\n                    }\n                }\n            });\n        }\n\n        this.forms = {\n            [FORGOT_PASSWORD_FORM_SLUG]: this.forgotPasswordForm,\n            [RESET_PASSWORD_FORM_SLUG]: this.resetPasswordForm,\n            [SIGN_IN_FORM_SLUG]: this.loginForm,\n            [SIGN_UP_FORM_SLUG]: this.signUpForm,\n            [EMAIL_LINK_FORM_SLUG]: this.emailLinkForm\n        };\n    }\n\n    get defaultForm () {\n        return this.forms[this.defaultFormSlug];\n    }\n\n    set defaultForm (formSlug) {\n        const oldSlug = this.defaultFormSlug;\n        if (formSlug && [SIGN_UP_FORM_SLUG, SIGN_IN_FORM_SLUG, FORGOT_PASSWORD_FORM_SLUG, RESET_PASSWORD_FORM_SLUG, EMAIL_LINK_FORM_SLUG].includes(formSlug)) {\n            this.defaultFormSlug = formSlug;\n        } else {\n            this.defaultFormSlug = this.#options.defaultForm || SIGN_UP_FORM_SLUG;\n        }\n        if (this.#options.triggerButton !== false && this.triggerButton) {\n            this.triggerButton.events.notify(DEFAULT_AUTH_FORM_SLUG_UPDATED, {\n                \"new\": this.defaultFormSlug,\n                \"old\": oldSlug\n            });\n        }\n    }\n\n    get activeForm () {\n        let form = false;\n        if (!!this.forms && Object.keys(this.forms).length){\n            Object.keys(this.forms).forEach(key => {\n                if (this.forms[key].isVisible) {\n                    form = this.forms[key];\n                }\n            });\n        }\n        return form;\n    }\n\n    showForm (authFormSlug) {\n        if (authFormSlug && this.forms[authFormSlug]) {\n            this.hide();\n            this.forms[authFormSlug].show();\n        }\n    }\n\n    showDefaultForm () {\n        this.showForm(this.defaultFormSlug)\n    }\n\n    reset () {\n        this.hide();\n\n        if (this.triggerButton) {\n            this.triggerButton.show();\n        } else {\n            this.showDefaultForm();\n        }\n    }\n\n    hide () {\n        if (!!this.forms) {\n            for (let formKey in this.forms) {\n                const form = this.forms[formKey];\n\n                if (form) {\n                    form.hide();\n                    form.resetForm();\n                }\n            }\n        }\n    }\n\n    handleError(errorMessage, errorCode) {\n        if (this.activeForm) {\n            if (errorMessage === null) {\n                this.activeForm.resetFormError(errorMessage);\n            } else {\n                this.activeForm.setFormError(errorMessage, errorCode);\n            }\n        }\n    }\n\n    showSuccessEmailLink () {\n        const email = this.emailLinkForm.emailField.getValue();\n        const { successEmailLink } = this.#options.customizeAuthForms || {};\n        const { descriptionPrefix, descriptionPostfix, backLinkTitle } = successEmailLink || {};\n        this.emailLinkForm.showFormResult(`\n            <div class=\"wk-success-message wk-email-link-success wk-email-link-message\">\n                <p class=\"wk-success-message__description\">${descriptionPrefix || 'Please follow the instructions sent to '}<b>${email}</b>${descriptionPostfix || ' to sign in.'}</p>\n                <button id=\"back-to-login\" class=\"wk-form-button wk-form-button--cancel\">${backLinkTitle || 'Back to login'}</button>\n            </div>\n        `);\n    }\n\n    showSuccessPasswordForgot () {\n        const email = this.forgotPasswordForm.emailField.getValue();\n        const { successPasswordForgot } = this.#options.customizeAuthForms || {};\n        const { descriptionPrefix, descriptionPostfix, backLinkTitle } = successPasswordForgot || {};\n        this.forgotPasswordForm.showFormResult(`\n            <div class=\"wk-success-message wk-password-reset-success wk-password-forgot-message\">\n                <p class=\"wk-success-message__description\">${descriptionPrefix || 'Please follow the instructions sent to '}<b>${email}</b>${descriptionPostfix || ' to set a new password.'}</p>\n                <button id=\"back-to-login\" class=\"wk-form-button wk-form-button--cancel\">${backLinkTitle || 'Back to login'}</button>\n            </div>\n        `);\n    }\n\n    showSuccessPasswordReset () {\n        const { authOnPasswordReset } = this.#options || {};\n        const { successPasswordReset } = this.#options.customizeAuthForms || {};\n        const { description, backLinkTitle } = successPasswordReset || {};\n        this.resetPasswordForm.showFormResult(`\n            <div class=\"wk-success-message wk-password-reset-success wk-password-reset-message\">\n                <h2 class=\"wk-success-message__title\">${description || 'Your password had been saved successfully!'}</h2>\n                ${ authOnPasswordReset ? '' : '<button id=\"back-to-login\" class=\"wk-form-button wk-form-button--cancel\">' + ( backLinkTitle || 'Back to login' ) + '</button>' }\n            </div>\n        `);\n    }\n\n    render () {\n        if (this.loginForm) {\n            this.loginForm.render();\n        }\n\n        if (this.signUpForm) {\n            this.signUpForm.render();\n        }\n\n        if (this.emailLinkForm) {\n            this.emailLinkForm.render();\n        }\n\n        if (this.forgotPasswordForm) {\n            this.forgotPasswordForm.render();\n        }\n\n        if (this.resetPasswordForm) {\n            this.resetPasswordForm.render();\n        }\n\n        if (this.triggerButton) {\n            this.triggerButton.render()\n        } else {\n            this.showDefaultForm();\n        }\n    }\n}\n","import { createElement } from \"../../../utils/DOM\";\nimport { Form } from \"../index\";\n\nimport { PasswordField } from \"../field/PasswordField.js\";\n\nexport class ChangePasswordForm extends Form {\n    #options;\n\n    constructor(targetElementSelector, options) {\n        super(targetElementSelector, options);\n\n        this.onCancel = options.onCancel || false;\n        this.#options = options;\n        this.#options.title = options.title || 'Change Password';\n        this.#options.footer = this.getFormFooter() || options.footer;\n\n        const { emptyPassword, newNotMatchOld, confirmationMatchNew } = options.messages || {};\n\n        this.oldPasswordField = new PasswordField({\n            dataSlug: 'old_password',\n            name: 'wk-old-password',\n            ignoreValidation: true,\n            testStrength: false,\n            passwordHint: false,\n            label: 'Old Password',\n            type: 'password',\n            messages: options.messages || {},\n            onEnter: () => {\n                this.submitForm();\n            },\n            onValidate: (field) => {\n                const value = field.getValue();\n                if (!value) {\n                    field.setError(`<div>\n                            <span>${ emptyPassword || 'Password cannot be empty.' }</span>\n                        </div>`);\n                    return false;\n                }\n                return true;\n            }\n        });\n        this.newPasswordField = new PasswordField({\n            dataSlug: 'new_password',\n            name: 'wk-new-password',\n            ignoreValidation: false,\n            testStrength: true,\n            passwordHint: true,\n            label: 'New Password',\n            type: 'password',\n            messages: options.messages || {},\n            relatedData: {\n                oldPassword: this.oldPasswordField\n            },\n            onEnter: () => {\n              this.submitForm();\n            },\n            onValidate: (field) => {\n                const oldPasswordValue = field.relatedData.oldPassword.getValue();\n                const value = field.getValue();\n                if (oldPasswordValue === value) {\n                    field.setError(`<div>\n                            <span>${ newNotMatchOld || 'The new password must not match the old one.' }</span>\n                        </div>`);\n                    return false;\n                }\n                return true;\n            }\n        });\n        this.newPasswordConfirmField = new PasswordField({\n            dataSlug: 'new_password_confirm',\n            name: 'wk-new-password-confirm',\n            ignoreValidation: false,\n            testStrength: true,\n            passwordHint: false,\n            label: 'New Password Confirmation',\n            type: 'password',\n            messages: options.messages || {},\n            relatedData: {\n                newPassword: this.newPasswordField\n            },\n            onEnter: () => {\n                this.submitForm();\n            },\n            onValidate: (field) => {\n                const newPasswordValue = field.relatedData.newPassword.getValue();\n                const value = field.getValue();\n                if (newPasswordValue !== value) {\n                    field.setError(`<div>\n                            <span>${ confirmationMatchNew || 'The password confirmation must be the same as the new password.' }</span>\n                        </div>`);\n                    return false;\n                }\n                return true;\n            }\n        });\n\n        this.fields = [\n            this.oldPasswordField,\n            this.newPasswordField,\n            this.newPasswordConfirmField,\n        ];\n\n        this.init();\n\n    }\n\n    cancelForm() {\n        if (typeof this.onCancel === \"function\") {\n            this.onCancel();\n        }\n    }\n\n    getFormFooter () {\n        const formFooter = createElement('div', {\n            className: 'wk-form__footer'\n        });\n        const { cancelBtnTitle } = this.#options || {};\n        formFooter.appendChild(createElement('a', {\n            className: 'wk-form__link account-settings-link',\n            innerText: cancelBtnTitle || 'Cancel',\n            attributes: {\n                href: '#'\n            }\n        }));\n        formFooter.appendChild(this.submitBtn);\n\n        return formFooter;\n    }\n}\n","import { createElement } from \"../../../utils/DOM\";\nimport { Form } from \"../index\";\n\nimport { FormField } from \"../field\";\n\nexport class EmailLinkForm extends Form {\n    constructor(targetElementSelector, options) {\n        super(targetElementSelector, options);\n\n        this.options = options;\n        this.options.title = options.title || 'Sign in with email';\n        this.options.footer = this.getFormFooter() || options.footer;\n\n        this.emailField = new FormField({\n            name: 'wk-fb-email',\n            dataSlug: 'email',\n            label: 'Email',\n            type: 'email',\n            messages: options.messages || {},\n            onEnter: () => {\n              this.submitForm();\n            }\n        });\n\n        this.fields = [\n            this.emailField\n        ];\n\n        this.init();\n\n        if (options.onCancel) {\n            this.cancelBtn.addEventListener('click', options.onCancel.bind(this));\n        }\n    }\n\n    getFormFooter() {\n        const footerWrapper = createElement('div');\n\n        const subFooter = createElement('div', {\n            className: 'wk-form__sub-footer',\n        });\n\n        const signUpWrapper = createElement( 'div', {\n            className: 'wk-form__footer-sign-up',\n            innerText: this.options.signUpPreLinkTitle || '',\n        });\n\n        if (this.options.signUp === true) {\n            signUpWrapper.appendChild(createElement('a', {\n                id: 'auth-signup-link',\n                className: 'wk-form__link',\n                innerText: this.options.signUpLinkTitle || 'Sign Up',\n                attributes: {\n                    href: '#'\n                }\n            }));\n        }\n        subFooter.appendChild(signUpWrapper);\n\n        const formFooter = createElement('div', {\n            className: 'wk-form__footer wk-form__footer--right'\n        });\n\n        footerWrapper.appendChild(subFooter);\n\n        if (this.options.cancelBtn !== false) {\n            formFooter.appendChild(this.cancelBtn);\n        }\n        formFooter.appendChild(this.submitBtn);\n\n        footerWrapper.appendChild(formFooter);\n\n        return footerWrapper;\n    }\n\n}\n","import { createElement } from \"../../../utils/DOM\";\nimport { Form } from \"../index\";\n\nimport { FormField } from \"../field\";\n\nexport class ForgotPasswordForm extends Form {\n    constructor(targetElementSelector, options) {\n        super(targetElementSelector, options);\n\n        this.options = options;\n        this.options.title = options.title || 'Reset Password';\n        this.options.footer = this.getFormFooter() || options.footer;\n\n        this.emailField = new FormField({\n            name: 'wk-fb-email',\n            dataSlug: 'email',\n            label: 'Email',\n            type: 'email',\n            messages: options.messages || {},\n            onEnter: () => {\n              this.submitForm();\n            }\n        });\n\n        this.fields = [\n            this.emailField\n        ];\n\n        this.init();\n    }\n\n    getFormFooter () {\n        const formFooter = createElement('div', {\n            className: 'wk-form__footer'\n        });\n        formFooter.appendChild(this.cancelBtn);\n        this.cancelBtn.id = 'back-to-login';\n\n        formFooter.appendChild(this.submitBtn);\n\n        return formFooter;\n    }\n\n}\n","import { createElement } from \"../../../utils/DOM\";\nimport { Form } from \"../index\";\n\nimport { FormField } from \"../field\";\nimport { PasswordField } from \"../field/PasswordField.js\";\n\nexport class LoginForm extends Form {\n    constructor(targetElementSelector, options) {\n        super(targetElementSelector, options);\n\n        this.options = options;\n        this.options.title = options.title || 'Sign in with email';\n        this.options.footer = this.getFormFooter() || options.footer;\n\n        this.emailField = new FormField({\n            dataSlug: 'email',\n            name: 'wk-fb-email',\n            label: 'Email',\n            type: 'email',\n            messages: options.messages || {},\n            onEnter: () => {\n              this.passwordField.focus();\n            }\n        });\n\n        this.passwordField = new PasswordField({\n            dataSlug: 'password',\n            name: 'wk-fb-password',\n            ignoreValidation: options.passwordSignInIgnoreValidation || false,\n            testStrength: false,\n            label: 'Password',\n            type: 'password',\n            messages: options.messages || {},\n            onEnter: () => {\n              this.submitForm();\n            }\n        });\n\n        this.fields = [\n            this.emailField,\n            this.passwordField\n        ];\n\n        this.init();\n\n        if (options.onCancel) {\n            this.cancelBtn.addEventListener('click', options.onCancel.bind(this));\n        }\n    }\n\n    getFormFooter() {\n        const footerWrapper = createElement('div');\n\n        const subFooter = createElement('div', {\n            className: 'wk-form__sub-footer',\n        });\n\n        const signUpWrapper = createElement( 'div', {\n            className: 'wk-form__footer-sign-up',\n            innerText: this.options.signUpPreLinkTitle || '',\n        });\n\n        if (this.options.signUp === true) {\n            signUpWrapper.appendChild(createElement('a', {\n                id: 'auth-signup-link',\n                className: 'wk-form__link',\n                innerText: this.options.signUpLinkTitle || 'Sign Up',\n                attributes: {\n                    href: '#'\n                }\n            }));\n        }\n        subFooter.appendChild(signUpWrapper);\n\n        subFooter.appendChild(createElement('a', {\n            className: 'wk-form__link wk-form__reset-password',\n            innerText: 'Forgot password',\n            id: 'auth-password-link',\n            attributes: {\n                href: '#'\n            }\n        }));\n\n        const formFooter = createElement('div', {\n            className: 'wk-form__footer wk-form__footer--right'\n        });\n\n        footerWrapper.appendChild(subFooter);\n\n        if (this.options.cancelBtn !== false) {\n          formFooter.appendChild(this.cancelBtn);\n        }\n        formFooter.appendChild(this.submitBtn);\n\n        footerWrapper.appendChild(formFooter);\n\n        return footerWrapper;\n    }\n}\n","import { createElement } from \"../../../utils/DOM\";\nimport { Form } from \"../index\";\n\nimport {PasswordField} from \"../field/PasswordField\";\n\nexport class ResetPasswordForm extends Form {\n    constructor(targetElementSelector, options) {\n        super(targetElementSelector, options);\n\n        this.options = options;\n        this.options.title = options.title || 'Reset Password';\n        this.options.footer = this.getFormFooter() || options.footer;\n\n        this.newPasswordField = new PasswordField({\n            dataSlug: 'new_password',\n            name: 'wk-new-password',\n            ignoreValidation: false,\n            testStrength: true,\n            passwordHint: true,\n            label: 'New Password',\n            type: 'password',\n            messages: options.messages || {},\n            onEnter: () => {\n                this.submitForm();\n            },\n        });\n\n        this.fields = [\n            this.newPasswordField\n        ];\n\n        this.init();\n    }\n\n    getFormFooter () {\n        const formFooter = createElement('div', {\n            className: 'wk-form__footer'\n        });\n        formFooter.appendChild(this.cancelBtn);\n        this.cancelBtn.id = 'back-to-login';\n\n        formFooter.appendChild(this.submitBtn);\n\n        return formFooter;\n    }\n\n}\n","import { createElement } from \"../../../utils/DOM\";\nimport { Form } from \"../index\";\n\nimport { FormField } from \"../field\";\nimport { PasswordField } from \"../field/PasswordField.js\";\nimport { CheckBoxField } from \"../field/CheckBoxField.js\";\n\nexport class SignupForm extends Form {\n    constructor(targetElementSelector, options) {\n        super(targetElementSelector, options);\n\n        this.options = options;\n        this.options.title = options.title || 'Sign Up';\n        this.options.footer = this.getFormFooter() || options.footer;\n        this.options.termsOfService.termsOfService = this.#defaultTermsOfServiceOption(this.options.termsOfService.termsOfService);\n\n        this.emailField = new FormField({\n            dataSlug: 'email',\n            name: 'wk-fb-email',\n            label: 'Email',\n            type: 'email',\n            messages: options.messages || {},\n            onEnter: () => {\n              this.nameField.focus();\n            }\n        });\n        this.nameField = new FormField({\n            dataSlug: 'name',\n            name: 'wk-fb-name',\n            label: 'Name',\n            type: 'text',\n            messages: options.messages || {},\n            onEnter: () => {\n              this.passwordField.focus();\n            }\n        });\n        this.passwordField = new PasswordField({\n            dataSlug: 'password',\n            name: 'wk-fb-password',\n            ignoreValidation: false,\n            testStrength: true,\n            passwordHint: true,\n            label: 'Password',\n            type: 'password',\n            messages: options.messages || {},\n            onEnter: () => {\n              this.submitForm();\n            }\n        });\n        const {tosRequired, required} = options.messages || {};\n        if (this.#isTosEnabled(options)) {\n          this.tosField = new CheckBoxField({\n            dataSlug: 'agreement',\n            name: 'wk-fb-agreement',\n            required: true,\n            label: this.getTosAcceptLabel(options.termsOfService),\n            type: 'checkbox',\n            messages: {\n                ...(options.messages || {}),\n                ...{required: tosRequired || required || false}\n                },\n          });\n        }\n\n        this.fields = [\n            this.emailField,\n            this.nameField,\n            this.passwordField,\n        ];\n\n        if (this.tosField) {\n          this.fields.push(this.tosField);\n        }\n\n        this.init();\n\n        if (options.onCancel) {\n            this.cancelBtn.addEventListener('click', options.onCancel.bind(this));\n        }\n    }\n\n    #defaultTermsOfServiceOption(termsOfService) {\n        if (typeof termsOfService === \"undefined\" ||\n            ( typeof termsOfService !== \"string\" && typeof termsOfService !== \"boolean\" ) ) {\n            termsOfService = true\n        }\n        return termsOfService;\n    }\n\n    getFormFooter () {\n        const formFooter = createElement('div', {\n            className: 'wk-form__footer'\n        });\n        const signInWrapper = createElement( 'div', {\n            className: 'wk-form__footer-sign-in',\n            innerText: this.options.signInPreLinkTitle || 'Already have an account? ',\n        });\n        signInWrapper.appendChild(createElement('a', {\n            className: 'wk-form__link',\n            innerText: this.options.signInLinkTitle || 'Sign-in',\n            id: 'auth-signin-link',\n            attributes: {\n                href: '#'\n            }\n        }));\n        formFooter.appendChild(signInWrapper);\n\n        if (this.options.cancelBtn !== false) {\n            formFooter.appendChild(this.cancelBtn);\n        }\n\n        formFooter.appendChild(this.submitBtn);\n\n        return formFooter;\n    }\n\n    #isTosEnabled (options) {\n      if (!options.termsOfService.termsOfService) {\n        return false;\n      }\n\n      return (!!options.termsOfService.termsOfService && typeof options.termsOfService.termsOfService === \"string\") ||\n        !!options.termsOfService.tosURL ||\n        !!options.termsOfService.privacyPolicyURL;\n    }\n\n    getTosAcceptLabel (termsOptions) {\n      if (!termsOptions || !termsOptions.termsOfService) {\n        return '';\n      }\n\n      if (typeof termsOptions.termsOfService === \"string\") {\n        return termsOptions.termsOfService;\n      }\n\n      let defaultLabel = `By signing up I agree with the`;\n\n      if (termsOptions.tosURL) {\n        defaultLabel += ` <a href=\"${termsOptions.tosURL}\" target=\"_blank\">Terms & Conditions</a>`\n      }\n\n      if (termsOptions.tosURL && termsOptions.privacyPolicyURL) {\n        defaultLabel += ` and `\n      }\n\n      if (termsOptions.privacyPolicyURL) {\n        defaultLabel += ` <a href=\"${termsOptions.privacyPolicyURL}\" target=\"_blank\">Privacy Policy</a>`\n      }\n\n      return defaultLabel;\n    }\n}\n","import { createElement } from \"../../utils/DOM\";\nimport isEmpty from \"lodash.isempty\";\nimport get from 'lodash.get';\n\nexport class Form {\n    constructor(targetElementSelector, options) {\n        this.targetElementSelector = targetElementSelector;\n\n        this.formWrapper = createElement('div', {\n            className: `wk-form${!isEmpty(options.className) ? ' '+options.className : ''}`\n        });\n\n        this.submitBtn = createElement('button', {\n            className: 'wk-form-button',\n            innerText: options.submitBtnTitle || 'Submit'\n        });\n\n        this.cancelBtn = createElement('button', {\n            className: 'wk-form-button wk-form-button--cancel',\n            innerText: options.cancelBtnTitle || 'Cancel'\n        });\n\n        this.loading = false;\n\n        this.options = options;\n        this.fields = [];\n    }\n\n    render (selector) {\n        try {\n            const placeholderElement = document.querySelector(selector || this.targetElementSelector);\n            if (placeholderElement) {\n                placeholderElement.appendChild(this.getFormElement());\n            }\n        } catch (e) {\n            console.log('FORM RENDER ERROR:', e);\n        }\n    }\n\n    getFormElement () {\n        return this.formWrapper;\n    }\n\n    setFormError (error, errorCode) {\n        let errorMessage = false;\n        if (!isEmpty(this.options.messages)) {\n            errorMessage = get(this.options.messages, errorCode, false);\n        }\n        this.formErrorPlaceholder.innerText = errorMessage || error;\n        this.formErrorPlaceholder.classList.add('wk-form__error--show');\n        if (!isEmpty(errorCode)) {\n            this.formErrorPlaceholder.dataset.errorCode = errorCode;\n        }\n    }\n\n    resetFormError () {\n        this.formErrorPlaceholder.innerText = '';\n        this.formErrorPlaceholder.classList.remove('wk-form__error--show');\n    }\n\n    resetFields () {\n        this.fields.forEach((field) => field.resetField());\n    }\n\n    resetForm () {\n        this.resetFields();\n        this.resetFormError();\n    }\n\n    showFormResult (markup) {\n        if (markup) {\n            this.formWrapper.innerHTML = '';\n            this.formWrapper.appendChild(createElement('div', {\n                className: 'wk-form-result',\n                innerHTML: markup || ''\n            }));\n        }\n    }\n\n    insertFields () {\n        this.formWrapperFields = createElement('div', {\n            className: 'wk-form-fields'\n        });\n\n        this.fields.forEach((field) => {\n            this.formWrapperFields.appendChild(field.getElement());\n        });\n\n        this.formWrapper.appendChild(this.formWrapperFields);\n\n        return this;\n    }\n\n    insertHeader () {\n        this.formWrapperHeader = createElement('div', {\n            className: 'wk-form-header'\n        });\n\n        if (this.options.title) {\n            this.formWrapperHeader.appendChild(createElement('h2', {\n                className: 'wk-form-header__title',\n                innerText: this.options.title\n            }));\n        }\n\n        if (this.options.description) {\n            this.formWrapperHeader.appendChild(createElement('h2', {\n                className: 'wk-form-header__description',\n                innerText: this.options.description\n            }));\n        }\n\n        this.formErrorPlaceholder = createElement('div', {\n            className: 'wk-form__error'\n        });\n\n        this.formWrapperHeader.appendChild(this.formErrorPlaceholder);\n        this.formWrapper.appendChild(this.formWrapperHeader);\n\n        return this;\n    }\n\n    insertFooter () {\n        const formWrapperFooter = createElement('div', {\n            className: 'wk-form-footer'\n        });\n\n        if (!this.options.footer) {\n            formWrapperFooter.appendChild(this.submitBtn);\n        } else {\n            formWrapperFooter.appendChild(this.options.footer);\n        }\n\n        this.formWrapper.appendChild(formWrapperFooter);\n\n        return this;\n    }\n\n    validateForm () {\n        let isValid = null;\n\n        this.fields.forEach((field) => {\n            const isFieldValid = field.validate();\n\n            if (isValid !== false) {\n                isValid = isFieldValid;\n            }\n        });\n\n        return isValid;\n    }\n\n    show () {\n        this.formWrapper.style.display = 'block';\n\n        return this;\n    }\n\n    hide () {\n        this.formWrapper.style.display = 'none';\n\n        return this;\n    }\n\n    get isVisible () {\n        if (window.getComputedStyle(this.formWrapper)){\n            return window.getComputedStyle(this.formWrapper).getPropertyValue('display') === 'block';\n        }\n        return false;\n    }\n\n    submitForm () {\n        if (this.validateForm()) {\n            if (this.options.onSubmit) {\n                const data = {};\n\n                this.fields.forEach((field) => {\n                    data[field.slug] = field.getValue();\n                });\n\n                this.resetFormError();\n\n                this.options.onSubmit(data);\n            }\n        }\n    }\n\n    reRender () {\n        this.formWrapper.innerHTML = '';\n        this.insertFormElements();\n    }\n\n    insertFormElements () {\n        this.insertHeader();\n        this.insertFields();\n        this.insertFooter();\n    }\n\n    init () {\n        this.insertFormElements();\n\n        this.submitBtn.addEventListener('click', this.submitForm.bind(this));\n\n        return this;\n    }\n}","import { createElement } from \"../../utils/DOM\";\nimport { WALLKIT_MODAL_MIN_WIDTH, WALLKIT_MODAL_MIN_HEIGHT, WALLKIT_POPUP_URL, WALLKIT_POPUP_DEV_URL, WALLKIT_FRAME_ID } from \"../../configs/constants\";\nimport { FRAME_CREATED, WALLKIT_CHANGE_FRAME, WALLKIT_FRAME_READY, WALLKIT_FRAME_ROUTE_CHANGE } from \"../events/events-name\";\nimport Events from \"../events\";\n\nconst ADDITIONAL_FRAME_CLASSNAMES = 'intrinsic-ignore';\n\nexport default class Frame {\n    constructor(options) {\n        if (!!Frame.instance) {\n            return Frame.instance;\n        }\n\n        Frame.instance = this;\n\n        this.currentFrameName = '';\n        this.options = options;\n        this.frameElement = null;\n        this.ready = false;\n\n        this.events = new Events();\n    }\n\n    get element() {\n        return this.frameElement;\n    }\n\n    get getFrameURL() {\n        const host = this.options.mode === 'dev' ? WALLKIT_POPUP_DEV_URL : WALLKIT_POPUP_URL;\n        const lang = this.options.lang ?? 'en';\n        return `${ host }?PUBLIC_KEY=${ this.options.public_key }&version=${ this.options.version }&lang=${lang}`;\n    }\n\n    createFrame() {\n        this.frameElement = createElement('iframe', {\n            id: WALLKIT_FRAME_ID,\n            className: `${WALLKIT_FRAME_ID} ${ADDITIONAL_FRAME_CLASSNAMES}`,\n            attributes: {\n                scrolling: 'no',\n                allowtransparency: 'true',\n                frameborder: '0',\n                width: WALLKIT_MODAL_MIN_WIDTH,\n                height: WALLKIT_MODAL_MIN_HEIGHT\n            }\n        });\n        this.frameElement.setAttribute(\"src\", this.getFrameURL);\n\n        this.events.notify(FRAME_CREATED, true);\n\n        return this.frameElement;\n    }\n\n    resize(width, height) {\n        width = width >= WALLKIT_MODAL_MIN_WIDTH ? width : WALLKIT_MODAL_MIN_WIDTH;\n        height = height >= WALLKIT_MODAL_MIN_HEIGHT ? height : WALLKIT_MODAL_MIN_HEIGHT;\n\n        if (this.frameElement) {\n            this.frameElement.width = width;\n            this.frameElement.height = height;\n        }\n    }\n\n    sendEvent(name, value, params) {\n        const event = () => {\n            if (this.frameElement && this.frameElement.contentWindow) {\n                const frameWindow = this.frameElement.contentWindow;\n\n                this.events.notify(name, value);\n\n                frameWindow.postMessage({\n                    name: name,\n                    value: value,\n                    params: params\n                }, '*');\n            }\n        }\n\n        if (this.ready) {\n            event();\n        } else {\n            this.events.subscribe(WALLKIT_FRAME_READY, event.bind(this));\n        }\n    }\n\n    openFrame(name, params) {\n        this.currentFrameName = name;\n        if (this.ready) {\n            this.sendEvent(WALLKIT_CHANGE_FRAME, name, params);\n        } else {\n            this.events.subscribe(WALLKIT_FRAME_READY, () => {\n                this.sendEvent(WALLKIT_CHANGE_FRAME, name, params);\n            }, { once: true});\n        }\n    }\n\n    #listeners() {\n        this.events.subscribe(WALLKIT_FRAME_ROUTE_CHANGE, (value) => {\n           this.currentFrameName = value;\n        });\n\n        this.events.subscribe(WALLKIT_FRAME_READY, (value) => {\n            if (value === true) {\n                this.onFrameReady();\n            }\n        });\n    }\n\n    onFrameReady() {\n        this.ready = true;\n        if (this.options?.onReady) {\n            this.options?.onReady();\n        }\n    }\n\n    init() {\n        this.#listeners();\n\n        return this.createFrame();\n    }\n\n}\n","import { FB_AVAILABLE_LANGUAGES } from \"../../configs/languages\";\nimport {WALLKIT_EVENT_CHANGE_LANGUAGE} from \"../events/events-name\";\nimport Events from \"../events\";\n\nexport class Localization {\n    #events;\n    constructor() {\n        this.#events = new Events();\n    }\n\n    static assembleLanguage (language = 'en') {\n        if (typeof language === \"string\") {\n            if (FB_AVAILABLE_LANGUAGES.includes(language.toLowerCase())) {\n                return language;\n            }\n        }\n\n        return 'en';\n    }\n    static changeLanguage (language = 'en') {\n        if (typeof language === \"string\") {\n            this.#events.notify(WALLKIT_EVENT_CHANGE_LANGUAGE, language);\n        }\n    }\n}\n","import {\n  WALLKIT_MODAL_WRAPPER_CLASSNAME,\n  WALLKIT_MODAL_CLOSE_BTN_CLASSNAME,\n  WALLKIT_MODAL_CONTENT_CLASSNAME,\n  WALLKIT_MODAL_MIN_WIDTH,\n  WALLKIT_MODAL_MIN_HEIGHT, WALLKIT_MODAL_MAX_WIDTH\n} from \"../../configs/constants\";\nimport DOM from '../../utils/DOM';\nimport { loadWallkitAsset } from \"../../utils/loaders\";\nimport { parseModalHashURL, parseUrlToShowAuthModal } from \"../../utils/url\";\nimport Events from \"../events\";\nimport { MODAL_CLOSED } from \"../events/events-name\";\n\nexport default class Modal {\n    constructor(options) {\n        this.options = options;\n        this.modalFrame = options ? options.resourceFrame : null;\n        this.content = options ? options.content : null;\n        this.modalWrapper = null;\n        this.modalContent = null;\n        this.loaderElement = null;\n        this.isLoading = false;\n        this.closeOutside = true;\n        this.onClose = options ? options.onClose : null;\n    }\n\n    #getModalName() {\n        return this.options?.modalName ?? 'wk-modal';\n    }\n\n    #createElement(elementTag, elementName, options) {\n        let elementIdName = this.#getModalName() + '-' + elementName;\n\n        let elementIndex = 0;\n        let elementId = elementIdName;\n        while (DOM.checkIfElementExists('#' + elementId)) {\n            ++elementIndex;\n            elementId = elementIdName + '-' + elementIndex;\n        }\n\n        return DOM.createElement(elementTag, { id: elementId, ...options });\n    }\n\n    #createCloseBtn() {\n        const closeBtn = this.#createElement('div', 'close-btn', {\n            className: WALLKIT_MODAL_CLOSE_BTN_CLASSNAME\n        });\n        closeBtn.innerHTML = '&#xd7;'; // Plus Symbol\n\n        this.bindCloseEvent(closeBtn);\n\n        return closeBtn;\n    }\n\n    bindCloseEvent(element) {\n        return element.addEventListener('click', this.hide.bind(this));\n    }\n\n    #createWrapper() {\n        let modalClassName = WALLKIT_MODAL_WRAPPER_CLASSNAME;\n\n        if (this.options?.className) {\n            modalClassName += ' ' + this.options?.className;\n        }\n\n        this.modalWrapper = this.#createElement('div', 'wrapper', {\n            styles: {\n                display: 'none',\n            },\n            className: modalClassName\n        });\n\n        if (this.options?.ui?.type !== 'inline') {\n            this.modalWrapper.addEventListener('click', (event) => {\n                if (event.target.id === this.modalWrapper.id) {\n                    if (this.closeOutside) {\n                        this.hide();\n                    }\n                }\n            });\n        }\n\n        return this.modalWrapper;\n    }\n\n    #createContent() {\n        this.modalContent = this.#createElement('div', 'content', {\n            className: WALLKIT_MODAL_CONTENT_CLASSNAME\n        });\n\n        this.modalContent.style.minWidth = WALLKIT_MODAL_MIN_WIDTH + 'px';\n        this.modalContent.style.minHeight = WALLKIT_MODAL_MIN_HEIGHT + 'px';\n        this.modalContent.style.maxWidth = WALLKIT_MODAL_MAX_WIDTH + 'px';\n\n        return this.modalContent;\n    }\n\n    insertContent(element) {\n       if (this.modalContent && element) {\n           if (typeof element === \"string\") {\n               this.modalContent.insertAdjacentHTML('beforeend', element);\n           } else if (element instanceof HTMLElement) {\n               this.modalContent.appendChild(element);\n           }\n       }\n    }\n\n    toggleLoader(state) {\n        this.isLoading = state;\n        this.loaderElement.style.display = state ? 'flex' : 'none';\n    }\n\n    #createLoader() {\n        this.loaderElement = this.#createElement('div', 'wallkit-modal-spinner', {\n            className: 'wallkit-spinner',\n            styles: {\n                display: this.options?.initialLoader ? 'flex' : 'none',\n            },\n        });\n\n        this.loaderElement.insertAdjacentHTML('beforeend', '<div class=\"wallkit-spinner__container\">' +\n            '<div class=\"cube1\"></div>' +\n            '<div class=\"cube2\"></div>' +\n            '</div>');\n    }\n\n    #completeModal() {\n        this.#loadAssets();\n        this.modalWrapper.appendChild(this.modalContent);\n        this.modalContent.appendChild(this.loaderElement);\n        if (this.options?.ui?.type !== 'inline') {\n            this.modalContent.appendChild(this.#createCloseBtn());\n        }\n\n        if (this.modalFrame) {\n            this.insertContent(this.modalFrame.init());\n        } else if (this.modalContent) {\n            this.insertContent(this.content);\n        }\n\n        if (this.options?.ui?.type !== 'inline') {\n            return DOM.injectInBody(this.modalWrapper);\n        } else {\n            return DOM.injectInElement(this.options?.ui?.selector, this.modalWrapper);\n        }\n    }\n\n    open(name, params) {\n        if (this.modalFrame) {\n            this.modalFrame.openFrame(name, params);\n            this.show();\n        }\n    }\n\n    destroy() {\n\n    }\n\n    show() {\n        this.modalWrapper.style.display = 'flex';\n    }\n\n    hide() {\n        const events = new Events();\n        events.notify(MODAL_CLOSED, { name: this.#getModalName() });\n\n        if (this.onClose) {\n            this.onClose();\n        }\n\n        this.modalWrapper.style.display = 'none';\n    }\n\n    resize(width, height) {\n        if (this.modalFrame) {\n            this.modalFrame.resize(width, height);\n        }\n    }\n\n    sendEvent(name, value, params) {\n        if (this.modalFrame) {\n            this.modalFrame.sendEvent(name, value, params);\n        }\n    }\n\n    openByHash() {\n        const modal = parseModalHashURL();\n        if (modal) {\n            this.open(modal.name, modal.params);\n        } else if (parseUrlToShowAuthModal()) {\n            this.open('sign-in');\n        }\n    }\n\n    #loadAssets() {\n        loadWallkitAsset('css', '1.0', 'spinner');\n    }\n\n    onReady() {\n        if (this.options?.onReady) {\n            this.options.onReady(this);\n        }\n    }\n\n    setError(error) {\n        this.modalContent.insertAdjacentHTML('afterbegin', `<div class=\"wallkit-modal-error\">${error}</div>`);\n    }\n\n    init() {\n        this.#createWrapper();\n        this.#createContent();\n        this.#createLoader();\n        this.#completeModal();\n        this.onReady();\n    }\n}\n","import {insertScript} from \"../../utils/DOM\";\nimport {WALLKIT_CDN_URL} from \"../../configs/constants\";\nimport {WALLKIT_SDK_LOADED} from '../events/events-name';\nimport Events from \"../events\";\n\nexport default class SDK {\n    #options;\n    #events;\n    #apiUrl;\n\n    constructor(options) {\n        if (!!SDK.instance) {\n            return SDK.instance;\n        }\n\n        if (!options) {\n            return new Error('No Options Provided');\n        }\n\n        SDK.instance = this;\n\n        this.methods = null;\n        this.client = null;\n\n        this.#options = options;\n        this.#events = new Events();\n\n        switch (options.mode) {\n            case 'prod':\n                this.#apiUrl = 'https://api.wallkit.net/api/v1';\n                break;\n\n            case 'dev':\n                this.#apiUrl = 'https://api.dev.wallkit.net/api/v1';\n                break;\n\n            case 'demo':\n                this.#apiUrl = 'https://api.demo.wallkit.net/api/v1';\n                break;\n\n            default:\n                this.#apiUrl = 'https://api.wallkit.net/api/v1';\n        }\n\n        if (window.Wallkit) {\n            this.onLoad();\n        } else {\n            this.load();\n        }\n    }\n\n    onLoad() {\n        if (window.Wallkit) {\n            window.Wallkit.init({\n                resource: this.#options.public_key,\n                api_url: this.#apiUrl,\n                subDomainCookie: this.#options.cookies?.subDomain ?? false\n            });\n            this.methods = window.Wallkit;\n            this.client = window.Wallkit.client;\n            this.#events.notify(WALLKIT_SDK_LOADED, window.Wallkit);\n\n            if (this.#options?.onLoaded) {\n                this.#options?.onLoaded();\n            }\n        }\n    }\n\n    awaitLoad() {\n        return new Promise((resolve) => {\n            if (!this.methods) {\n                this.#events.subscribe(WALLKIT_SDK_LOADED, () => resolve(this));\n            } else {\n                resolve(this);\n            }\n        });\n    }\n\n    load() {\n        insertScript(`${WALLKIT_CDN_URL}/js/sdk/latest/wallkit.umd.min.js`, 'wallkit-js-sdk', this.onLoad.bind(this));\n    }\n}\n","import Modal from \"../modal\";\nimport { ChangePasswordForm } from \"../form/forms/ChangePasswordForm\"\nimport {WALLKIT_USER_MANAGER_MODAL_FORM_PLACEHOLDER_ID} from \"../../configs/constants\";\nimport isEmpty from \"lodash.isempty\";\n\nexport default class UserManager {\n    #options;\n\n    constructor(options) {\n        this.#options = options;\n        this.popup = options.popup;\n        this.authentication = options.authentication;\n        this.#initModal(options);\n    }\n\n    #initModal(options) {\n        this.modal = new Modal({\n            modalName: options.name || 'user-manager-modal',\n            content: options.content || this.getDefaultUserManagerModalContent(),\n            className: options.className || 'wallkit-auth-modal',\n            initialLoader: options.loader || false,\n            ui: options?.ui,\n        });\n        this.modal.init();\n        this.modal.modalWrapper.addEventListener('click', (event) => {\n            if (this.changePasswordForm && event.target.classList.contains('account-settings-link')) {\n                event.preventDefault();\n                this.changePasswordForm.cancelForm();\n            }\n        });\n    }\n\n    #initChangePasswordForm () {\n        if (!this.changePasswordForm) {\n            const { messages, changePassword } = this.#options.customizeForms || {};\n            let changePasswordMessages = {};\n            if (!isEmpty(changePassword) && !isEmpty(changePassword.messages)) {\n                changePasswordMessages = changePassword.messages;\n            }\n            this.changePasswordForm = new ChangePasswordForm(\n                `#${WALLKIT_USER_MANAGER_MODAL_FORM_PLACEHOLDER_ID}`, {\n                    ...(changePassword || {}),\n                    messages: {\n                        ...(messages || {}),\n                        ...changePasswordMessages\n                    },\n                    onCancel: () => {\n                        this.cancelModalForm({\n                            openPopupName: 'account-settings'\n                        });\n                    },\n                    onSubmit: (data) => {\n                        this.#onSubmitChangePasswordForm(data);\n                    }\n                });\n            this.changePasswordForm.render();\n        } else {\n            this.changePasswordForm.resetForm();\n            this.changePasswordForm.reRender();\n        }\n    }\n\n    async #onSubmitChangePasswordForm({old_password, new_password}) {\n        try {\n            if (this.modal) {\n                this.modal.toggleLoader(true);\n            }\n            await this.authentication.firebase.reauthenticateWithCredential(old_password);\n            await this.authentication.firebase.updatePassword(new_password);\n            this.#successChangePasswordForm();\n        } catch (error) {\n            this.#setErrorMessageChangePasswordForm(error);\n        }\n    }\n\n    #setErrorMessageChangePasswordForm (error) {\n        if (this.changePasswordForm) {\n            if (!isEmpty(error.message)) {\n                this.changePasswordForm.setFormError(error.message, error.code || false);\n            }\n            if (this.modal) {\n                this.modal.toggleLoader(false);\n            }\n        }\n    }\n\n    #successChangePasswordForm () {\n        if (this.changePasswordForm) {\n            const { successPasswordChange } = this.#options.customizeForms || {};\n            const { description, backLinkTitle } = successPasswordChange || {};\n            this.changePasswordForm.showFormResult(`\n            <div class=\"wk-success-message wk-password-reset-success\">\n                <h2 class=\"wk-success-message__title\">${description || 'Your password has been successfully changed!'}</h2>\n                <a href=\"#\" class=\"wk-form__link account-settings-link\">${backLinkTitle || 'Back to account settings'}</a>\n            </div>\n        `);\n            if (this.modal) {\n                this.modal.toggleLoader(false);\n            }\n        }\n    }\n\n    cancelModalForm(options) {\n        this.modal.hide();\n        if (options.openPopupName) {\n            this.popup.open(options.openPopupName);\n        }\n    }\n\n    showChangePassword() {\n        this.modal.show();\n        this.#initChangePasswordForm();\n    }\n\n    getDefaultUserManagerModalContent () {\n        return `<div>\n                    <div id=\"user-manager-modal-error\"></div>\n                    <div id=\"${WALLKIT_USER_MANAGER_MODAL_FORM_PLACEHOLDER_ID}\"></div>\n                </div>`;\n    }\n}\n","import Error, { ERRORS_TYPES } from '../handlers/Error.js';\n\nexport const isDocumentAvailable = () => {\n    return !!document;\n}\n\nexport const checkIfElementExists = (elementSelector) => {\n    if (!isDocumentAvailable()) return Error.handleError('Document is not available', ERRORS_TYPES.DOM_ERROR);\n\n    return !!document.querySelector(elementSelector);\n}\n\nexport const insertAfter = (newNode, referenceNode) => {\n    referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);\n}\n\nexport const createElement = (tag, options) => {\n    if (!isDocumentAvailable()) return Error.handleError('Document is not available', ERRORS_TYPES.DOM_ERROR);\n\n    if (!tag) return Error.checkRequiredArgument(tag);\n\n    const element = document.createElement(tag);\n\n    const { id, className, styles, attributes, innerText, innerHTML } = options ?? {}; // Options Arguments\n\n    if (id) {\n        element.id = id;\n    }\n\n    if (innerText) {\n        element.innerText = innerText;\n    }\n\n    if (innerHTML) {\n        element.innerHTML = innerHTML;\n    }\n\n    if (className) {\n        element.setAttribute('class', className);\n    }\n\n    if (styles && Object.keys(styles) && Object.keys(styles).length) {\n        for (let prop in styles) {\n            if (styles.hasOwnProperty(prop)) {\n                element.style[prop] = styles[prop];\n            }\n        }\n    }\n\n    if (attributes && Object.keys(attributes) && Object.keys(attributes).length) {\n        for (let prop in attributes) {\n            if (attributes.hasOwnProperty(prop)) {\n                element.setAttribute(prop,  attributes[prop]);\n            }\n        }\n    }\n\n    return element;\n}\n\nexport const injectInBody = (element) => {\n    if (!isDocumentAvailable()) return Error.handleError('Document is not available', ERRORS_TYPES.DOM_ERROR);\n    if (!element) return Error.checkRequiredArgument(element, 'element');\n\n    return document.body.appendChild(element);\n}\nexport const injectInElement = (querySelector, element) => {\n    if (!isDocumentAvailable()) return Error.handleError('Document is not available', ERRORS_TYPES.DOM_ERROR);\n    if (!element) return Error.checkRequiredArgument(element, 'element');\n\n    const wrapper = document.querySelector(querySelector);\n    if (!wrapper) return Error.checkRequiredArgument(wrapper, 'wrapper');\n\n    return wrapper.appendChild(element);\n}\n\nexport const injectInHead = (element) => {\n    if (!isDocumentAvailable()) return Error.handleError('Document is not available', ERRORS_TYPES.DOM_ERROR);\n    if (!element) return Error.checkRequiredArgument(element, 'element');\n\n    return document.head.appendChild(element);\n}\n\nexport const loadCSS = (url, id) => {\n    if (!isDocumentAvailable()) return Error.handleError('Document is not available', ERRORS_TYPES.DOM_ERROR);\n    if (checkIfElementExists('#' + id)) return;\n\n    const head = document.querySelector('head');\n    const link = document.createElement('link');\n\n    if (id) {\n        link.id = id;\n    }\n\n    link.rel  = 'stylesheet';\n    link.type = 'text/css';\n    link.href = url;\n    link.media = 'all';\n\n    return head.appendChild(link);\n}\n\nexport const insertScript = (url, id, onload) => {\n    if (!isDocumentAvailable()) return Error.handleError('Document is not available', ERRORS_TYPES.DOM_ERROR);\n    if (checkIfElementExists('#' + id)) return;\n\n    const scriptElement = createElement('script', {\n        id,\n        attributes: {\n            src: url\n        }\n    });\n\n    if (onload) {\n        scriptElement.addEventListener('load', onload, { once: true });\n    }\n\n    return injectInBody(scriptElement);\n}\n\nexport const isMobile = () => {\n    if (typeof window !== 'undefined') {\n        return window.innerWidth < 800;\n    } else {\n        return false;\n    }\n};\n\nexport const normalizeSelector = (selector) => {\n    if (!!selector && !['#', '.'].includes(selector.charAt(0))) {\n        selector = `#${selector}`;\n    }\n    return selector;\n}\n\nexport default {\n    createElement,\n    injectInBody,\n    checkIfElementExists,\n    loadCSS,\n    insertScript,\n    isMobile,\n    normalizeSelector,\n    injectInElement\n}\n","export const setCookie = (name, value, options) => {\n    if (!name || !value) {\n      return;\n    }\n\n    options = options || {};\n    let { expires } = options;\n\n    if (typeof expires === \"number\" && expires) {\n        let date = new Date();\n        date.setTime(date.getTime() + expires * 1000);\n        expires = options.expires = date;\n    }\n\n    if (expires && expires.toUTCString) {\n        options.expires = expires.toUTCString();\n    }\n\n    let updatedCookie = `${name}=${encodeURIComponent(value)}; `;\n\n    for (let propName in options) {\n        let propValue = options[propName];\n        if (propValue) {\n            updatedCookie += `${propName}=${propValue}; `;\n        }\n    }\n\n    document.cookie = updatedCookie;\n}\n\nexport const removeCookie = (name, domain) => {\n    const props = {\n      [name]: '',\n      expires: 'Thu, 01 Jan 1970 00:00:00 UTC',\n      path: '/',\n      domain: domain || null\n    };\n\n    let cookieFingerprint = '';\n    for (let propName in props) {\n      const propValue = props[propName];\n      if (propValue !== null && propValue !== undefined) {\n        cookieFingerprint += `${propName}=${propValue}; `;\n      }\n    }\n\n    document.cookie = cookieFingerprint;\n}\n\nexport default {\n    setCookie,\n    removeCookie\n}\n","export const isCrawler = () => {\n    return /bot|googlebot|crawler|spider|robot|crawling|facebookexternalhit|facebookcatalog/i.test(navigator.userAgent);\n}\n","import { loadCSS, insertScript } from \"./DOM\";\nimport { WALLKIT_CDN_ASSETS_URL } from \"../configs/constants\";\n\nexport const loadWallkitAsset = (type, version, name, min = true) => {\n    switch (type) {\n        case 'css':\n            let assetName = name;\n\n            if (min) {\n                assetName += '.min.css';\n            } else {\n                assetName += '.css';\n            }\n\n            loadCSS(`${WALLKIT_CDN_ASSETS_URL}/css/${version}/${assetName}`, `wk-css-${name}`);\n            return;\n        default:\n           return;\n    }\n}\n\nexport const loadScripts = (scripts) => {\n    if (Array.isArray(scripts)) {\n        scripts.forEach((script) => {\n            insertScript(script.url, script.id, script.onload);\n        });\n    }\n}\n\nexport default {\n    loadWallkitAsset,\n    loadScripts\n}","export default {\n    setItem: function (key, value) {\n        if (!this.isAvailable()) return null;\n\n        return window.localStorage.setItem(key, value);\n    },\n    getItem: function (key) {\n        if (!this.isAvailable()) return null;\n\n        return window.localStorage.getItem(key);\n    },\n    removeItem: function (key) {\n        if (!this.isAvailable()) return;\n\n        return window.localStorage.removeItem(key);\n    },\n    isAvailable: function () {\n        try {\n            window.localStorage.setItem('', '');\n            window.localStorage.removeItem('');\n            return true;\n        } catch(e) {\n            return false;\n        }\n    }\n};","export const isApplePayAvailable = () => {\n    try {\n        if (window.ApplePaySession) {\n            return window.ApplePaySession.canMakePayments();\n        } else {\n            return false;\n        }\n    } catch (e) {\n        console.error(\"ApplePay Error\", e);\n        return false;\n    }\n}","import isEmpty from \"lodash.isempty\";\n\nexport const parseModalHashURL = () => {\n    const UryModal = /#WkModal\\((.*)\\)$/.exec(decodeURIComponent(window.location.hash));\n    if (UryModal && UryModal[1]) {\n        const par = UryModal[1].split(/,(.+)/);\n\n        if (typeof par[1] !== \"undefined\") {\n            try {\n                par[1] = JSON.parse(par[1])\n            } catch (_) {\n                par[1] = {\n                    value: par[1].trim()\n                }\n            }\n        }\n\n        window.location.hash = \"\";\n\n        return {\n            name: par[0],\n            params: (typeof par[1] === \"object\" ? par[1] : null)\n        }\n    }\n}\n\nexport const parseAuthTokenHash = () => {\n    const hash = decodeURIComponent(window.location.hash)\n\n    if (hash?.includes('wk-authorize')) {\n        const splitHash = hash.split('=');\n\n        const token = splitHash?.[1];\n        if (token) {\n            return token;\n        }\n    }\n\n    return null;\n}\n\nexport const parseConfirmTokenHash = () => {\n  const hash = decodeURIComponent(window.location.hash)\n\n  if (hash?.includes('wk-confirm-email')) {\n    const splitHash = hash.split('=');\n\n    const token = splitHash?.[1];\n    if (token) {\n      return token;\n    }\n  }\n\n  return null;\n}\n\nexport const resetHash = () => {\n    window.location.hash = '';\n    const path = window.location.href.replace('#', '');\n    window.history.pushState('', '', path);\n}\n\nexport const resetSearchParams = (params) => {\n    if (!!params && !!window.location.search && window.location.search.includes(params)) {\n        if (window.location.search.replace(params, '') === '?') {\n            params = '?'+params;\n        }\n        const path = window.location.href.replace(params, '');\n        window.history.pushState('', '', path);\n    }\n}\n\nexport const getDomainWithoutSubdomain = url => {\n  const urlParts = new URL(url).hostname.split('.')\n\n  return urlParts\n    .slice(0)\n    .slice(-(urlParts.length === 4 ? 3 : 2))\n    .join('.')\n}\n\nexport const getParentDomain = () => {\n  return `.${getDomainWithoutSubdomain(window.location)}`;\n}\n\nexport const parseResetPasswordOobCodeHash = () => {\n    const hash = decodeURIComponent(window.location.hash)\n\n    if (hash?.includes('#reset-password=')) {\n        const splitHash = hash.split('=');\n\n        const oobCode = splitHash?.[1];\n        if (oobCode) {\n            return oobCode;\n        }\n    }\n\n    return null;\n}\n\nexport const parseAuthEmailLinkOobCodeHash = () => {\n    const hash = decodeURIComponent(window.location.hash)\n    let authData = {}\n    if (hash?.includes('#auth-email-link=')) {\n        const splitHash = hash.split('&');\n        if (Array.isArray(splitHash)) {\n            for (const hashItem of splitHash) {\n                const item = hashItem.split('=');\n                if (!isEmpty(item[0]) && !isEmpty(item[1])) {\n                    item[0] = item[0].toLowerCase();\n                    if (item[0].startsWith('#')) {\n                        item[0] = item[0].slice(1);\n                    }\n                    if (item[0] === 'auth-email-link') {\n                        item[0] = 'oobcode';\n                    }\n                    authData[item[0]] = item[1];\n                }\n            }\n        }\n    }\n    return authData;\n}\n\nexport const parseUrlToShowAuthModal = () => {\n    const authUrlPattern = 'auth-modal=true';\n    const search = decodeURIComponent(window.location.search);\n    if (!!search?.includes(authUrlPattern)) {\n        resetSearchParams(authUrlPattern);\n        return true;\n    }\n    return false;\n}\n\nexport const getUrlParamByKey = ($key) => {\n    const search = decodeURIComponent(window.location.search);\n    if (!!search) {\n        const searchParams = new URLSearchParams(search);\n        return searchParams.get($key);\n    }\n    return null;\n}\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    symbolTag = '[object Symbol]';\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/,\n    reLeadingDot = /^\\./,\n    rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Symbol = root.Symbol,\n    splice = arrayProto.splice;\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = isKey(path, object) ? [path] : castPath(path);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value) {\n  return isArray(value) ? value : stringToPath(value);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoize(function(string) {\n  string = toString(string);\n\n  var result = [];\n  if (reLeadingDot.test(string)) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, string) {\n    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result);\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Assign cache to `_.memoize`.\nmemoize.Cache = MapCache;\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap');\n\n/** Detect if properties shadowing those on `Object.prototype` are non-enumerable. */\nvar nonEnumShadows = !propertyIsEnumerable.call({ 'valueOf': 1 }, 'valueOf');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * The base implementation of `getTag`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  return objectToString.call(value);\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11,\n// for data views in Edge < 14, and promises in Node.js.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = objectToString.call(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : undefined;\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Checks if `value` is an empty object, collection, map, or set.\n *\n * Objects are considered empty if they have no own enumerable string keyed\n * properties.\n *\n * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n * jQuery-like collections are considered empty if they have a `length` of `0`.\n * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n * @example\n *\n * _.isEmpty(null);\n * // => true\n *\n * _.isEmpty(true);\n * // => true\n *\n * _.isEmpty(1);\n * // => true\n *\n * _.isEmpty([1, 2, 3]);\n * // => false\n *\n * _.isEmpty({ 'a': 1 });\n * // => false\n */\nfunction isEmpty(value) {\n  if (isArrayLike(value) &&\n      (isArray(value) || typeof value == 'string' ||\n        typeof value.splice == 'function' || isBuffer(value) || isArguments(value))) {\n    return !value.length;\n  }\n  var tag = getTag(value);\n  if (tag == mapTag || tag == setTag) {\n    return !value.size;\n  }\n  if (nonEnumShadows || isPrototype(value)) {\n    return !nativeKeys(value).length;\n  }\n  for (var key in value) {\n    if (hasOwnProperty.call(value, key)) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = isEmpty;\n","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nmodule.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nmodule.exports = _arrayWithHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nmodule.exports = _assertThisInitialized, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}\nmodule.exports = _asyncToGenerator, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _classApplyDescriptorGet(receiver, descriptor) {\n  if (descriptor.get) {\n    return descriptor.get.call(receiver);\n  }\n  return descriptor.value;\n}\nmodule.exports = _classApplyDescriptorGet, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _classApplyDescriptorSet(receiver, descriptor, value) {\n  if (descriptor.set) {\n    descriptor.set.call(receiver, value);\n  } else {\n    if (!descriptor.writable) {\n      throw new TypeError(\"attempted to set read only private field\");\n    }\n    descriptor.value = value;\n  }\n}\nmodule.exports = _classApplyDescriptorSet, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nmodule.exports = _classCallCheck, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _classExtractFieldDescriptor(receiver, privateMap, action) {\n  if (!privateMap.has(receiver)) {\n    throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n  }\n  return privateMap.get(receiver);\n}\nmodule.exports = _classExtractFieldDescriptor, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var classApplyDescriptorGet = require(\"./classApplyDescriptorGet.js\");\nvar classExtractFieldDescriptor = require(\"./classExtractFieldDescriptor.js\");\nfunction _classPrivateFieldGet(receiver, privateMap) {\n  var descriptor = classExtractFieldDescriptor(receiver, privateMap, \"get\");\n  return classApplyDescriptorGet(receiver, descriptor);\n}\nmodule.exports = _classPrivateFieldGet, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var classApplyDescriptorSet = require(\"./classApplyDescriptorSet.js\");\nvar classExtractFieldDescriptor = require(\"./classExtractFieldDescriptor.js\");\nfunction _classPrivateFieldSet(receiver, privateMap, value) {\n  var descriptor = classExtractFieldDescriptor(receiver, privateMap, \"set\");\n  classApplyDescriptorSet(receiver, descriptor, value);\n  return value;\n}\nmodule.exports = _classPrivateFieldSet, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nmodule.exports = _createClass, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var superPropBase = require(\"./superPropBase.js\");\nfunction _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get.bind(), module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n      return desc.value;\n    }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  }\n  return _get.apply(this, arguments);\n}\nmodule.exports = _get, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _getPrototypeOf(o);\n}\nmodule.exports = _getPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\nmodule.exports = _inherits, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\nmodule.exports = _interopRequireDefault, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s,\n      _e,\n      _x,\n      _r,\n      _arr = [],\n      _n = !0,\n      _d = !1;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i) return;\n        _n = !1;\n      } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0);\n    } catch (err) {\n      _d = !0, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return;\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n}\nmodule.exports = _iterableToArrayLimit, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nmodule.exports = _nonIterableRest, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar assertThisInitialized = require(\"./assertThisInitialized.js\");\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return assertThisInitialized(self);\n}\nmodule.exports = _possibleConstructorReturn, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var exports = {},\n    Op = Object.prototype,\n    hasOwn = Op.hasOwnProperty,\n    defineProperty = Object.defineProperty || function (obj, key, desc) {\n      obj[key] = desc.value;\n    },\n    $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n    iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n    asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n    toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n      generator = Object.create(protoGenerator.prototype),\n      context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n    NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n          value = result.value;\n        return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function value(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function (resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function (method, arg) {\n      if (\"executing\" === state) throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method) throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg;;) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method,\n      method = delegate.iterator[methodName];\n    if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel;\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n          next = function next() {\n            for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n            return next.value = undefined, next.done = !0, next;\n          };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (val) {\n    var object = Object(val),\n      keys = [];\n    for (var key in object) keys.push(key);\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n          record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n            hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _setPrototypeOf(o, p);\n}\nmodule.exports = _setPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\nvar nonIterableRest = require(\"./nonIterableRest.js\");\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\nmodule.exports = _slicedToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var getPrototypeOf = require(\"./getPrototypeOf.js\");\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n  return object;\n}\nmodule.exports = _superPropBase, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nmodule.exports = _toPrimitive, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar toPrimitive = require(\"./toPrimitive.js\");\nfunction _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\nmodule.exports = _toPropertyKey, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\nmodule.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(6004);\n",""],"names":["POPUP_UI_LIBRARY_STYLES","INLINE_UI_LIBRARY_STYLES","WALLKIT_POPUP_URL","WALLKIT_POPUP_DEV_URL","WALLKIT_CDN_URL","WALLKIT_CDN_ASSETS_URL","ALLOWED_ORIGINS","document","location","origin","WALLKIT_MODAL_WRAPPER_CLASSNAME","WALLKIT_MODAL_CLOSE_BTN_CLASSNAME","WALLKIT_MODAL_CONTENT_CLASSNAME","WALLKIT_MODAL_MIN_WIDTH","WALLKIT_MODAL_MAX_WIDTH","WALLKIT_MODAL_MIN_HEIGHT","WALLKIT_FIREBASE_UI_PLACEHOLDER_ID","WALLKIT_FIREBASE_WK_FORM_PLACEHOLDER_ID","WALLKIT_AUTH_FORM_PLACEHOLDER_ID","WALLKIT_USER_MANAGER_MODAL_FORM_PLACEHOLDER_ID","WALLKIT_FRAME_ID","TRIGGER_EMAIL_BUTTON_TITLE_SELECTOR","TRIGGER_EMAILLINK_BUTTON_TITLE_SELECTOR","TRIGGER_GOOGLE_BUTTON_TITLE_SELECTOR","TRIGGER_EMAIL_BUTTON_CLASS_NAME","TRIGGER_EMAILLINK_BUTTON_CLASS_NAME","TRIGGER_BUTTON_CLASS_NAME","WALLKIT_FIREBASE_CONFIG","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","WALLKIT_DEV_FIREBASE_CONFIG","WALLKIT_TOKEN_NAME","FIREBASE_TOKEN_NAME","FB_AVAILABLE_LANGUAGES","ERRORS_TYPES","DOM_ERROR","ARGUMENT_ERROR","DEFAULT_ERROR_MESSAGES","Error","error_type","error","isErrorRecognisable","message","getErrorTypeMessage","errorMessage","console","log","argument","key","undefined","handleError","window","WallkitIntegration","options","managersStatuses","analytics","isEnabled","parseUTM","isReady","authentication","call","use","content","events","frame","localization","modal","sdk","user","Events","config","uiType","ui","type","Content","preventExecutionForCrawlers","prevent_execution_for_crawlers","isCrawler","Frame","onReady","popup","toggleLoader","Modal","resourceFrame","initialLoader","onClose","notify","FRAME_MODAL_CLOSED","name","currentFrameName","SDK","onLoaded","auth","firebase","reCaptcha","forms","Authentication","modalTitle","title","Analytics","Call","init","userManager","UserManager","customizeForms","checkAlreadyDefinedCallbacks","Array","isArray","wk","length","forEach","event","callback","on","params","open","eventName","subscribe","unsubscribe","value","sendEvent","defaultInit","onInit","MODAL_OPEN","addEventListener","data","FRAME_MESSAGE","includes","isAuthenticated","isApplePayAvailable","public_key","width","height","resize","redirect","hide","SUCCESS_AUTH","once","show","openFrame","reload","dispatchTokens","closeOutside","showChangePassword","confirmation","showEmailConfirmationModal","FIREBASE_READY","loadingInPercent","wkReady","setInterval","dif","manager","push","currentLoadingInPercent","Math","round","Object","keys","clearInterval","READY","handleAuthRouting","isOpenAuthRouting","openByHash","parseModalHashURL","styles","createElement","innerHTML","injectInHead","ticketPassAuthToken","parseAuthTokenHash","handleTicketsToken","resetHash","confirmToken","parseConfirmTokenHash","confirmUserEmail","utmTags","search","queryParams","URLSearchParams","utmParams","foundedUTMParams","param","get","methods","updateUser","extra","hasUTMTags","parseUTMTags","ReCaptchaFirebase","authenticationInstance","enabled","loaded","valid","siteKey","grecaptcha","isMobile","mobile","recaptchaScripts","url","id","defer","onload","EventsNames","local","RECAPTCHA_LOADED","Promise","resolve","onRecaptchaAuth","bind","hideBadge","loadScripts","style","innerText","reset","handleCaptchaState","RECAPTCHA_VALIDATION_FAILED","executeReCaptcha","ready","execute","then","MODAL_CLOSED","resetProcess","initTriggers","emailField","querySelector","submitBtn","cancelBtn","setAttribute","code","onclick","emailBtn","blur","getReCaptchaSettings","response","active","recaptcha_public_key","load","reCaptchaPlaceholder","classList","add","dataset","sitekey","size","modalContent","appendChild","token","validateReCaptchaToken","RECAPTCHA_VALIDATION_SUCCESS","Token","slug","resource","subDomain","getParentDomain","createTokenSlug","set","getStoredTokenValue","LocalStorage","getItem","removeCookie","localStorage","removeItem","setCookie","expires","path","domain","setItem","Firebase","firebaseUiConfig","mode","lang","Localization","assembleLanguage","providers","tosURL","privacyPolicyURL","captchaKey","genuineForm","firebaseui","elementPlaceholder","onSuccessAuth","onAuthStateChanged","uiShown","isUiShown","initialized","GoogleAuthProvider","PROVIDER_ID","EmailAuthProvider","FacebookAuthProvider","element","display","selectedProviders","map","item","provider","allowedProviders","filter","tosUrl","privacyPolicyUrl","firebaseuiInstance","AuthUI","disableAutoSignIn","callbacks","signInSuccessWithAuthResult","result","getIdToken","formattedResult","userId","uid","FIREBASE_UI_SHOWN","signInFlow","signInOptions","formatSelectedProviders","credentialHelper","CredentialHelper","GOOGLE_YOLO","startFirebaseUi","start","uiConfig","signOut","email","password","signInWithEmailAndPassword","handleSuccessAuth","createUserWithEmailAndPassword","currentUser","updateProfile","displayName","operationType","sendPasswordResetEmail","oobCode","passResetUrl","fetch","method","body","JSON","stringify","newPassword","headers","res","json","resJson","oobcode","isEmpty","signInWithEmailLinkUrl","oldPassword","credential","reauthenticateWithCredential","updatePassword","signInWithCustomToken","attachListener","setTimeout","FIREBASE_LOADED","initFirebase","FIREBASE_INIT","defaultPlaceholder","selector","elementSelector","normalizeSelector","reject","loading","onFirebaseAppLoaded","scripts","onScriptLoaded","loadedCounter","loadCSS","insertScript","apps","defaultConfig","initializeApp","instance","cookies","firebaseToken","updateFirebaseToken","onFirebaseInit","onAuthFail","onFirebaseAuthFail","initAuthForm","ReCaptcha","state","signIn","authForm","loginForm","setFormError","signUp","updateName","signUpForm","termsOfService","passwordSignInIgnoreValidation","authOnPasswordReset","defaultForm","AuthForm","triggerButton","authProviders","customizeAuthForms","onLogin","preventiveEvent","PRE_SIGN_IN","proceed","executeRecaptcha","handleLogin","onSignUp","handleSignUp","onGetEmailLink","toggleFormLoader","client","post","showSuccessEmailLink","emailLinkForm","onPasswordForgot","genuinePasswordReset","firebasePasswordReset","success","showSuccessPasswordForgot","forgotPasswordForm","onPasswordReset","sendNewPasswordResetPassword","new_password","showSuccessPasswordReset","resetPasswordForm","onAuthFormShow","hideAuthForm","onCancel","showAuthForm","getShowAuthFormSlug","handleAuthError","resetAuthProcess","SUCCESS_FIREBASE_AUTH","authInWallkit","status","authenticateWithFirebase","setToken","userGetTimeout","userEventCallback","clearTimeout","unsubscribeLocalEvent","register","existed","subscribeLocalEvent","removeTokens","substring","placeholders","targetElement","renderType","placeholder","insertAdjacentHTML","getDefaultAuthenticationFormContent","attachFormPlaceholders","authFormSlug","isVisible","showDefaultForm","checkFirebaseInit","shownTimeout","wallkit","WALLKIT_EVENT_FIREBASE_TOKEN","setFirebaseToken","initCaptchaProcess","e","remove","removeToken","removeFirebaseToken","logout","WALLKIT_LOGOUT","LOGOUT","dispatchWallkitToken","dispatchFirebaseToken","WALLKIT_EVENT_TOKEN","getAuthTokensByTicketPassToken","authWithCustomToken","firebase_custom_token","customFirebaseToken","wallkitToken","userCredential","getUser","externalUserId","getAuthTokensByExternalUserId","EXTERNAL_PROVIDER_TOKEN_AUTH_SUCCESS","WALLKIT_EVENT_ONE_TAP_SIGN_IN","showForm","RESET_PASSWORD_FORM_SLUG","isOpenResetPassword","isOpenAuthWithLink","isOpenModalAfterAuthWithCustomToken","render","charAt","toLowerCase","modalName","className","WALLKIT_EVENT_AUTH","WALLKIT_EVENT_REGISTRATION","WALLKIT_EVENT_GET_TOKEN","WALLKIT_FIREBASE_TOKEN","WALLKIT_EVENT_FIREBASE_CUSTOM_TOKEN","errorCode","errorPlaceholder","getElementById","parseResetPasswordOobCodeHash","showResetPassword","authData","parseAuthEmailLinkOobCodeHash","authEmailLink","idToken","getUrlParamByKey","popupSlug","history","replaceState","pathname","classForHandleClick","classThatReactOnTheUsersStatus","classThatReactOnTheUsersPlans","classThatReactOnTheUsersEvents","setDataWkStatusUserInDOMElements","setDataWkStatusPlansInDOMElements","setDataWkStatusEventsInDOMElements","getUserStatus","querySelectorAll","wkCallStatusUser","subscriptions","plans","s","plan","join","wkCallStatusPlans","assigned_tickets","ti_event","wkCallStatusEvents","setAllDataWkStatusesInDOMElements","wkCallUserHasAccess","getWallkitUserData","debug","_","WALLKIT_EVENT_USER","CHECK_USER_ACCESS","target","contains","classes","from","slugAndParamStr","find","startsWith","slugAndParamArr","split","popupParams","preventDefault","popupParamsArr","item_type","item_key","accessCount","accessCountLimit","taxonomies","formatted","taxonimiesTitles","taxonimiesKeys","taxKey","label","termKeysKey","termTitleKey","items","taxonomy_titles","taxonomy_keys","link","href","image","assign","formatTaxonomies","getAccessDetails","allow","allowed","checkAccess","checkAccessDetails","checkContentAccessAndSync","contentId","checkDone","accessDetails","content_terms","exclude","usedLimitInPeriod","accessLimit","content_types","ret","d","encodeURIComponent","query","FRAME_CREATED","FRAME_MOUNTED","MODAL_CREATED","WALLKIT_SDK_LOADED","AUTH_MODAL_CLOSED","TICKETS_TOKEN_AUTH_SUCCESS","DEFAULT_AUTH_FORM_SLUG_UPDATED","WALLKIT_CHANGE_FRAME","WALLKIT_FRAME_READY","WALLKIT_FRAME_ROUTE_CHANGE","WALLKIT_EVENT_CHANGE_LANGUAGE","WALLKIT_EVENT_EXTERNAL_PROVIDER_TOKEN","listeners","onceIndexesToRemove","index","getEventByName","TriggerButton","emaillink","google","checkOptions","elements","emailOnClick","emaillinkOnClick","subscribeEventForChanges","authProvider","aProvider","fullLabel","signInLabel","signUpLabel","backgroundColor","textColor","textColorStyle","iconUrl","buttonColor","buttonTextColor","defaultFormSlug","SIGN_IN_FORM_SLUG","SIGN_UP_FORM_SLUG","newValue","oldValue","elementKey","buttonTitleSelector","getComputedStyle","getPropertyValue","buttonsTitle","color","authNew","authOld","CheckBoxField","input","validate","checked","inputWrapper","createInputWrapper","createLabel","createCheckMark","wrapper","FormField","PasswordField","messages","passwordHintDescription","insertAffix","togglePasswordVisibility","passwordHint","insertDescription","ignoreValidation","testStrength","TOGGLE_CLASSNAME","switchPasswordInputType","getValue","passwordValidation","passwordPrefix","passwordPostfix","setError","regex","uppercaseRegex","RegExp","uppercaseValid","test","passwordRuleLength","passwordRuleUppercase","passwordRuleLowercase","passwordRuleDigit","passwordRuleSpecial","rules","rule","validateRule","createWrapper","createInput","isValid","required","dataSlug","affix","onClick","description","onChange","onInput","emptyEmail","incorrectEmail","emptyPassword","onEnter","keyCode","onValidate","relatedData","resetValidation","setFieldValidationState","affixElement","descriptionElement","attributes","text","forRef","messageElement","createMessage","insertAfter","removeMessage","focus","FORGOT_PASSWORD_FORM_SLUG","EMAIL_LINK_FORM_SLUG","emailLink","forgotPassword","resetPassword","signInMessages","LoginForm","onSubmit","resetForm","formWrapper","signUpMessages","SignupForm","emailLinkMessages","EmailLinkForm","forgotPasswordMessages","ForgotPasswordForm","reRender","resetPasswordMessages","ResetPasswordForm","showAuthFormSlug","formSlug","oldSlug","form","formKey","activeForm","resetFormError","successEmailLink","descriptionPrefix","descriptionPostfix","backLinkTitle","showFormResult","successPasswordForgot","successPasswordReset","ChangePasswordForm","targetElementSelector","footer","getFormFooter","newNotMatchOld","confirmationMatchNew","oldPasswordField","submitForm","field","newPasswordField","oldPasswordValue","newPasswordConfirmField","newPasswordValue","fields","formFooter","cancelBtnTitle","Form","footerWrapper","subFooter","signUpWrapper","signUpPreLinkTitle","signUpLinkTitle","passwordField","nameField","tosRequired","tosField","getTosAcceptLabel","signInWrapper","signInPreLinkTitle","signInLinkTitle","termsOptions","defaultLabel","submitBtnTitle","placeholderElement","getFormElement","formErrorPlaceholder","resetField","resetFields","markup","formWrapperFields","getElement","formWrapperHeader","formWrapperFooter","isFieldValid","validateForm","insertFormElements","insertHeader","insertFields","insertFooter","ADDITIONAL_FRAME_CLASSNAMES","frameElement","host","version","scrolling","allowtransparency","frameborder","getFrameURL","contentWindow","frameWindow","postMessage","createFrame","onFrameReady","language","modalFrame","modalWrapper","loaderElement","isLoading","HTMLElement","parseUrlToShowAuthModal","elementTag","elementName","elementIdName","elementIndex","elementId","DOM","checkIfElementExists","closeBtn","bindCloseEvent","modalClassName","minWidth","minHeight","maxWidth","insertContent","injectInBody","injectInElement","loadWallkitAsset","Wallkit","onLoad","api_url","subDomainCookie","openPopupName","getDefaultUserManagerModalContent","loader","changePasswordForm","cancelForm","changePassword","changePasswordMessages","cancelModalForm","old_password","successPasswordChange","isDocumentAvailable","newNode","referenceNode","parentNode","insertBefore","nextSibling","tag","checkRequiredArgument","prop","hasOwnProperty","head","rel","media","scriptElement","src","innerWidth","date","Date","setTime","getTime","toUTCString","updatedCookie","propName","propValue","cookie","props","cookieFingerprint","navigator","userAgent","min","assetName","script","isAvailable","ApplePaySession","canMakePayments","UryModal","exec","decodeURIComponent","hash","par","parse","trim","splitHash","replace","pushState","resetSearchParams","getDomainWithoutSubdomain","urlParts","URL","hostname","slice","hashItem","authUrlPattern","$key","searchParams"],"sourceRoot":""}