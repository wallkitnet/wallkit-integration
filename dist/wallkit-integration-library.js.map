{"version":3,"file":"wallkit-integration-library.js","mappings":"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,GAAG;AACH;AACA;AACA,+BAA+B,yBAAyB,SAAS,yBAAyB;;;;;;;AClB1F,oBAAoB,mBAAO,CAAC,IAAoB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA;AACA;AACA;AACA,kCAAkC,yBAAyB,SAAS,yBAAyB;;;;;;;ACf7F,oBAAoB,mBAAO,CAAC,EAAoB;AAChD;AACA;AACA,gDAAgD,yBAAyB,SAAS,yBAAyB;AAC3G,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,EAAE,yBAAyB,SAAS,yBAAyB;AAClE;AACA;AACA;AACA,uBAAuB,yBAAyB,SAAS,yBAAyB;;;;;;;ACjBlF;AACA;AACA;AACA,GAAG,EAAE,yBAAyB,SAAS,yBAAyB;AAChE;AACA;AACA,kCAAkC,yBAAyB,SAAS,yBAAyB;;;;;;;ACN7F,qBAAqB,mBAAO,CAAC,IAAqB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,4BAA4B,yBAAyB,SAAS,yBAAyB;;;;;;;ACjBvF;AACA;AACA;AACA;AACA;AACA,yCAAyC,yBAAyB,SAAS,yBAAyB;;;;;;;ACLpG,cAAc,sCAAiC;AAC/C,4BAA4B,mBAAO,CAAC,IAA4B;AAChE;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,6CAA6C,yBAAyB,SAAS,yBAAyB;;;;;;;ACVxG,cAAc,sCAAiC;AAC/C;AACA,gBAAgB;AAChB;AACA;AACA,GAAG,EAAE,yBAAyB,SAAS,yBAAyB;AAChE,kBAAkB;AAClB;AACA;AACA;AACA;AACA,KAAK;AACL,uDAAuD;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,aAAa;AACb,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kFAAkF;AAClF;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,aAAa,YAAY;AACzB;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,QAAQ;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,+CAA+C,QAAQ;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA,+CAA+C,QAAQ;AACvD;AACA;AACA;AACA,KAAK;AACL;AACA,+CAA+C,QAAQ;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA,sCAAsC,yBAAyB,SAAS,yBAAyB;;;;;;;AC/SjG;AACA;AACA;AACA;AACA,GAAG,EAAE,yBAAyB,SAAS,yBAAyB;AAChE;AACA;AACA,kCAAkC,yBAAyB,SAAS,yBAAyB;;;;;;;ACP7F,qBAAqB,mBAAO,CAAC,IAAqB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,yBAAyB,SAAS,yBAAyB;;;;;;;ACR5F,cAAc,sCAAiC;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,yBAAyB,SAAS,yBAAyB;;;;;;;ACX1F,cAAc,sCAAiC;AAC/C,kBAAkB,mBAAO,CAAC,GAAkB;AAC5C;AACA;AACA;AACA;AACA,iCAAiC,yBAAyB,SAAS,yBAAyB;;;;;;;ACN5F;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA,GAAG,EAAE,yBAAyB,SAAS,yBAAyB;AAChE;AACA,0BAA0B,yBAAyB,SAAS,yBAAyB;;;;;;;ACTrF;;AAEA,cAAc,mBAAO,CAAC,IAA+B;AACrD;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,IAAI;AACJ;AACA;AACA;;;;;;;UCdA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;UEtBA;UACA;UACA;UACA","sources":["webpack:///webpack/universalModuleDefinition","webpack:///./src/assets/styles.js","webpack:///./src/configs/constants.js","webpack:///./src/configs/languages.js","webpack:///./src/handlers/Error.js","webpack:///./src/index.js","webpack:///./src/managers/analytics/index.js","webpack:///./src/managers/authentication/Confirmation.js","webpack:///./src/managers/authentication/ReCaptcha.js","webpack:///./src/managers/authentication/Token.js","webpack:///./src/managers/authentication/firebase/Firebase.js","webpack:///./src/managers/authentication/index.js","webpack:///./src/managers/call/index.js","webpack:///./src/managers/content/index.js","webpack:///./src/managers/events/events-name.js","webpack:///./src/managers/events/index.js","webpack:///./src/managers/form/buttons/TriggerButton.js","webpack:///./src/managers/form/field/CheckBoxField.js","webpack:///./src/managers/form/field/PasswordField.js","webpack:///./src/managers/form/field/index.js","webpack:///./src/managers/form/forms/AuthForm.js","webpack:///./src/managers/form/forms/ChangePasswordForm.js","webpack:///./src/managers/form/forms/ForgotPasswordForm.js","webpack:///./src/managers/form/forms/LoginForm.js","webpack:///./src/managers/form/forms/ResetPasswordForm.js","webpack:///./src/managers/form/forms/SignUpForm.js","webpack:///./src/managers/form/index.js","webpack:///./src/managers/frame/index.js","webpack:///./src/managers/localization/index.js","webpack:///./src/managers/modal/index.js","webpack:///./src/managers/sdk/index.js","webpack:///./src/managers/user/index.js","webpack:///./src/utils/DOM.js","webpack:///./src/utils/cookie.js","webpack:///./src/utils/crawlers.js","webpack:///./src/utils/loaders.js","webpack:///./src/utils/local-storage.js","webpack:///./src/utils/payments.js","webpack:///./src/utils/url.js","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack:///./node_modules/@babel/runtime/helpers/classApplyDescriptorGet.js","webpack:///./node_modules/@babel/runtime/helpers/classApplyDescriptorSet.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/classExtractFieldDescriptor.js","webpack:///./node_modules/@babel/runtime/helpers/classPrivateFieldGet.js","webpack:///./node_modules/@babel/runtime/helpers/classPrivateFieldSet.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/get.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/interopRequireDefault.js","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/regeneratorRuntime.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/superPropBase.js","webpack:///./node_modules/@babel/runtime/helpers/toPrimitive.js","webpack:///./node_modules/@babel/runtime/helpers/toPropertyKey.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./node_modules/@babel/runtime/regenerator/index.js","webpack:///webpack/bootstrap","webpack:///webpack/before-startup","webpack:///webpack/startup","webpack:///webpack/after-startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(self, () => {\nreturn ","export const LIBRARY_STYLES = `\r\n        .wallkit-modal-wrapper {\r\n            z-index: 100;\r\n            position: fixed;\r\n            top: 0;\r\n            left: 0;\r\n            right: 0;\r\n            bottom: 0;\r\n            background: rgba(18, 18, 20, 0.9);\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: flex-start;\r\n            flex-direction: column;\r\n            overflow-y: auto;\r\n            padding: 70px 15px 20px;\r\n        }\r\n\r\n        .wallkit-modal-wrapper__content {\r\n            background-color: #fff;\r\n            flex-shrink: 0;\r\n            position: relative;\r\n            box-sizing: border-box;\r\n            overflow: hidden;\r\n            font-family: Roboto, sans-serif;\r\n        }\r\n        \r\n        @media screen and (max-width: 500px) {\r\n            .wallkit-modal-wrapper__content {\r\n                width: 100%;\r\n                min-width: auto!important;\r\n            }\r\n        }\r\n\r\n        .wallkit-modal-wrapper__close-btn {\r\n            position: absolute;\r\n            right: 10px;\r\n            top: 10px;\r\n            cursor: pointer;\r\n            color: #000;\r\n            font-size: 37px;\r\n            width: 37px;\r\n            height: 37px;\r\n            text-align: center;\r\n            line-height: 34px;\r\n        }\r\n\r\n        .wallkit-modal-wrapper .wk-frame {\r\n            transition: all 0.3s linear 0s;\r\n            max-width: 100%;\r\n            border: none;\r\n        }\r\n\r\n        .wallkit-auth-modal {\r\n            z-index: 999;\r\n        }\r\n\r\n        .wallkit-auth-modal .wallkit-modal-wrapper__content {\r\n            padding: 20px;\r\n        }\r\n\r\n        .wallkit-auth-modal .wallkit-auth-modal__title {\r\n            font-family: Roboto, sans-serif;\r\n            text-align: center;\r\n        }\r\n        \r\n        .wk-auth-form {\r\n            display: flex;\r\n            flex-direction: column;\r\n        }\r\n\r\n        .wk-form-field {\r\n            display: flex;\r\n            flex-direction: column;\r\n            font-family: Oxygen, sans-serif;\r\n            margin-bottom: 10px;\r\n        }\r\n\r\n        .wk-form-field .wk-form-field__label {\r\n            font-weight: 500;\r\n            color: #333;\r\n            margin-bottom: 5px;\r\n        }\r\n\r\n        .wk-form-field .wk-form-field__input-wrapper {\r\n            margin-bottom: 5px;\r\n            position: relative;\r\n        }\r\n        \r\n        .wk-eye-toggle {\r\n            background: url(https://www.gstatic.com/images/icons/material/system/1x/visibility_black_24dp.png);\r\n            width: 24px;\r\n            height: 24px;\r\n        }\r\n        \r\n        .wk-form-field__field-description {\r\n            font-size: 11px;\r\n            color: #989898;\r\n        }\r\n        \r\n        .wk-eye-toggle.wk-eye-toggled {\r\n            background: url(https://www.gstatic.com/images/icons/material/system/1x/visibility_off_black_24dp.png);\r\n        }\r\n        \r\n        .wk-form-field__field-affix {\r\n            position: absolute;\r\n            right: 5px;\r\n            top: 0;\r\n            bottom: 0;\r\n        }\r\n        \r\n        .wk-form-field .wk-form-field__input {\r\n            border-radius: 0;\r\n            border: 0;\r\n            border-bottom: 1px solid #ccc;\r\n            padding: 5px;\r\n            box-sizing: border-box;\r\n            width: 100%;\r\n        }\r\n        \r\n        .wk-field-list {\r\n            list-style-type: circle;\r\n            padding-left: 12px;\r\n            margin-top: 1px;\r\n        }\r\n\r\n        .wk-form-field .wk-form-field__input:focus {\r\n            border-bottom: 1px solid #3f51b5;\r\n            outline: none;\r\n        }\r\n\r\n        .wk-form-field .wk-form-field__message {\r\n            font-size: 12px;\r\n        }\r\n\r\n        .wk-auth-form-button {\r\n            background-color: #db4437;\r\n            direction: ltr;\r\n            font-weight: 500;\r\n            height: auto;\r\n            line-height: normal;\r\n            max-width: 220px;\r\n            min-height: 40px;\r\n            padding: 8px 16px;\r\n            text-align: left;\r\n            width: 100%;\r\n            box-sizing: border-box;\r\n            box-shadow: 0 2px 2px 0 rgba(0,0,0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.20), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\r\n            border-radius: 2px;\r\n            font-family: \"Roboto\",\"Helvetica\",\"Arial\",sans-serif;\r\n            margin: 0 auto 15px;\r\n            cursor: pointer;\r\n        }\r\n        \r\n        .wk-auth-form-button:focus,\r\n        .wk-auth-form-button:active,{\r\n            background-color: #5b6abe;\r\n        }\r\n\r\n        .wk-form-field.wk-form-field--invalid .wk-form-field__input {\r\n            border-bottom: 1px solid #dd2c00;\r\n        }\r\n        \r\n        .wk-form-field.wk-form-field--checkbox.wk-form-field--invalid .wk-form-field__checkmark {\r\n            border-color: #dd2c00;\r\n        }\r\n\r\n        .wk-form-field.wk-form-field--valid .wk-form-field__input {\r\n            border-bottom: 1px solid green;\r\n        }\r\n\r\n        .wk-form-field.wk-form-field--invalid .wk-form-field__message {\r\n            color: #dd2c00;\r\n        }\r\n\r\n        .wk-form-field.wk-form-field--valid .wk-form-field__message {\r\n            color: green;\r\n        }\r\n\r\n        .wk-form .wk-form__link {\r\n            font-size: 14px;\r\n            color: #3170f3;\r\n            text-decoration: underline;\r\n        }\r\n\r\n        .wk-form {\r\n            font-family: Oxygen, sans-serif;\r\n        }\r\n        \r\n        .wk-form-header {\r\n            margin-bottom: 10px;\r\n        }\r\n\r\n        .wk-form .wk-form__footer {\r\n            display: flex;\r\n            justify-content: space-between;\r\n            align-items: center;\r\n        }\r\n        \r\n        .wk-form .wk-form__footer.wk-form__footer--right {\r\n            justify-content: flex-end;\r\n        }\r\n\r\n        .wk-form .wk-form__sub-footer {\r\n            display: flex;\r\n            justify-content: space-between;\r\n            align-items: center;\r\n            margin-bottom: 20px;\r\n        }\r\n\r\n        .wk-form__reset-password {\r\n            text-align: right;\r\n        }\r\n\r\n        .wk-form-result {\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n        }\r\n\r\n        .wk-form-button {\r\n            border: none;\r\n            border-radius: 2px;\r\n            background-color: #3f51b5;\r\n            color: #fff;\r\n            position: relative;\r\n            height: 36px;\r\n            margin: 0;\r\n            min-width: 64px;\r\n            padding: 0 16px;\r\n            display: inline-block;\r\n            font-family: \"Roboto\", \"Helvetica\", \"Arial\", sans-serif;\r\n            font-size: 14px;\r\n            font-weight: 500;\r\n            text-transform: uppercase;\r\n            letter-spacing: 0;\r\n            overflow: hidden;\r\n            will-change: box-shadow;\r\n            transition: box-shadow .2s cubic-bezier(0.4, 0, 1, 1),background-color .2s cubic-bezier(0.4, 0, 0.2, 1),color .2s cubic-bezier(0.4, 0, 0.2, 1);\r\n            outline: none;\r\n            cursor: pointer;\r\n            text-decoration: none;\r\n            text-align: center;\r\n            line-height: 36px;\r\n            vertical-align: middle;\r\n        }\r\n\r\n        .wk-form__error {\r\n            display: none;\r\n            margin: 10px 0;\r\n            border: 1px solid #f5c6cb;\r\n            border-radius: 5px;\r\n            color: #721c24;\r\n            background-color: #f8d7da;\r\n            line-height: 21px;\r\n            padding: 10px;\r\n        }\r\n\r\n        .wk-form__error.wk-form__error--show {\r\n            display: block;\r\n        }\r\n\r\n        .wk-form-button.wk-form-button--cancel {\r\n            margin-left: auto;\r\n            margin-right: 10px;\r\n            color: #3f51b5;\r\n            background: none;\r\n        }\r\n        \r\n        .wk-success-message {\r\n        }\r\n        \r\n        .wk-success-message__title {\r\n            font-weight: 500;\r\n            margin-bottom: 10px;\r\n        }\r\n        \r\n        .wk-success-message__description {\r\n            margin-bottom: 10px;\r\n        }\r\n        \r\n        .wk-success-message__description b {\r\n            font-weight: 500;\r\n        }\r\n\r\n        .wk-form-button.wk-form-button--cancel:hover {\r\n            background-color: hsla(0,0%,62%,.2);\r\n        }\r\n        \r\n        .wk-success-message.wk-password-reset-success {\r\n            min-height: 205px;\r\n            display: flex;\r\n            justify-content: center;\r\n            flex-direction: column;\r\n        }\r\n        \r\n       \r\n        \r\n        .wk-form-field.wk-form-field--checkbox .wk-form-field__label {\r\n            position: relative;\r\n            padding-left: 30px;     \r\n            line-height: 20px;\r\n            font-size: 14px;     \r\n        } \r\n        \r\n        .wk-form-field.wk-form-field--checkbox input {\r\n            position: absolute;\r\n            opacity: 0;\r\n            cursor: pointer;\r\n            height: 0;\r\n            width: 0;\r\n        }\r\n        \r\n        .wk-form-field .wk-form-field__checkmark {\r\n            position: absolute;\r\n            top: 0;\r\n            left: 0;\r\n            height: 18px;\r\n            width: 18px;\r\n            background-color: none;\r\n            border: 2px solid #333;\r\n            box-sizing: border-box;\r\n            border-radius: 2px;\r\n        }\r\n        \r\n        .wk-form-field.wk-form-field--checkbox input:checked ~ .wk-form-field__checkmark {\r\n            background-color: #3f51b5;\r\n            border-color: #3f51b5;\r\n        }\r\n        \r\n        .wk-form-field__checkmark:after {\r\n            content: \"\";\r\n            position: absolute;\r\n            display: none;\r\n        }\r\n        \r\n        .wk-form-field input:checked ~ .wk-form-field__checkmark:after {\r\n            display: block;\r\n        }\r\n        \r\n        .wk-form-field .wk-form-field__checkmark:after {\r\n            left: 5px;\r\n            top: 2px;\r\n            width: 3px;\r\n            height: 7px;\r\n            border: solid white;\r\n            border-width: 0 2px 2px 0;\r\n            -webkit-transform: rotate(45deg);\r\n            -ms-transform: rotate(45deg);\r\n            transform: rotate(45deg);\r\n        }\r\n        \r\n        .wallkit-modal-error {\r\n            border: 1px solid #f1aeb5;\r\n            border-radius: 5px;\r\n            padding: 10px;\r\n            width: calc(100% - 50px);\r\n            background-color: #f8d7da;\r\n            color: #58151c;\r\n            font-family: \"Roboto\", \"Helvetica\", \"Arial\", sans-serif;\r\n        }\r\n        \r\n        .wallkit-modal-success {\r\n            border: 1px solid #a3cfbb;\r\n            border-radius: 5px;\r\n            padding: 10px;\r\n            width: 100%;\r\n            background-color: #d1e7dd;\r\n            color: #0a3622;\r\n            font-family: \"Roboto\", \"Helvetica\", \"Arial\", sans-serif;\r\n        }\r\n        \r\n        .wallkit-email-confirmation-modal {\r\n          text-align: center;\r\n        }\r\n`;\r\n","// Popups\r\nexport const WALLKIT_POPUP_URL = 'https://wallkit.net/popups';\r\n// export const WALLKIT_POPUP_URL = 'http://127.0.0.1:8000/popups';\r\nexport const WALLKIT_POPUP_DEV_URL = 'https://dev.wallkit.net/popups';\r\n// export const WALLKIT_POPUP_DEV_URL = 'https://wallkit-landing.com/popups';\r\n// export const WALLKIT_POPUP_DEV_URL = 'http://127.0.0.1:8000/popups';\r\n\r\n// Assets\r\nexport const WALLKIT_CDN_URL = 'https://cdn.wallkit.net';\r\nexport const WALLKIT_CDN_ASSETS_URL = WALLKIT_CDN_URL + '/assets';\r\n\r\n// Safety\r\nexport const ALLOWED_ORIGINS = [\r\n    document.location.origin,\r\n    'http://127.0.0.1:8000',\r\n    'https://wallkit.net',\r\n    'https://dev.wallkit.net',\r\n    'https://demo.wallkit.net',\r\n    'https://wallkit-landing.com',\r\n];\r\n\r\n// Markup\r\nexport const WALLKIT_MODAL_WRAPPER_CLASSNAME = 'wallkit-modal-wrapper';\r\nexport const WALLKIT_MODAL_CLOSE_BTN_CLASSNAME = 'wallkit-modal-wrapper__close-btn';\r\nexport const WALLKIT_MODAL_CONTENT_CLASSNAME = 'wallkit-modal-wrapper__content';\r\nexport const WALLKIT_MODAL_MIN_WIDTH = '500';\r\nexport const WALLKIT_MODAL_MAX_WIDTH = '500';\r\nexport const WALLKIT_MODAL_MIN_HEIGHT = '250';\r\nexport const WALLKIT_FIREBASE_UI_PLACEHOLDER_ID = 'firebase-ui-placeholder';\r\nexport const WALLKIT_FIREBASE_WK_FORM_PLACEHOLDER_ID = 'wk-email-auth-form';\r\nexport const WALLKIT_AUTH_FORM_PLACEHOLDER_ID = 'wk-auth-form';\r\nexport const WALLKIT_USER_MANAGER_MODAL_FORM_PLACEHOLDER_ID = 'wk-user-manager-modal-form';\r\nexport const WALLKIT_FRAME_ID = 'wk-frame';\r\nexport const TRIGGER_EMAIL_BUTTON_TITLE_SELECTOR = 'span.wk-auth-form-button-email-title';\r\nexport const TRIGGER_GOOGLE_BUTTON_TITLE_SELECTOR = '#firebase-ui-placeholder .firebaseui-container .firebaseui-idp-google span.firebaseui-idp-text-long';\r\nexport const TRIGGER_EMAIL_BUTTON_CLASS_NAME = 'wk-auth-form-button';\r\n\r\n// Authentication\r\nexport const WALLKIT_FIREBASE_CONFIG = {\r\n    apiKey: \"AIzaSyAoRdxZIlUE0HInqtzDid6rNxluhs5nCqg\",\r\n    authDomain: \"wallkit-production.firebaseapp.com\",\r\n    databaseURL: \"https://wallkit-production.firebaseio.com\",\r\n    projectId: \"wallkit-production\",\r\n    storageBucket: \"wallkit-production.appspot.com\",\r\n    messagingSenderId: \"779443518820\",\r\n    appId: \"1:779443518820:web:ffc6660647590674e20e71\",\r\n    measurementId: \"G-GWJ1GC5B30\"\r\n};\r\nexport const WALLKIT_DEV_FIREBASE_CONFIG = {\r\n    apiKey: \"AIzaSyCmIluc9x63JOu7I5UMZ8q5M4AbluBeC8o\",\r\n    authDomain: \"wallkit-258413.firebaseapp.com\",\r\n    databaseURL: \"https://wallkit-258413.firebaseio.com\",\r\n    projectId: \"wallkit-258413\",\r\n    storageBucket: \"wallkit-258413.appspot.com\",\r\n    messagingSenderId: \"767802802956\",\r\n    appId: \"1:767802802956:web:e8fc363619c47f7fff7f29\",\r\n    measurementId: \"G-ER6R7Z47R3\"\r\n};\r\nexport const WALLKIT_TOKEN_NAME = 'wk-token';\r\nexport const FIREBASE_TOKEN_NAME = 'firebase-token';\r\n","export const FB_AVAILABLE_LANGUAGES = [\r\n    'ar',\r\n    'bg',\r\n    'ca',\r\n    'zh_cn',\r\n    'zh_tw',\r\n    'hr',\r\n    'cs',\r\n    'da',\r\n    'nl',\r\n    'en',\r\n    'en_gb',\r\n    'fa',\r\n    'fil',\r\n    'fi',\r\n    'fr',\r\n    'de',\r\n    'el',\r\n    'iw',\r\n    'hi',\r\n    'hu',\r\n    'id',\r\n    'it',\r\n    'ja',\r\n    'ko',\r\n    'lv',\r\n    'lt',\r\n    'no',\r\n    'pl',\r\n    'pt_pt',\r\n    'ro',\r\n    'ru',\r\n    'sr',\r\n    'sk',\r\n    'sl',\r\n    'es',\r\n    'sv',\r\n    'th',\r\n    'tr',\r\n    'uk',\r\n    'vi'\r\n];","\nexport const ERRORS_TYPES = {\n    DOM_ERROR: 'DOM_ERROR',\n    ARGUMENT_ERROR: 'ARGUMENT_ERROR'\n}\n\nexport const DEFAULT_ERROR_MESSAGES = {\n    DOM_ERROR: 'DOM Manipulation gone wrong',\n    ARGUMENT_ERROR: 'One of the argument were not provided'\n}\n\n\nexport default class Error {\n    constructor() {\n    }\n\n    static isErrorRecognisable(error_type) {\n        return !!ERRORS_TYPES[error_type];\n    }\n\n    static getErrorTypeMessage(error_type) {\n        return DEFAULT_ERROR_MESSAGES[error_type] ?? 'Unrecognised Error';\n    }\n\n    static handleError(error, error_type) {\n        if (error_type && this.isErrorRecognisable(error_type)) {\n            const message = error ?? Error.getErrorTypeMessage(error_type);\n            const errorMessage = `ERROR::${error_type}; ${message};`;\n            console.log(errorMessage);\n            throw new Error(errorMessage);\n        } else {\n            const errorMessage = `ERROR::${error_type};`;\n            console.log(errorMessage);\n            throw new Error(errorMessage);\n        }\n    }\n\n    static checkRequiredArgument(argument, key) {\n        if (argument === undefined) {\n            this.handleError(`Argument ${key} is not provided`, ERRORS_TYPES.ARGUMENT_ERROR);\n        }\n    }\n}","import Authentication from './managers/authentication';\r\nimport Modal from './managers/modal';\r\nimport Frame from './managers/frame';\r\nimport SDK from './managers/sdk';\r\nimport Events from \"./managers/events\";\r\nimport Analytics from \"./managers/analytics\";\r\nimport Content from \"./managers/content\";\r\nimport Call from \"./managers/call\";\r\nimport UserManager from \"./managers/user\"\r\n\r\nimport { LIBRARY_STYLES } from './assets/styles';\r\n\r\nimport { createElement, injectInHead } from \"./utils/DOM\";\r\nimport { isApplePayAvailable } from './utils/payments';\r\nimport { isCrawler } from './utils/crawlers';\r\n\r\nimport { ALLOWED_ORIGINS } from './configs/constants';\r\nimport { SUCCESS_AUTH, FRAME_MESSAGE, FRAME_MODAL_CLOSED } from \"./managers/events/events-name\";\r\nimport { parseAuthTokenHash, parseConfirmTokenHash, resetHash } from \"./utils/url\";\r\n\r\nwindow.WallkitIntegration = class WallkitIntegration {\r\n    constructor(options) {\r\n        this.config = options;\r\n        this.events = new Events();\r\n        this.content = Content;\r\n\r\n        const preventExecutionForCrawlers = options?.prevent_execution_for_crawlers ?? true;\r\n        if (preventExecutionForCrawlers && isCrawler()) {\r\n            return;\r\n        }\r\n\r\n        this.frame = new Frame({\r\n            ...options,\r\n            onReady: () => this.popup.toggleLoader(false)\r\n        });\r\n\r\n        this.popup = new Modal({\r\n            resourceFrame: this.frame,\r\n            initialLoader: true,\r\n            onReady: (modal) => {\r\n                modal.openByHash();\r\n            },\r\n            onClose: () => {\r\n                this.events.notify(FRAME_MODAL_CLOSED, { name: this.frame.currentFrameName });\r\n            }\r\n        });\r\n\r\n        this.sdk = new SDK({\r\n            ...options,\r\n            onLoaded: () => {\r\n                this.authentication = new Authentication({\r\n                    ...options,\r\n                    firebase: options?.auth?.firebase,\r\n                    modalTitle: options?.auth?.modal?.title,\r\n                    content: options?.auth?.content || options?.auth?.modal?.content,\r\n                    reCaptcha: options?.auth?.reCaptcha,\r\n                });\r\n\r\n                this.analytics = new Analytics(options?.analytics);\r\n                this.call = new Call(this.popup, this.config);\r\n\r\n                this.init();\r\n\r\n                this.userManager = new UserManager({\r\n                    popup: this.popup,\r\n                    authentication: this.authentication\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    modal (name, params) {\r\n        this.popup.open(name, params);\r\n    }\r\n\r\n    on (eventName, callback, options) {\r\n        this.events.subscribe(eventName, callback, options);\r\n    }\r\n\r\n    off (eventName, callback, options) {\r\n        this.events.unsubscribe(eventName, callback, options);\r\n    }\r\n\r\n    sendEvent (name, value, params) {\r\n        this.frame.sendEvent(name, value, params);\r\n    }\r\n\r\n    #eventsListener() {\r\n        window.addEventListener('message', (event) => {\r\n            const { data: { value, name }, origin } = event;\r\n\r\n            this.events.notify(name, value);\r\n            this.events.notify(FRAME_MESSAGE, { name, value });\r\n\r\n            try {\r\n                if (ALLOWED_ORIGINS.includes(origin) && name) {\r\n                    switch (name) {\r\n                        case \"wk-event-modals-ready\" :\r\n                            if (this.authentication.isAuthenticated()) {\r\n                                this.frame.sendEvent(\"wk-event-applepay-ready\", isApplePayAvailable());\r\n                            } else {\r\n                                this.frame.sendEvent(\"wk-event-get-token\", this.config.public_key);\r\n                            }\r\n\r\n                            break;\r\n\r\n                        case \"wk-event-resize\" :\r\n                            if (value.width !== 0 && value.height !== 0) {\r\n                                this.popup.resize(value.width, value.height);\r\n                            }\r\n\r\n                            break;\r\n\r\n                        case \"show-firebase-auth\":\r\n                            const redirect = value;\r\n                            this.popup.hide();\r\n                            this.events.subscribe(SUCCESS_AUTH, () => {\r\n                                if (typeof redirect === \"string\") {\r\n                                    this.popup.open(redirect);\r\n                                }\r\n                            }, { once: true });\r\n                            this.authentication.show();\r\n                            this.frame.openFrame('');\r\n                            break;\r\n\r\n                        case \"wk-event-close-modal\" :\r\n                            this.popup.hide();\r\n\r\n                            break;\r\n\r\n                        case \"wk-event-reload-page\" :\r\n                            this.popup.hide();\r\n                            location.reload();\r\n\r\n                            break;\r\n\r\n                        case \"wk-event-storage-available\":\r\n                            if (!value) {\r\n                                this.authentication.dispatchTokens();\r\n                            }\r\n\r\n                            break;\r\n\r\n                        case \"wk-event-close-on-wrapper\":\r\n                            this.popup.closeOutside = value;\r\n                            break;\r\n\r\n                        case \"wk-firebase-change-password\" :\r\n                            this.popup.hide();\r\n                            this.userManager.showChangePassword();\r\n                            break;\r\n\r\n                        case \"wk-event-confirmation-required\":\r\n                            if (value.popup === 'plans') {\r\n                              this.frame.openFrame('account-settings');\r\n                              this.authentication.confirmation.showEmailConfirmationModal();\r\n                              this.popup.hide();\r\n                            }\r\n\r\n                            break;\r\n                    }\r\n                }\r\n            } catch (error) {\r\n                console.log('ERROR', error);\r\n            }\r\n        });\r\n    }\r\n\r\n    #insertStyles () {\r\n        const styles = createElement('style');\r\n        styles.innerHTML = LIBRARY_STYLES;\r\n\r\n        injectInHead(styles);\r\n    }\r\n\r\n    #recogniseURLIncomeParams () {\r\n        const ticketPassAuthToken = parseAuthTokenHash();\r\n        if (ticketPassAuthToken) {\r\n            this.authentication.handleTicketsToken(ticketPassAuthToken);\r\n            resetHash();\r\n        }\r\n\r\n        const confirmToken = parseConfirmTokenHash();\r\n        if (confirmToken) {\r\n          this.authentication.confirmation.confirmUserEmail(confirmToken);\r\n          resetHash();\r\n        }\r\n    }\r\n\r\n    init() {\r\n        this.#insertStyles();\r\n        this.popup.init();\r\n\r\n        if (this.config.auth.defaultInit !== false) {\r\n            this.authentication.init();\r\n        }\r\n\r\n        this.analytics.init();\r\n        this.#eventsListener();\r\n        this.#recogniseURLIncomeParams();\r\n\r\n        if (this.config.onInit) {\r\n            this.config.onInit(this);\r\n        }\r\n\r\n        if(this.config?.call?.use){\r\n            this.call.init();\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport * from './managers/events/events-name';\r\nexport * from './configs/constants';\r\n\r\nexport default WallkitIntegration;\r\n","import SDK from '../sdk';\r\nimport Authentication from \"../authentication\";\r\nimport Events from \"../events\";\r\nimport { SUCCESS_AUTH } from \"../events/events-name\";\r\n\r\nexport default class Analytics {\r\n    #config;\r\n    #sdk;\r\n    #authentication;\r\n    #events;\r\n\r\n    constructor(options) {\r\n        this.#config = {\r\n            parseUTM: options?.parseUTM !== undefined ? options.parseUTM : true\r\n        };\r\n        this.#authentication = new Authentication();\r\n        this.#sdk = new SDK();\r\n        this.#events = new Events();\r\n\r\n        this.utmTags = {};\r\n    }\r\n\r\n    parseUTMTags() {\r\n        if (!window.location.search.includes('utm')) return {};\r\n\r\n        const queryParams = new URLSearchParams(window.location.search);\r\n        const utmParams = ['utm_source', 'utm_medium', 'utm_campaign'];\r\n\r\n        let foundedUTMParams = {};\r\n\r\n        utmParams.forEach((param) => {\r\n            if (queryParams.get(param)) {\r\n                foundedUTMParams[param] = queryParams.get(param);\r\n            }\r\n        });\r\n\r\n        this.utmTags = foundedUTMParams;\r\n\r\n        if (this.#authentication.isAuthenticated()) {\r\n            this.#sdk.methods.updateUser({\r\n                extra: this.utmTags\r\n            });\r\n        } else if (this.hasUTMTags) {\r\n            this.#events.subscribe(SUCCESS_AUTH, () => {\r\n                this.#sdk.methods.updateUser({\r\n                    extra: this.utmTags\r\n                });\r\n            }, {once: true});\r\n        }\r\n\r\n        return foundedUTMParams;\r\n    }\r\n\r\n    get hasUTMTags() {\r\n        return !!Object.keys(this.utmTags).length;\r\n    }\r\n\r\n    init() {\r\n        if (this.#config.parseUTM !== false) {\r\n            this.parseUTMTags();\r\n        }\r\n    }\r\n}","import Modal from \"../modal\";\r\nimport SDK from \"../sdk\";\r\n\r\nexport class Confirmation {\r\n  constructor() {\r\n    this.sdk = new SDK();\r\n  }\r\n\r\n  getEmailConfirmationModalContent() {\r\n    return `<div class=\"wallkit-email-confirmation-modal\">\r\n                <div id=\"confirm-email-error\"></div>\r\n                <h2 class=\"wallkit-auth-modal__title\">Please confirm your email address</h2>\r\n                <a href=\"#\" id=\"wallkit-resend-confirmation\">Resend confirmation</a>\r\n              </div>`;\r\n  }\r\n\r\n  #createEmailConfirmationModal() {\r\n    return new Modal({\r\n      modalName: 'email-confirmation-modal',\r\n      content: this.getEmailConfirmationModalContent(),\r\n      className: 'wallkit-auth-modal',\r\n      initialLoader: false\r\n    });\r\n  }\r\n\r\n  #createEmailConfirmedModal() {\r\n    return new Modal({\r\n      modalName: 'email-confirmed-modal',\r\n      content: `<div>\r\n                    <div id=\"confirmed-email-error\"></div>\r\n                    <div id=\"confirmed-modal-content\"></div>\r\n              </div>`,\r\n      className: 'wallkit-auth-modal',\r\n      initialLoader: true\r\n    });\r\n  }\r\n\r\n  showEmailConfirmationModal() {\r\n    const modal = this.#createEmailConfirmationModal();\r\n\r\n    modal.init();\r\n    modal.show();\r\n\r\n    const confirmation = document.getElementById('wallkit-resend-confirmation');\r\n    confirmation.addEventListener('click', (event) => {\r\n      event.preventDefault();\r\n\r\n      modal.toggleLoader(true);\r\n\r\n      this.sdk.methods.resendConfirmUserEmail()\r\n        .then(({ result }) => {\r\n          if (result) {\r\n            const confirmationText = document.createElement('p');\r\n            confirmationText.innerText = 'Confirmation sent!';\r\n            confirmation.replaceWith(confirmationText);\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          if (error.message) {\r\n            modal.setError(error);\r\n          }\r\n        })\r\n        .finally(() => modal.toggleLoader(false));\r\n    });\r\n  }\r\n\r\n  confirmUserEmail(code) {\r\n    const modal = this.#createEmailConfirmedModal();\r\n\r\n    modal.init();\r\n    modal.show();\r\n\r\n    this.sdk.methods.confirmUserEmail(code)\r\n      .then(() => {\r\n        const contentElement = document.getElementById('confirmed-modal-content');\r\n\r\n        if (contentElement) {\r\n          contentElement.innerHTML = `<h2 class=\"wallkit-auth-modal__title\">Thank you! Email confirmed!</h2>`;\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        if (error.message) {\r\n          modal.setError(error);\r\n        }\r\n      })\r\n      .finally(() => {\r\n        modal.toggleLoader(false)\r\n      });\r\n  }\r\n}\r\n","import EventsNames from \"../events/events-name\";\r\nimport { createElement, injectInBody, injectInHead, isMobile } from \"../../utils/DOM\";\r\nimport { loadScripts } from \"../../utils/loaders\";\r\nimport SDK from \"../sdk\";\r\nimport Events from \"../events\";\r\n\r\nexport default class ReCaptchaFirebase {\r\n    #sdk;\r\n\r\n    constructor(authenticationInstance, options) {\r\n        if (!authenticationInstance) {\r\n            throw Error('Authentication Instance is not provided');\r\n        }\r\n\r\n        this.enabled = this.isEnabled(options);\r\n        this.authentication = authenticationInstance;\r\n        this.options = options;\r\n        this.loaded = false;\r\n        this.valid = false;\r\n        this.siteKey = options?.siteKey;\r\n        this.grecaptcha = null;\r\n\r\n        this.#sdk = new SDK();\r\n        this.events = new Events();\r\n    }\r\n\r\n    isEnabled (options) {\r\n        if (isMobile()) {\r\n            return !!options && options?.mobile !== false;\r\n        } else {\r\n            return !!options;\r\n        }\r\n    }\r\n\r\n    setOptions(options) {\r\n        if (options) {\r\n            this.options = options;\r\n            this.enabled = true;\r\n        }\r\n\r\n\r\n        return this;\r\n    }\r\n\r\n    async load() {\r\n        try {\r\n            if (!this.options) {\r\n                return false;\r\n            }\r\n\r\n            if (this.loaded) {\r\n                return true;\r\n            }\r\n\r\n            const recaptchaScripts = [\r\n                {\r\n                    url: `https://www.google.com/recaptcha/api.js`,\r\n                    id: 'recaptcha-script',\r\n                    defer: true,\r\n                    onload: () => {\r\n                        this.loaded = true;\r\n                        this.grecaptcha = window.grecaptcha;\r\n                        this.events.notify(EventsNames.RECAPTCHA_LOADED, true);\r\n\r\n                        Promise.resolve(true);\r\n                    }\r\n                },\r\n            ];\r\n\r\n            window.onRecaptchaAuth = this.#onRecaptchaAuth.bind(this);\r\n            this.#initReCaptchaPlaceholder();\r\n            this.hideBadge();\r\n\r\n            loadScripts(recaptchaScripts);\r\n        } catch (e) {\r\n            console.error(e);\r\n            return false;\r\n        }\r\n    }\r\n\r\n    #initReCaptchaPlaceholder() {\r\n        const reCaptchaPlaceholder = createElement('div');\r\n        reCaptchaPlaceholder.classList.add('g-recaptcha');\r\n        reCaptchaPlaceholder.dataset.sitekey = this.siteKey;\r\n        reCaptchaPlaceholder.dataset.size = 'invisible';\r\n        reCaptchaPlaceholder.dataset.callback = 'onRecaptchaAuth';\r\n\r\n        if (this.authentication.modal) {\r\n          this.authentication.modal.modalContent.appendChild(reCaptchaPlaceholder);\r\n        }\r\n    }\r\n\r\n    #onRecaptchaAuth(token) {\r\n        return this.#sdk.methods.validateReCaptchaToken(token).then(() => {\r\n            this.events.notify(EventsNames.local.RECAPTCHA_VALIDATION_SUCCESS);\r\n            this.valid = true;\r\n            this.authentication.modal.toggleLoader(false);\r\n        }).catch(() => {\r\n            this.valid = false;\r\n        }).finally(() => {\r\n            this.authentication.modal.toggleLoader(false);\r\n        })\r\n    }\r\n\r\n    hideBadge() {\r\n        const style = createElement('style');\r\n        style.innerText = `.grecaptcha-badge {\r\n                    visibility: hidden;\r\n                };`;\r\n        injectInHead(style);\r\n    }\r\n\r\n    resetProcess() {\r\n        if (this.grecaptcha) {\r\n            this.grecaptcha.reset();\r\n        }\r\n        this.authentication.firebase.reset();\r\n        this.authentication.modal.toggleLoader(false);\r\n    }\r\n\r\n    async initCaptchaProcess() {\r\n        try {\r\n            this.valid = false;\r\n\r\n            if (this.grecaptcha) {\r\n                this.grecaptcha.reset();\r\n            }\r\n\r\n            const handleCaptchaState = () => {\r\n                if (!this.valid) {\r\n                    this.events.notify(EventsNames.local.RECAPTCHA_VALIDATION_FAILED);\r\n                    this.authentication.firebase.reset();\r\n                    this.authentication.modal.toggleLoader(true);\r\n                }\r\n            }\r\n\r\n            const executeReCaptcha = () => {\r\n                this.authentication.modal.toggleLoader(true);\r\n                this.grecaptcha.ready(() => {\r\n                    this.grecaptcha.execute().then(() => {\r\n                        this.events.subscribe(EventsNames.local.MODAL_CLOSED,\r\n                            () => this.resetProcess(),\r\n                            { once: true });\r\n                    }).catch(() => this.resetProcess())\r\n                });\r\n            }\r\n\r\n            const initTriggers = () => {\r\n                executeReCaptcha();\r\n\r\n                const emailField = document.querySelector('.firebaseui-id-email');\r\n                const submitBtn = document.querySelector('.firebaseui-id-page-sign-in .firebaseui-id-submit');\r\n                const cancelBtn = document.querySelector('.firebaseui-id-page-sign-in .firebaseui-id-secondary-link');\r\n\r\n                if (emailField) {\r\n                    emailField.addEventListener('input', () => {\r\n                        handleCaptchaState();\r\n                    });\r\n\r\n                    emailField.addEventListener('keydown', (event) => {\r\n                        if (event.code && event.code === 'Enter') {\r\n                            handleCaptchaState();\r\n                        }\r\n                    });\r\n                }\r\n\r\n                if (cancelBtn) {\r\n                    cancelBtn.onclick = () => {\r\n                        handleCaptchaState();\r\n                    }\r\n                }\r\n\r\n                if (submitBtn) {\r\n                    submitBtn.onclick = () => {\r\n                        handleCaptchaState();\r\n                    }\r\n                }\r\n            }\r\n\r\n            const emailBtn = document.querySelector('.firebaseui-idp-button[data-provider-id=\"password\"]');\r\n            const emailField = document.querySelector('.firebaseui-id-email');\r\n\r\n            if (emailBtn) {\r\n                emailBtn.addEventListener('click', initTriggers.bind(this));\r\n            } else if (emailField) {\r\n                const submitBtn = document.querySelector('.firebaseui-id-page-sign-in .firebaseui-id-submit');\r\n                if (submitBtn) {\r\n                    submitBtn.onclick = () => {\r\n                        handleCaptchaState();\r\n                    }\r\n                }\r\n\r\n                emailField.addEventListener('input', () => {\r\n                    if (!this.valid) {\r\n                        emailField.blur();\r\n                        executeReCaptcha();\r\n                    }\r\n                });\r\n            }\r\n        } catch (error) {\r\n            this.authentication.firebase.reset();\r\n            console.error('error', error);\r\n        }\r\n    }\r\n\r\n    async init () {\r\n        try {\r\n            if (!this.options || this.loaded) {\r\n                return false;\r\n            }\r\n\r\n            if (this.options === true) {\r\n                const response = await this.#sdk.methods.getReCaptchaSettings()\r\n\r\n                if (response && response.active) {\r\n                    this.siteKey = response.recaptcha_public_key;\r\n\r\n                    return this.load();\r\n                }\r\n\r\n            } else {\r\n                return this.load();\r\n            }\r\n\r\n            return false;\r\n        } catch (error) {\r\n            console.error(error);\r\n            return false;\r\n        }\r\n    }\r\n}\r\n","import LocalStorage from '../../utils/local-storage';\r\nimport { removeCookie, setCookie } from \"../../utils/cookie\";\r\nimport localStorage from \"../../utils/local-storage\";\r\nimport { getParentDomain } from \"../../utils/url\";\r\n\r\nexport default class Token {\r\n    #slug;\r\n    #resource;\r\n    #domain;\r\n\r\n    constructor(slug, value, resource, subDomain) {\r\n        if (slug && resource) {\r\n            this.#resource = resource;\r\n            this.#domain = subDomain === true ? getParentDomain() : '';\r\n            this.#slug = this.createTokenSlug(slug, resource);\r\n\r\n            if (value) {\r\n                this.set(value);\r\n            } else {\r\n                this.token = this.getStoredTokenValue() || null;\r\n            }\r\n        }\r\n    }\r\n\r\n    createTokenSlug (slug, resource) {\r\n        return `${slug}_${resource}`;\r\n    }\r\n\r\n    get() {\r\n        return this.token;\r\n    }\r\n\r\n    getStoredTokenValue() {\r\n        return LocalStorage.getItem(this.#slug) || null;\r\n    }\r\n\r\n    remove() {\r\n        this.token = null;\r\n        removeCookie(this.#slug, this.#domain);\r\n        localStorage.removeItem(this.#slug);\r\n    }\r\n\r\n    set(value) {\r\n        this.token = value;\r\n        setCookie(this.#slug, value, {\r\n            expires: 'Fri, 31 Dec 9999 23:59:59 GMT',\r\n            path: \"/\",\r\n            domain: this.#domain,\r\n        });\r\n        localStorage.setItem(this.#slug, value);\r\n    }\r\n}\r\n","import { loadScripts } from \"../../../utils/loaders\";\r\nimport { insertScript, loadCSS, normalizeSelector } from \"../../../utils/DOM\";\r\nimport {\r\n    WALLKIT_FIREBASE_CONFIG,\r\n    WALLKIT_DEV_FIREBASE_CONFIG,\r\n    WALLKIT_FIREBASE_UI_PLACEHOLDER_ID,\r\n} from \"../../../configs/constants\";\r\nimport { Localization } from \"../../localization\";\r\nimport Events from \"../../events\";\r\nimport {\r\n    FIREBASE_INIT,\r\n    FIREBASE_LOADED,\r\n    FIREBASE_UI_SHOWN\r\n} from \"../../events/events-name\";\r\n\r\nexport default class Firebase {\r\n    #mode;\r\n\r\n    constructor(options) {\r\n        this.events = new Events();\r\n\r\n        this.firebaseUiConfig = null;\r\n        this.#mode = options?.mode;\r\n        this.lang = Localization.assembleLanguage(options.lang || 'en');\r\n        this.config = options?.config;\r\n        this.providers = options?.providers;\r\n        this.tosURL = options?.tosURL;\r\n        this.privacyPolicyURL = options?.privacyPolicyURL;\r\n        this.captchaKey = options?.captchaKey ?? '6LeNZrwbAAAAAKXPTmJj5KMdUwI2GE6XAUbCU6DM';\r\n        this.genuineForm = options?.genuineForm ?? true;\r\n\r\n        this.firebase = null;\r\n        this.firebaseui = null;\r\n        this.elementPlaceholder = this.#getElementPlaceholder(options);\r\n        this.onSuccessAuth = options?.onSuccessAuth ?? null;\r\n        this.onAuthStateChanged = options?.onAuthStateChanged ?? null;\r\n        this.uiShown = options?.uiShown ?? null;\r\n\r\n        this.isUiShown = false;\r\n        this.initialized = false;\r\n        this.loaded = false;\r\n    }\r\n\r\n    #getElementPlaceholder(options) {\r\n      const defaultPlaceholder = `#${WALLKIT_FIREBASE_UI_PLACEHOLDER_ID}`;\r\n\r\n      if (this.genuineForm) {\r\n        let selector = options?.elementSelector ?? defaultPlaceholder;\r\n        return normalizeSelector(selector);\r\n      }\r\n\r\n      return defaultPlaceholder;\r\n    }\r\n\r\n    get allowedProviders() {\r\n        return {\r\n            'google': this.firebase.auth.GoogleAuthProvider.PROVIDER_ID,\r\n            'email': this.firebase.auth.EmailAuthProvider.PROVIDER_ID,\r\n            'facebook': this.firebase.auth.FacebookAuthProvider.PROVIDER_ID,\r\n            'apple': 'apple.com',\r\n            'microsoft': 'microsoft.com'\r\n        }\r\n    };\r\n\r\n    hideAuthForm () {\r\n        const element = document.querySelector(this.elementPlaceholder);\r\n\r\n        if (element) {\r\n            element.style.display = 'none';\r\n        }\r\n    }\r\n\r\n    showAuthForm () {\r\n        const element = document.querySelector(this.elementPlaceholder);\r\n\r\n        if (element) {\r\n            element.style.display = 'block';\r\n        }\r\n    }\r\n\r\n    #loadFirebase() {\r\n        return new Promise((resolve, reject) => {\r\n            this.loading = true;\r\n            const onFirebaseAppLoaded = () => {\r\n                const scripts = [\r\n                    {\r\n                        url: 'https://www.gstatic.com/firebasejs/8.7.0/firebase-analytics.js',\r\n                        id: 'firebase-analytics',\r\n                        defer: true,\r\n                        onload: () => onScriptLoaded()\r\n                    },\r\n                    {\r\n                        url: 'https://www.gstatic.com/firebasejs/8.7.0/firebase-auth.js',\r\n                        id: 'firebase-auth',\r\n                        defer: true,\r\n                        onload: () => onScriptLoaded()\r\n                    },\r\n                    {\r\n                        url: 'https://www.gstatic.com/firebasejs/8.7.0/firebase-firestore.js',\r\n                        id: 'firebase-firestore',\r\n                        defer: true,\r\n                        onload: () => onScriptLoaded()\r\n                    },\r\n                    {\r\n                        url: `https://www.gstatic.com/firebasejs/ui/4.8.0/firebase-ui-auth__${this.lang}.js`,\r\n                        id: 'firebase-ui',\r\n                        defer: true,\r\n                        onload: () => onScriptLoaded()\r\n                    },\r\n                    {\r\n                        url: 'https://www.gstatic.com/firebasejs/8.7.0/firebase-app-check.js',\r\n                        id: 'firebase-app-check',\r\n                        defer: true,\r\n                        onload: () => onScriptLoaded()\r\n                    },\r\n                ];\r\n\r\n                let loadedCounter = 0;\r\n                const onScriptLoaded = () => {\r\n                    loadedCounter++;\r\n\r\n                    if (loadedCounter === scripts.length) {\r\n                        this.firebase = window.firebase;\r\n                        this.firebaseui = window.firebaseui;\r\n\r\n                        this.loaded = true;\r\n                        resolve({ firebase: window.firebase, firebaseui: window.firebaseui } )\r\n                    }\r\n                };\r\n\r\n                loadScripts(scripts);\r\n\r\n                loadCSS('https://www.gstatic.com/firebasejs/ui/4.8.0/firebase-ui-auth.css','firebase-ui-styles');\r\n            };\r\n\r\n            insertScript('https://www.gstatic.com/firebasejs/8.7.0/firebase-app.js','firebase-app', onFirebaseAppLoaded);\r\n        });\r\n    }\r\n\r\n    formatSelectedProviders(providers) {\r\n        let selectedProviders = [];\r\n        if (Array.isArray(providers)) {\r\n            selectedProviders = providers.map((item) => {\r\n                if ((item === 'email' || item.provider === 'email') && this.genuineForm === false) {\r\n                    return false;\r\n                }\r\n\r\n                if (typeof item === \"object\") {\r\n                    if (this.allowedProviders[item.provider]) {\r\n                        return {\r\n                            ...item,\r\n                            provider: this.allowedProviders[item.provider]\r\n                        }\r\n                    }\r\n                } else {\r\n                    if (this.allowedProviders[item]) {\r\n                        return this.allowedProviders[item];\r\n                    }\r\n                }\r\n            }).filter((item) => !!item);\r\n        }\r\n\r\n        return selectedProviders;\r\n    }\r\n\r\n    #authStateChanged(user) {\r\n        if (user) {\r\n            user.getIdToken().then((token) => {\r\n                if (this.onAuthStateChanged) {\r\n                    this.onAuthStateChanged(token);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    #firebaseInitApp(config) {\r\n        if (this.firebase.apps.length === 0) {\r\n            const defaultConfig = this.#mode === 'dev' ? WALLKIT_DEV_FIREBASE_CONFIG : WALLKIT_FIREBASE_CONFIG;\r\n            this.firebase.initializeApp(config ?? defaultConfig);\r\n        }\r\n\r\n        return this.firebase;\r\n    }\r\n\r\n    async initFirebase({\r\n       config,\r\n       providers = ['email', 'google'],\r\n       tosUrl = 'https://wallkit.net',\r\n       privacyPolicyUrl = 'https://wallkit.net'\r\n    }) {\r\n\r\n        this.#firebaseInitApp(config);\r\n\r\n        const firebaseuiInstance = new this.firebaseui.auth.AuthUI(this.firebase.auth());\r\n        firebaseuiInstance.disableAutoSignIn();\r\n\r\n        this.firebaseUiConfig = {\r\n            callbacks: {\r\n                signInSuccessWithAuthResult: (result) => {\r\n                    result.user.getIdToken().then((token) => {\r\n                        const formattedResult = {\r\n                            user: result.user,\r\n                            userId: result.user.uid,\r\n                            token: token\r\n                        }\r\n\r\n                        if (this.onSuccessAuth) {\r\n                            this.onSuccessAuth(formattedResult, result);\r\n                        }\r\n                    });\r\n                },\r\n                uiShown: () => {\r\n                    if (this.uiShown) {\r\n                        this.uiShown();\r\n                    }\r\n                    this.events.notify(FIREBASE_UI_SHOWN, true);\r\n                    this.isUiShown = true;\r\n                }\r\n            },\r\n            signInFlow: 'popup',\r\n            signInOptions: this.formatSelectedProviders(providers),\r\n            credentialHelper: this.firebaseui.auth.CredentialHelper.GOOGLE_YOLO,\r\n            tosUrl,\r\n            privacyPolicyUrl\r\n        };\r\n\r\n        this.firebaseui = firebaseuiInstance;\r\n        this.startFirebaseUi(this.elementPlaceholder, this.firebaseUiConfig);\r\n\r\n        this.firebase.auth().onAuthStateChanged(this.#authStateChanged.bind(this));\r\n\r\n        return true;\r\n    }\r\n\r\n    reset() {\r\n        if (this.firebaseui) {\r\n            this.firebaseui.reset();\r\n            this.firebaseui.start(this.elementPlaceholder);\r\n        }\r\n    }\r\n\r\n    startFirebaseUi(elementPlaceholder, uiConfig) {\r\n        this.firebaseui.start(elementPlaceholder || this.elementPlaceholder, uiConfig || this.firebaseUiConfig);\r\n    }\r\n\r\n    logout() {\r\n        return new Promise((resolve) => {\r\n            if (this.firebase && this.firebase.auth) {\r\n                this.firebase.auth().signOut().then(() => resolve(true));\r\n            } else {\r\n                resolve(false);\r\n            }\r\n        });\r\n    }\r\n\r\n    signIn (email, password) {\r\n        return this.firebase.auth().signInWithEmailAndPassword(email, password)\r\n            .then((result) => this.handleSuccessAuth(result));\r\n    }\r\n\r\n    signUp (email, password) {\r\n        return this.firebase.auth().createUserWithEmailAndPassword(email, password)\r\n            .then((result) => this.handleSuccessAuth(result));\r\n    }\r\n\r\n    updateName (name) {\r\n      if (name) {\r\n        const user = this.firebase.auth().currentUser;\r\n\r\n        if (user) {\r\n          user.updateProfile({\r\n            displayName: name\r\n          });\r\n        }\r\n      }\r\n    }\r\n\r\n    async handleSuccessAuth (result) {\r\n        try {\r\n            if (result) {\r\n                const token = await result.user.getIdToken();\r\n\r\n                const formattedResult = {\r\n                    operationType: result.operationType,\r\n                    user: result.user,\r\n                    userId: result.user.uid,\r\n                    token: token\r\n                }\r\n\r\n                if (this.onSuccessAuth) {\r\n                    this.onSuccessAuth(formattedResult, result);\r\n                }\r\n            }\r\n        } catch (e) {\r\n            console.log('ERROR:', e);\r\n        }\r\n    }\r\n\r\n    sendPasswordResetEmail(email) {\r\n        return this.firebase.auth().sendPasswordResetEmail(email);\r\n    }\r\n\r\n    async sendNewPasswordResetPassword(password, oobCode) {\r\n        if (!password) {\r\n            throw new Error(\"The password cannot be empty of false.\");\r\n        }\r\n        if (!oobCode) {\r\n            throw new Error(\"Invalid values in the password reset url.\");\r\n        }\r\n\r\n        const passResetUrl = `https://identitytoolkit.googleapis.com/v1/accounts:resetPassword?key=${this.config.apiKey}`\r\n        return await fetch(passResetUrl,\r\n            {\r\n                method: 'POST',\r\n                body: JSON.stringify({\r\n                    oobCode: oobCode,\r\n                    newPassword: password\r\n                }),\r\n                headers: { \"Content-Type\": \"application/json\" }\r\n        }).then(async (res) => {\r\n            const resJson = await res.json();\r\n            if (!!resJson.error && !!resJson.error.message) {\r\n                switch (resJson.error.message) {\r\n                    case 'OPERATION_NOT_ALLOWED':\r\n                        throw new Error(\"Password sign-in is disabled for this project.\");\r\n                    case 'EXPIRED_OOB_CODE':\r\n                        throw new Error(\"The password reset link has expired.\");\r\n                    case 'INVALID_OOB_CODE':\r\n                        throw new Error(\"The password reset link is invalid. This can happen if the code is malformed, expired, or has already been used. Please generate a new one using the Forgot password form.\");\r\n                    case 'USER_DISABLED':\r\n                        throw new Error(\"The user account has been disabled by an administrator.\");\r\n                    default :\r\n                        throw new Error(resJson.error.message);\r\n                }\r\n            } else {\r\n                return true;\r\n            }\r\n        }).catch((error) => {\r\n            throw error;\r\n        });\r\n    }\r\n\r\n    async reauthenticateWithCredential (oldPassword) {\r\n        if (!!oldPassword) {\r\n            const user = this.firebase.auth().currentUser;\r\n            if (user) {\r\n                const credential = this.firebase.auth.EmailAuthProvider.credential(\r\n                    user.email,\r\n                    oldPassword\r\n                );\r\n                return await user.reauthenticateWithCredential(credential);\r\n            } else {\r\n                throw new Error('Your authorization is broken. Please login again.');\r\n            }\r\n        } else {\r\n            throw new Error('Old Password is empty');\r\n        }\r\n    }\r\n\r\n    async updatePassword (newPassword) {\r\n        if (!!newPassword) {\r\n            const user = this.firebase.auth().currentUser;\r\n            if (user) {\r\n                await user.updatePassword(newPassword);\r\n            } else {\r\n                throw new Error('Your authorization is broken. Please login again.');\r\n            }\r\n        } else {\r\n            throw new Error('New Password is empty');\r\n        }\r\n    }\r\n\r\n    async authWithCustomToken(token) {\r\n        try {\r\n            if (this.firebase && this.firebase.auth) {\r\n                return await this.firebase.auth().signInWithCustomToken(token);\r\n            }\r\n\r\n            return false;\r\n        } catch (error) {\r\n            console.error('Custom Token Auth Fail');\r\n            return false;\r\n        }\r\n    }\r\n\r\n    attachEmailListener (callback) {\r\n        const emailBtn = document.querySelector('.firebaseui-idp-button[data-provider-id=\"password\"]');\r\n\r\n        const attachListener = () => {\r\n            const emailField = document.querySelector('.firebaseui-id-email');\r\n\r\n            if (emailField) {\r\n                emailField.addEventListener('blur', (event) => {\r\n                    callback(event);\r\n                });\r\n            }\r\n        }\r\n\r\n        if (emailBtn) {\r\n            emailBtn.addEventListener('click', () => {\r\n                setTimeout(() => {\r\n                    attachListener();\r\n                });\r\n            })\r\n        } else {\r\n            attachListener();\r\n        }\r\n    }\r\n\r\n    init() {\r\n        this.#loadFirebase().then(() => {\r\n            this.events.notify(FIREBASE_LOADED, true)\r\n\r\n            this.initFirebase({\r\n                config: this.config,\r\n                providers: this.providers,\r\n                tosUrl: this.tosURL,\r\n                privacyPolicyUrl: this.privacyPolicyURL\r\n            }).then(() => {\r\n                this.initialized = true;\r\n                this.events.notify(FIREBASE_INIT, true)\r\n            });\r\n        });\r\n    }\r\n}\r\n","import Modal from '../modal';\r\nimport Firebase from \"./firebase/Firebase\";\r\nimport {\r\n  WALLKIT_FIREBASE_UI_PLACEHOLDER_ID,\r\n  WALLKIT_FIREBASE_WK_FORM_PLACEHOLDER_ID,\r\n  WALLKIT_TOKEN_NAME,\r\n  FIREBASE_TOKEN_NAME,\r\n  WALLKIT_AUTH_FORM_PLACEHOLDER_ID, WALLKIT_POPUP_DEV_URL\r\n} from \"../../configs/constants\";\r\nimport EventsNames, { FIREBASE_INIT, FIREBASE_LOADED, FIREBASE_UI_SHOWN, PRE_SIGN_IN } from \"../events/events-name\";\r\nimport Events from \"../events\";\r\nimport Frame from \"../frame\";\r\nimport SDK from \"../sdk\";\r\nimport Token from \"./Token\";\r\nimport ReCaptcha from \"./ReCaptcha\";\r\nimport { AuthForm, RESET_PASSWORD_FORM_SLUG } from \"../form/forms/AuthForm\";\r\nimport { normalizeSelector } from \"../../utils/DOM\";\r\nimport { parseResetPasswordOobCodeHash, resetHash } from \"../../utils/url\";\r\nimport { Confirmation } from \"./Confirmation\";\r\n\r\nexport default class Authentication {\r\n    #options;\r\n    #oobCode='';\r\n\r\n    constructor(options) {\r\n        if (!!Authentication.instance) {\r\n            return Authentication.instance;\r\n        }\r\n\r\n        Authentication.instance = this;\r\n\r\n        this.#options = options;\r\n\r\n        this.token = new Token(WALLKIT_TOKEN_NAME, null, options.public_key, !!options?.cookies?.subDomain);\r\n        this.firebaseToken = new Token(FIREBASE_TOKEN_NAME, null, options.public_key, !!options?.cookies?.subDomain);\r\n\r\n        this.frame = new Frame();\r\n        this.sdk = new SDK();\r\n\r\n        if (!!options?.firebase) {\r\n            let config = {\r\n                lang: options.lang || 'en',\r\n                mode: options.mode,\r\n                onAuthStateChanged: this.updateFirebaseToken.bind(this),\r\n                onSuccessAuth: this.onSuccessAuth.bind(this),\r\n                uiShown: this.onFirebaseInit.bind(this),\r\n                onAuthFail: this.onFirebaseAuthFail.bind(this)\r\n            }\r\n\r\n            if (typeof options.firebase === \"object\") {\r\n                config = {\r\n                    ...config,\r\n                    ...options.firebase\r\n                }\r\n\r\n                if (options.firebase.genuineForm === false) {\r\n                    config.tosURL = '';\r\n                    config.privacyPolicyURL = '';\r\n                }\r\n            }\r\n\r\n            this.firebase = new Firebase(config);\r\n\r\n            if (options.firebase.genuineForm === false) {\r\n                this.initAuthForm();\r\n            }\r\n        }\r\n\r\n        this.reCaptcha = new ReCaptcha(this, options?.reCaptcha);\r\n        this.reCaptcha.events.subscribe(EventsNames.local.RECAPTCHA_VALIDATION_FAILED, () => {\r\n            this.#setAuthorizationError('ReCaptcha Validation Failed! Please try again!');\r\n        });\r\n        this.reCaptcha.events.subscribe(EventsNames.local.RECAPTCHA_VALIDATION_SUCCESS, () => {\r\n            this.#resetAuthorizationError();\r\n        });\r\n\r\n        this.events = new Events();\r\n        this.confirmation = new Confirmation();\r\n    }\r\n\r\n    get #authPlaceholderElementSelector() {\r\n        let selector = this.#options?.auth?.firebase?.elementSelector ?? `#${WALLKIT_AUTH_FORM_PLACEHOLDER_ID}`;\r\n        return normalizeSelector(selector);\r\n    }\r\n\r\n    get #authPlaceholderElementSelectorType() {\r\n        switch (this.#authPlaceholderElementSelector.charAt(0)) {\r\n            case '#':\r\n                return 'id'\r\n            case '.':\r\n                return 'class'\r\n        }\r\n        return 'id';\r\n    }\r\n\r\n    isAuthenticated() {\r\n        if (this.sdk) {\r\n            return this.sdk.methods.isAuthenticated();\r\n        } else {\r\n            return !!this.token.get();\r\n        }\r\n    }\r\n\r\n    toggleFormLoader(state) {\r\n        if (this.modal) {\r\n            this.modal.toggleLoader(state);\r\n        }\r\n    }\r\n\r\n    handleLogin (data) {\r\n      this.firebase.signIn(data.email, data.password)\r\n        .then(() => {})\r\n        .catch((error) => {\r\n          if (error.message) {\r\n            this.authForm.loginForm.setFormError(error.message);\r\n          }\r\n          this.reCaptcha.grecaptcha.reset();\r\n        });\r\n    }\r\n\r\n    handleSignUp (data) {\r\n      this.firebase.signUp(data.email, data.password)\r\n        .then(() => {\r\n          this.firebase.updateName(data.name);\r\n        })\r\n        .catch((error) => {\r\n          if (error.message) {\r\n            this.authForm.signUpForm.setFormError(error.message);\r\n          }\r\n          this.reCaptcha.grecaptcha.reset();\r\n        });\r\n    }\r\n\r\n    executeRecaptcha () {\r\n      this.reCaptcha.grecaptcha.ready(() => {\r\n        this.reCaptcha.grecaptcha.execute().then(() => {\r\n          this.modal.toggleLoader(true);\r\n        }).catch((error) => {\r\n          console.log('EXECUTE RECAPTCHA ERROR:', error);\r\n        });\r\n      })\r\n    }\r\n\r\n    initAuthForm () {\r\n        const { tosURL, privacyPolicyURL, termsOfService } = this.#options.firebase;\r\n\r\n        this.authForm = new AuthForm(`#${WALLKIT_FIREBASE_WK_FORM_PLACEHOLDER_ID}`, {\r\n            triggerButton: this.firebase.providers.length > 1,\r\n            signUp: this.#options.auth.signUp ?? true,\r\n            termsOfService: { tosURL, privacyPolicyURL, termsOfService },\r\n            defaultForm: this.#options.auth.defaultForm || false,\r\n            authProviders: this.firebase.providers || false,\r\n            customizeAuthForms: this.#options.auth.forms || false,\r\n            onLogin: async (data) => {\r\n              const proceed = await this.events.preventiveEvent(PRE_SIGN_IN, data);\r\n\r\n              if (!proceed) {\r\n                return;\r\n              }\r\n\r\n              if (this.reCaptcha.enabled) {\r\n                this.executeRecaptcha();\r\n\r\n                this.reCaptcha.events.subscribe(\r\n                  EventsNames.local.RECAPTCHA_VALIDATION_SUCCESS,\r\n                  this.handleLogin.bind(this, data),\r\n                  { once: true }\r\n                );\r\n              } else {\r\n                this.handleLogin(data);\r\n              }\r\n            },\r\n            onSignUp: (data) => {\r\n              if (this.reCaptcha.enabled) {\r\n                this.executeRecaptcha();\r\n\r\n                this.reCaptcha.events.subscribe(\r\n                  EventsNames.local.RECAPTCHA_VALIDATION_SUCCESS,\r\n                  this.handleSignUp.bind(this, data),\r\n                  { once: true }\r\n                );\r\n              } else {\r\n                this.handleSignUp(data);\r\n              }\r\n            },\r\n            onPasswordForgot: async (data) => {\r\n              try {\r\n                this.toggleFormLoader(true);\r\n\r\n                let success;\r\n                if (this.#options.firebase.genuinePasswordReset === false) {\r\n                  const { result } = await this.sdk.methods.firebasePasswordReset(data.email);\r\n                  success = result;\r\n                } else {\r\n                  await this.firebase.sendPasswordResetEmail(data.email);\r\n                  success = true;\r\n                }\r\n\r\n                if (success) {\r\n                  this.authForm.showSuccessPasswordForgot();\r\n                } else {\r\n                  throw new Error('Something went wrong');\r\n                }\r\n\r\n                this.toggleFormLoader(false);\r\n              } catch (error) {\r\n                if (error.message) {\r\n                    this.authForm.forgotPasswordForm.setFormError(error.message);\r\n                }\r\n                this.toggleFormLoader(false);\r\n              }\r\n            },\r\n            onPasswordReset: async (data) => {\r\n                try {\r\n                    this.toggleFormLoader(true);\r\n\r\n                    let success;\r\n\r\n                    success = await this.firebase.sendNewPasswordResetPassword(data.new_password, this.#oobCode)\r\n\r\n                    if (success) {\r\n                        this.authForm.showSuccessPasswordReset();\r\n                    } else {\r\n                        this.authForm.resetPasswordForm.setFormError(\"Something went wrong\");\r\n                    }\r\n\r\n                    this.toggleFormLoader(false);\r\n                } catch (error) {\r\n                    if (error.message) {\r\n                        this.authForm.resetPasswordForm.setFormError(error.message);\r\n                    }\r\n                    this.toggleFormLoader(false);\r\n                }\r\n            },\r\n            onAuthFormShow: () => {\r\n                this.firebase.hideAuthForm();\r\n            },\r\n            onCancel: () => {\r\n                this.firebase.showAuthForm();\r\n                this.authForm.reset();\r\n            }\r\n        });\r\n    }\r\n\r\n    onSuccessAuth(data) {\r\n        this.toggleFormLoader(true);\r\n\r\n        const handleAuthError = (error) => {\r\n            this.resetAuthProcess(false);\r\n            this.toggleFormLoader(false);\r\n            this.#setAuthorizationError(error?.message || 'Something went wrong!');\r\n        }\r\n\r\n        this.updateFirebaseToken(data.token);\r\n        this.events.notify(EventsNames.local.SUCCESS_FIREBASE_AUTH, data);\r\n        this.authInWallkit(data.token)\r\n            .then((status) => {\r\n                if (status) {\r\n                    this.modal.hide();\r\n                    if (this.authForm) {\r\n                        this.authForm.hide();\r\n                    }\r\n                } else {\r\n                    handleAuthError();\r\n                }\r\n\r\n                this.toggleFormLoader(false);\r\n            }).catch((error) => handleAuthError(error));\r\n    }\r\n\r\n    async authInWallkit(firebaseToken = null) {\r\n        this.#resetAuthorizationError();\r\n        if (!firebaseToken) {\r\n            throw new Error('Your authorization is broken. Please login again.');\r\n        }\r\n        try {\r\n            const response = await this.sdk.methods.authenticateWithFirebase(firebaseToken);\r\n            this.setToken(response.token);\r\n            return await new Promise((resolve, reject) => {\r\n                const userGetTimeout = setTimeout(() => {\r\n                    resolve(false);\r\n                }, 10000);\r\n                const userEventCallback = () => {\r\n                    clearTimeout(userGetTimeout);\r\n                    this.sdk.methods.unsubscribeLocalEvent('user', userEventCallback);\r\n                    this.events.notify(EventsNames.local.SUCCESS_AUTH, {register: !response.existed});\r\n                    resolve(true);\r\n                };\r\n                this.sdk.methods.subscribeLocalEvent('user', userEventCallback);\r\n            });\r\n        } catch (error) {\r\n            console.log('error', error);\r\n            this.removeTokens();\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    getDefaultAuthenticationFormContent () {\r\n        return `<div>\r\n                    <div id=\"authorization-error\"></div>\r\n                    <h2 class=\"wallkit-auth-modal__title\">${this.#options?.modalTitle ?? 'Sign In'}</h2>\r\n                    <div ${this.#authPlaceholderElementSelectorType}=\"${this.#authPlaceholderElementSelector.substring(1)}\"></div>\r\n                </div>`;\r\n    }\r\n\r\n    attachFormPlaceholders (selector = this.#authPlaceholderElementSelector) {\r\n      const placeholders = `<div id=\"${WALLKIT_FIREBASE_WK_FORM_PLACEHOLDER_ID}\"></div>\r\n                            <div id=\"${WALLKIT_FIREBASE_UI_PLACEHOLDER_ID}\"></div>`\r\n\r\n      const targetElement = document.querySelector(selector);\r\n\r\n      if (targetElement) {\r\n        targetElement.innerHTML = placeholders;\r\n      }\r\n    }\r\n\r\n    render () {\r\n        if (this.#options.auth.renderType === 'selector') {\r\n            const placeholder = document.querySelector(this.#options.auth.selector);\r\n\r\n            if (placeholder) {\r\n                placeholder.insertAdjacentHTML('beforeend', this.#options?.content || this.getDefaultAuthenticationFormContent());\r\n            }\r\n        } else {\r\n            this.modal = this.#createModal();\r\n            this.modal.init();\r\n        }\r\n\r\n        this.attachFormPlaceholders();\r\n    }\r\n\r\n    #createModal() {\r\n        return new Modal({\r\n            modalName: 'auth-modal',\r\n            content: this.#options?.content || this.getDefaultAuthenticationFormContent(),\r\n            className: 'wallkit-auth-modal',\r\n            initialLoader: true\r\n        });\r\n    }\r\n\r\n    async show(authFormSlug) {\r\n        if (this.#options.firebase.genuineForm === false) {\r\n            if (this.authForm) {\r\n                this.authForm.defaultForm = authFormSlug;\r\n                if (!this.authForm.triggerButton || !this.authForm.triggerButton.isVisible) {\r\n                    this.authForm.showDefaultForm();\r\n                }\r\n            }\r\n        }\r\n        this.modal.show();\r\n\r\n        if (!this.firebase.isUiShown) {\r\n            this.checkFirebaseInit();\r\n        }\r\n    }\r\n\r\n    checkFirebaseInit() {\r\n        if (!this.firebase.loaded) {\r\n            this.firebase.events.subscribe(FIREBASE_LOADED, () => this.checkFirebaseInit(), { once: true });\r\n        } else {\r\n            if (!this.firebase.initialized) {\r\n                this.firebase.events.subscribe(FIREBASE_INIT, () => this.checkFirebaseInit(), { once: true });\r\n            } else {\r\n                let shownTimeout = null;\r\n                if (!this.firebase.isUiShown) {\r\n                    shownTimeout = setTimeout(() => {\r\n                        this.firebase.startFirebaseUi();\r\n                        this.checkFirebaseInit();\r\n                    }, 2000);\r\n\r\n                    this.firebase.events.subscribe(FIREBASE_UI_SHOWN, () => {\r\n                        if (shownTimeout) {\r\n                            clearTimeout(shownTimeout);\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    updateFirebaseToken(token) {\r\n        this.firebaseToken.set(token);\r\n        this.frame.sendEvent(EventsNames.wallkit.WALLKIT_EVENT_FIREBASE_TOKEN, token);\r\n        this.sdk.methods.setFirebaseToken(token);\r\n    }\r\n\r\n    onFirebaseInit() {\r\n        try {\r\n          if (this.#options.firebase.genuineForm !== false) {\r\n            if (this.reCaptcha.enabled && this.reCaptcha.loaded) {\r\n              this.reCaptcha.initCaptchaProcess();\r\n            } else if (!this.reCaptcha.loaded) {\r\n              this.events.subscribe(EventsNames.local.RECAPTCHA_LOADED, () => {\r\n                this.reCaptcha.initCaptchaProcess();\r\n              }, {once: true});\r\n            }\r\n          } else if (this.authForm?.triggerButton){\r\n              this.authForm.triggerButton.events.notify(FIREBASE_UI_SHOWN, true);\r\n          }\r\n\r\n          this.toggleFormLoader(false);\r\n        } catch (e) {\r\n          this.toggleFormLoader(false);\r\n        }\r\n    }\r\n\r\n    removeToken() {\r\n        this.token.remove();\r\n    }\r\n\r\n    removeFirebaseToken() {\r\n        this.firebaseToken.remove();\r\n    }\r\n\r\n    removeTokens() {\r\n        this.removeToken();\r\n        this.removeFirebaseToken();\r\n    }\r\n\r\n    setToken(token) {\r\n      this.token.set(token);\r\n      this.sdk.methods.setToken(token);\r\n    }\r\n\r\n    #initListeners() {\r\n\r\n        this.events.subscribe(EventsNames.local.FRAME_MESSAGE, ({ name, value }) => {\r\n            switch (name) {\r\n                case EventsNames.wallkit.WALLKIT_EVENT_TOKEN:\r\n                    if (value) {\r\n                        this.setToken(value);\r\n                    }\r\n                    break;\r\n                case EventsNames.wallkit.WALLKIT_EVENT_AUTH:\r\n                case EventsNames.wallkit.WALLKIT_EVENT_REGISTRATION:\r\n                case EventsNames.wallkit.WALLKIT_EVENT_GET_TOKEN:\r\n                    if (value) {\r\n                        let token = value.token;\r\n                        this.setToken(token);\r\n                    }\r\n                    break;\r\n                case EventsNames.wallkit.WALLKIT_FIREBASE_TOKEN:\r\n                    this.firebaseToken.set(value);\r\n                    if (this.sdk) {\r\n                        this.sdk.methods.setFirebaseToken(value);\r\n                    }\r\n                    break;\r\n                case EventsNames.wallkit.WALLKIT_EVENT_FIREBASE_CUSTOM_TOKEN:\r\n                    if (value) {\r\n                        this.firebase.authWithCustomToken(value);\r\n                    }\r\n                    break;\r\n                case EventsNames.wallkit.WALLKIT_LOGOUT:\r\n                    this.logout();\r\n                    break;\r\n            }\r\n        });\r\n    }\r\n\r\n    resetAuthProcess (reset = true) {\r\n      this.firebase.reset();\r\n      this.firebase.showAuthForm();\r\n\r\n      if (this.firebase.genuineForm === false && reset) {\r\n        this.authForm.reset();\r\n      }\r\n\r\n      if (this.reCaptcha.enabled) {\r\n        this.reCaptcha.grecaptcha.reset();\r\n      }\r\n    }\r\n\r\n    async logout() {\r\n      try {\r\n        this.removeToken();\r\n        const success = await this.firebase.logout();\r\n\r\n        if (success) {\r\n          this.removeFirebaseToken();\r\n\r\n          if (this.reCaptcha.enabled && !this.reCaptcha.loaded) {\r\n            await this.reCaptcha.init();\r\n          } else if (this.reCaptcha.loaded) {\r\n            this.resetAuthProcess();\r\n            this.reCaptcha.grecaptcha.reset();\r\n\r\n            if (this.#options.firebase.genuineForm !== false) {\r\n              this.reCaptcha.initCaptchaProcess();\r\n            }\r\n          }\r\n\r\n          if (this.isAuthenticated()) {\r\n            await this.sdk.methods.logout();\r\n            this.events.notify(EventsNames.local.LOGOUT, true);\r\n          } else if (this.token.get() || this.firebaseToken.get()) {\r\n            this.frame.sendEvent(EventsNames.wallkit.WALLKIT_LOGOUT, true);\r\n            this.events.notify(EventsNames.local.LOGOUT, true);\r\n          }\r\n        }\r\n\r\n        this.resetAuthProcess();\r\n      } catch (e) {\r\n        console.log('ERROR:', e);\r\n        this.resetAuthProcess();\r\n      }\r\n    }\r\n\r\n    dispatchTokens() {\r\n        if (this.isAuthenticated()) {\r\n           this.dispatchWallkitToken();\r\n           this.dispatchFirebaseToken();\r\n        }\r\n    }\r\n\r\n    dispatchWallkitToken() {\r\n        const token = this.token.get();\r\n        if (token) {\r\n            this.frame.sendEvent(EventsNames.wallkit.WALLKIT_EVENT_TOKEN, token);\r\n        }\r\n    }\r\n\r\n    dispatchFirebaseToken() {\r\n        const token = this.firebaseToken.get();\r\n        if (token) {\r\n            this.frame.sendEvent(EventsNames.wallkit.WALLKIT_EVENT_FIREBASE_TOKEN, token);\r\n        }\r\n    }\r\n\r\n    async handleTicketsToken(ticketPassAuthToken) {\r\n        try {\r\n            const response = await this.sdk.methods.getAuthTokensByTicketPassToken(ticketPassAuthToken);\r\n\r\n            if (response) {\r\n                const userCredential = await this.firebase.authWithCustomToken(response.firebase_custom_token);\r\n                const firebaseToken = await userCredential.user.getIdToken();\r\n\r\n                this.updateFirebaseToken(firebaseToken);\r\n                this.setToken(response.token);\r\n\r\n                await this.sdk.methods.getUser();\r\n                this.dispatchTokens();\r\n\r\n                this.events.notify(EventsNames.local.SUCCESS_AUTH, true);\r\n                this.events.notify(EventsNames.local.TICKETS_TOKEN_AUTH_SUCCESS, true);\r\n\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        } catch (error) {\r\n            console.error(error);\r\n            return error;\r\n        }\r\n    }\r\n\r\n    async handleExternalAuthProvider(externalUserId) {\r\n        try {\r\n            if (!externalUserId) {\r\n                return false;\r\n            }\r\n\r\n            const response = await this.sdk.methods.getAuthTokensByExternalUserId(externalUserId);\r\n            if (!response) {\r\n                return false;\r\n            }\r\n\r\n            const userCredential = await this.firebase.authWithCustomToken(response.firebase_custom_token);\r\n            const firebaseToken = await userCredential.user.getIdToken();\r\n\r\n            if (!response.token || !firebaseToken) {\r\n                return false;\r\n            }\r\n\r\n            this.updateFirebaseToken(firebaseToken);\r\n            this.setToken(response.token);\r\n\r\n            await this.sdk.methods.getUser();\r\n            this.dispatchTokens();\r\n\r\n            this.events.notify(EventsNames.local.SUCCESS_AUTH, true);\r\n            this.events.notify(EventsNames.local.EXTERNAL_PROVIDER_TOKEN_AUTH_SUCCESS, true);\r\n\r\n            return true;\r\n\r\n        } catch (error) {\r\n            console.error(error);\r\n            return error;\r\n        }\r\n    }\r\n\r\n    #setAuthorizationError(error) {\r\n        if (this.authForm) {\r\n            this.authForm.handleError(error);\r\n        } else {\r\n            const errorPlaceholder = document.getElementById('authorization-error');\r\n            if (errorPlaceholder) {\r\n                if (error === null) {\r\n                    errorPlaceholder.innerHTML = '';\r\n                } else {\r\n                    errorPlaceholder.innerHTML = error || 'Something went wrong!';\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    #resetAuthorizationError() {\r\n        this.#setAuthorizationError(null);\r\n    }\r\n\r\n    onFirebaseAuthFail(error) {\r\n        this.toggleFormLoader(false);\r\n    }\r\n\r\n    handleOneTapResponse({ credential }) {\r\n        this.frame.sendEvent(EventsNames.wallkit.WALLKIT_EVENT_ONE_TAP_SIGN_IN, credential);\r\n    }\r\n\r\n    #checkIfResetPasswordURL() {\r\n        const oobCode = parseResetPasswordOobCodeHash();\r\n        if (oobCode) {\r\n            this.#oobCode = oobCode;\r\n            if (this.authForm.triggerButton) {\r\n                this.authForm.triggerButton.hide();\r\n            }\r\n            this.firebase.hideAuthForm();\r\n            this.authForm.showForm(RESET_PASSWORD_FORM_SLUG);\r\n            this.modal.show();\r\n            resetHash();\r\n        }\r\n    }\r\n\r\n    init() {\r\n        if (!!this.#options?.firebase) {\r\n            // Render recaptcha before the firebase init if not custom FB form\r\n            if (this.#options.firebase.genuineForm !== false) {\r\n              if (this.reCaptcha.enabled) {\r\n                if (!this.isAuthenticated()) {\r\n                  this.reCaptcha.init();\r\n                }\r\n              }\r\n            }\r\n\r\n            this.render();\r\n            this.firebase.init();\r\n\r\n            if (this.authForm) {\r\n              this.authForm.render();\r\n              this.reCaptcha.init();\r\n            }\r\n        }\r\n        this.#initListeners();\r\n        this.#checkIfResetPasswordURL();\r\n    }\r\n}\r\n","import Events from \"../events\";\r\nimport EventsNames from \"../events/events-name\";\r\nimport SDK from \"../sdk\";\r\n\r\nexport default class Call {\r\n    #popup;\r\n    #config;\r\n    #events;\r\n    #sdk;\r\n    #classForHandleClick;\r\n    #classThatReactOnTheUsersStatus;\r\n    #classThatReactOnTheUsersPlans;\r\n    #classThatReactOnTheUsersEvents;\r\n\r\n    constructor(popup, config) {\r\n        this.#popup = popup;\r\n        this.#config = config;\r\n        this.#events = new Events();\r\n        this.#sdk = new SDK();\r\n        this.#classForHandleClick = config?.call?.classForHandleClick ?? 'wk-call';\r\n        this.#classThatReactOnTheUsersStatus = config?.call?.classThatReactOnTheUsersStatus ?? 'wk-call-status-user';\r\n        this.#classThatReactOnTheUsersPlans = config?.call?.classThatReactOnTheUsersPlans ?? 'wk-call-status-plans';\r\n        this.#classThatReactOnTheUsersEvents = config?.call?.classThatReactOnTheUsersEvents ?? 'wk-call-status-events';\r\n    }\r\n\r\n    #isDebug() {\r\n        return !!this.#config?.call?.debug;\r\n    }\r\n\r\n    #initWkListeners() {\r\n        this.#events.subscribe(EventsNames.local.FRAME_MESSAGE, ({name, _}) => {\r\n            switch (name) {\r\n                case EventsNames.wallkit.WALLKIT_LOGOUT:\r\n                    this.setAllDataWkStatusesInDOMElements();\r\n                    this.#setDataWkHasAccessInBody(false);\r\n                    break;\r\n                case EventsNames.wallkit.WALLKIT_EVENT_USER:\r\n                    this.getWallkitUserData();\r\n                    break;\r\n            }\r\n        });\r\n\r\n        this.#events.subscribe(EventsNames.local.SUCCESS_AUTH, (value) => {\r\n            if (this.#isDebug()) {\r\n                console.log('subscribe ventsNames.local.SUCCESS_AUTH', value);\r\n            }\r\n            this.getWallkitUserData();\r\n        });\r\n\r\n        this.#events.subscribe(EventsNames.local.CHECK_USER_ACCESS, (value) => {\r\n            if (this.#isDebug()) {\r\n                console.log('subscribe ventsNames.local.CHECK_USER_ACCESS', value);\r\n            }\r\n            this.#setDataWkHasAccessInBody(value);\r\n        });\r\n    }\r\n\r\n    // add event listener to body and handle click on elements which have class `${this.#classForHandleClick}`\r\n    // get class which starts from \"wk–\" to obtain slug of popup which we have to open\r\n    // and params for this popup\r\n    // ex. <a href=\"#\" class=\"btn btn-primary wk-call wk–checkout–subscription-94\">Buy</a> ===>\r\n    // popup slug - checkout; params - {\"item_type\":\"subscription\", \"item_key\":\"94\"}\r\n    // open popup by slug with params\r\n    #initUIListeners() {\r\n        document.body.addEventListener('click', (e) => {\r\n\r\n                try {\r\n\r\n                    if (this.#isDebug()) {\r\n                        console.log('Click on element: ', e.target);\r\n                        console.log(`Does element have class ${this.#classForHandleClick}: ${e.target.classList.contains(this.#classForHandleClick)}`);\r\n                    }\r\n\r\n                    // skip if target element has no class `${this.#classForHandleClick}`\r\n                    if (!e.target.classList.contains(`${this.#classForHandleClick}`)) return;\r\n\r\n                    // retrieve all classes for element\r\n                    const classes = Array.from(e.target.classList);\r\n                    const slugAndParamStr = classes.find(className => className.startsWith('wk–'));\r\n\r\n                    if (this.#isDebug()) {\r\n                        console.log('Popup\\'s slug and params: ', slugAndParamStr);\r\n                        console.log('Exit if slug and param === \"undefined\"');\r\n                    }\r\n\r\n                    // skip if we have no popup slug\r\n                    if (typeof slugAndParamStr === \"undefined\") return;\r\n\r\n                    const slugAndParamArr = slugAndParamStr.split(\"–\");\r\n                    const popupSlug = slugAndParamArr[1];\r\n                    const popupParams = slugAndParamArr[2];\r\n\r\n                    if (this.#isDebug()) {\r\n                        console.log('Popup\\'s slug: ', popupSlug);\r\n                        console.log('Popup\\'s params: ', popupParams);\r\n                    }\r\n\r\n                    // open popup without params\r\n                    if (typeof popupSlug !== \"undefined\" && typeof popupParams === \"undefined\") {\r\n                        if (this.#isDebug()) {\r\n                            console.log('Open popup without params. Only with slug: ', popupSlug);\r\n                        }\r\n                        this.#popup.open(popupSlug);\r\n                        e.preventDefault();\r\n                        return;\r\n                    }\r\n\r\n                    // getting key and value params\r\n                    const popupParamsArr = popupParams.split('-');\r\n                    let key = popupParamsArr[0];\r\n                    const value = popupParamsArr[1];\r\n\r\n                    if (this.#isDebug()) {\r\n                        console.log('Popup\\'s param key: ', key);\r\n                        console.log('Popup\\'s param value: ', value);\r\n                    }\r\n\r\n                    //open popup with params\r\n                    if (typeof key !== \"undefined\" && typeof value !== \"undefined\") {\r\n\r\n                        // make mo readable key for user\r\n                        if (key === 'ticket') {\r\n                            key = 'ti_event_ticket';\r\n                        }\r\n\r\n                        // prepare params for popup\r\n                        const params = JSON.stringify({item_type: key, item_key: value});\r\n                        const path = `${popupSlug}?[${params}]`\r\n\r\n                        if (this.#isDebug()) {\r\n                            console.log('Open popup with params: ', path);\r\n                        }\r\n\r\n                        this.#popup.open(path);\r\n                        e.preventDefault();\r\n                    }\r\n                } catch (error) {\r\n                    console.log('WK Call ERROR:', error);\r\n                }\r\n            }\r\n        );\r\n    }\r\n\r\n    getUserStatus() {\r\n        return this.#sdk.methods.isAuthenticated() ? 'authorized' : 'guest';\r\n    }\r\n\r\n    setAllDataWkStatusesInDOMElements(response) {\r\n        this.setDataWkStatusUserInDOMElements();\r\n        this.setDataWkStatusPlansInDOMElements(response);\r\n        this.setDataWkStatusEventsInDOMElements(response);\r\n    }\r\n\r\n    setDataWkStatusUserInDOMElements() {\r\n        if (this.#isDebug()) {\r\n            console.log(`Set user status: \"${this.getUserStatus()}\" for elements:`);\r\n        }\r\n        // find all elements with class `${this.#classThatReactOnTheUsersStatus}`\r\n        for (const element of document.querySelectorAll(`.${this.#classThatReactOnTheUsersStatus}`)) {\r\n            if (this.#isDebug()) {\r\n                console.log(element);\r\n            }\r\n            element.dataset.wkCallStatusUser = this.getUserStatus();\r\n        }\r\n    }\r\n\r\n    setDataWkStatusPlansInDOMElements({subscriptions} = {}) {\r\n\r\n        let plans = 'undefined';\r\n\r\n        if (Array.isArray(subscriptions) && subscriptions.length > 0) {\r\n            plans = subscriptions.map((s) => s.plan.slug).join(' ');\r\n        }\r\n\r\n        if (this.#isDebug()) {\r\n            console.log(`Set plans status: \"${plans}\" for elements:`);\r\n        }\r\n        // find all elements with class `${this.#classThatReactOnTheUsersPlans}`\r\n        for (const element of document.querySelectorAll(`.${this.#classThatReactOnTheUsersPlans}`)) {\r\n            if (this.#isDebug()) {\r\n                console.log(element);\r\n            }\r\n            element.dataset.wkCallStatusPlans = plans;\r\n        }\r\n    }\r\n\r\n    setDataWkStatusEventsInDOMElements({assigned_tickets} = {}) {\r\n\r\n        let events = 'undefined';\r\n\r\n        if (Array.isArray(assigned_tickets) && assigned_tickets.length > 0) {\r\n            events = assigned_tickets.map((s) => s.ti_event.slug).join(' ');\r\n        }\r\n\r\n        if (this.#isDebug()) {\r\n            console.log(`Set events status: \"${events}\" for elements:`);\r\n        }\r\n        // find all elements with class `${this.#classThatReactOnTheUsersEvents}`\r\n        for (const element of document.querySelectorAll(`.${this.#classThatReactOnTheUsersEvents}`)) {\r\n            if (this.#isDebug()) {\r\n                console.log(element);\r\n            }\r\n            element.dataset.wkCallStatusEvents = events;\r\n        }\r\n    }\r\n\r\n    #setDataWkHasAccessInBody(value) {\r\n        if (this.#isDebug()) {\r\n            console.log(`Set user has access data \"${value}\" in body element.`);\r\n        }\r\n        document.body.dataset.wkCallUserHasAccess = value;\r\n    }\r\n\r\n    getWallkitUserData() {\r\n        this.#sdk.client.get({path: `/user`})\r\n            .then((response) => {\r\n                console.log(response);\r\n                this.setAllDataWkStatusesInDOMElements(response);\r\n            })\r\n            .catch((error) => {\r\n                console.log('WK Call ERROR:', error);\r\n                this.setAllDataWkStatusesInDOMElements();\r\n            });\r\n    }\r\n\r\n    removeAllDataWkStatuses() {\r\n        if (this.#isDebug()) {\r\n            console.log(`Remove all wallkit statuses from all DOM Elements.`);\r\n            console.log('Remove data-wk-call-user-has-access from body element.');\r\n        }\r\n        delete document.body.dataset.wkCallUserHasAccess;\r\n\r\n        for (const element of document.querySelectorAll(`.${this.#classThatReactOnTheUsersStatus}`)) {\r\n            if (this.#isDebug()) {\r\n                console.log('Remove data-wk-call-status-user from element:', element);\r\n            }\r\n            delete element.dataset.wkCallStatusUser;\r\n        }\r\n        for (const element of document.querySelectorAll(`.${this.#classThatReactOnTheUsersPlans}`)) {\r\n            if (this.#isDebug()) {\r\n                console.log('Remove data-wk-call-status-plans from element:', element);\r\n            }\r\n            delete element.dataset.wkCallStatusPlans;\r\n        }\r\n        for (const element of document.querySelectorAll(`.${this.#classThatReactOnTheUsersEvents}`)) {\r\n            if (this.#isDebug()) {\r\n                console.log('Remove data-wk-call-status-events from element:', element);\r\n            }\r\n            delete element.dataset.wkCallStatusEvents;\r\n        }\r\n    }\r\n\r\n    #debugUserStatus() {\r\n        console.log(`User status: `, this.getUserStatus());\r\n    }\r\n\r\n    #debugElementsClickingOnWhichOpensPopups() {\r\n        console.log('Elements, clicking on which opens popups:');\r\n        for (const element of document.querySelectorAll(`.${this.#classForHandleClick}`)) {\r\n            console.log(element);\r\n        }\r\n    }\r\n\r\n    #debugElementsThatReactToTheUsersStatus() {\r\n        console.log('Elements that react to the user\\'s status:');\r\n        for (const element of document.querySelectorAll(`.${this.#classThatReactOnTheUsersStatus}`)) {\r\n            console.log(element);\r\n        }\r\n    }\r\n\r\n    #debugElementsThatReactToTheUsersPlans() {\r\n        console.log('Elements that react to the user\\'s plans:');\r\n        for (const element of document.querySelectorAll(`.${this.#classThatReactOnTheUsersPlans}`)) {\r\n            console.log(element);\r\n        }\r\n    }\r\n\r\n    #debugElementsThatReactToTheUsersEvents() {\r\n        console.log('Elements that react to the user\\'s events:');\r\n        for (const element of document.querySelectorAll(`.${this.#classThatReactOnTheUsersEvents}`)) {\r\n            console.log(element);\r\n        }\r\n    }\r\n\r\n    init() {\r\n        if (this.#isDebug()) {\r\n            console.log('Init Wallkit Call with config: ', this.#config?.call);\r\n            this.#debugUserStatus();\r\n            this.#debugElementsClickingOnWhichOpensPopups();\r\n            this.#debugElementsThatReactToTheUsersStatus();\r\n            this.#debugElementsThatReactToTheUsersPlans();\r\n            this.#debugElementsThatReactToTheUsersEvents();\r\n        }\r\n\r\n        this.#initWkListeners();\r\n        this.#initUIListeners();\r\n\r\n        if (this.#sdk.methods.isAuthenticated()) {\r\n            this.getWallkitUserData();\r\n        } else {\r\n            this.setAllDataWkStatusesInDOMElements();\r\n        }\r\n\r\n    }\r\n}\r\n","import SDK from \"../sdk\";\r\nimport Events from \"../events\";\r\nimport {CHECK_USER_ACCESS} from \"../events/events-name\";\r\n\r\nexport default class Content {\r\n    #options;\r\n    #events;\r\n\r\n    constructor(content, options={}) {\r\n        this.content = content;\r\n        this.#options = this.#optionsCheck(options);\r\n        this.sdk = new SDK();\r\n        this.#events = new Events();\r\n\r\n        this.accessCount = 0;\r\n        this.accessCountLimit = 0;\r\n    }\r\n\r\n    #optionsCheck(options) {\r\n        if (typeof options.checkAccessDetails === \"undefined\") {\r\n            options.checkAccessDetails = false;\r\n        }\r\n        return options;\r\n    }\r\n\r\n    #encodeQueryData(data) {\r\n        const ret = [];\r\n\r\n        for (const d in data) {\r\n            if (data[d] !== undefined) {\r\n                ret.push(`${encodeURIComponent(d)}=${encodeURIComponent(data[d])}`);\r\n            }\r\n        }\r\n\r\n        return ret.join('&');\r\n    }\r\n\r\n    #formatCheckAccessRequestPath(id, params) {\r\n        const query = this.#encodeQueryData(params);\r\n\r\n        return `/user/content-sync-and-check/${id}?${query}`;\r\n    }\r\n\r\n    formatTaxonomies(taxonomies) {\r\n        const formatted = {};\r\n\r\n        const taxonimiesTitles = [];\r\n        const taxonimiesKeys = [];\r\n\r\n        for (const taxKey in taxonomies) {\r\n            taxonimiesKeys.push(taxKey);\r\n            taxonimiesTitles.push(taxonomies[taxKey].label);\r\n\r\n            let termKeysKey = `term_keys[${taxKey}]`;\r\n            let termTitleKey = `term_titles[${taxKey}]`;\r\n\r\n            if (taxonomies[taxKey]?.items) {\r\n\r\n                formatted[termKeysKey] = [];\r\n                formatted[termTitleKey] = [];\r\n\r\n                taxonomies[taxKey].items.forEach((item) => {\r\n                    formatted[termKeysKey].push(item.slug);\r\n                    formatted[termTitleKey].push(item.name);\r\n                });\r\n            }\r\n\r\n            formatted[termKeysKey] = formatted[termKeysKey].join(',');\r\n            formatted[termTitleKey] = formatted[termTitleKey].join(',');\r\n        }\r\n\r\n        formatted.taxonomy_titles = taxonimiesTitles.join(',');\r\n        formatted.taxonomy_keys = taxonimiesKeys.join(',');\r\n\r\n        return formatted;\r\n    }\r\n\r\n    checkContentAccessAndSync(content) {\r\n        const queryParams = {\r\n            type: content.type,\r\n            title: content.title,\r\n            link: content.link || window.location.href,\r\n            image: content.image || null,\r\n        };\r\n\r\n        Object.assign(queryParams, this.formatTaxonomies(content.taxonomies));\r\n\r\n        return this.sdk.client.get({ path: this.#formatCheckAccessRequestPath(content.id, queryParams) }).then((response) => {\r\n            if (this.sdk.methods.isAuthenticated()) {\r\n                this.getAccessDetails(content.id);\r\n            }\r\n\r\n            this.#events.notify(CHECK_USER_ACCESS, response.allow);\r\n            return { allowed: response.allow, data: response };\r\n        }).catch((error) => {\r\n\r\n            this.#events.notify(CHECK_USER_ACCESS, false);\r\n            return { allowed: false, error: error };\r\n        })\r\n    }\r\n\r\n    async checkAccess() {\r\n        try {\r\n            const response = await this.sdk.methods.checkAccess(this.content.id);\r\n            if (this.sdk.methods.isAuthenticated() || this.#options.checkAccessDetails) {\r\n                await this.getAccessDetails(this.content.id);\r\n            }\r\n\r\n            this.#events.notify(CHECK_USER_ACCESS, response.allow);\r\n            return { allowed: response.allow, data: response };\r\n        } catch (error) {\r\n            if (error.error === 'incorrect_content_key') {\r\n                return this.checkContentAccessAndSync(this.content);\r\n            }\r\n\r\n            this.#events.notify(CHECK_USER_ACCESS, false);\r\n            return { allowed: false, error: error };\r\n        }\r\n    }\r\n\r\n    getAccessDetails(contentId) {\r\n        return this.sdk.client.get({ path: `/user/content-access-details/${contentId}` }).then((response) => {\r\n            this.accessCount = 0;\r\n            this.accessCountLimit = 0;\r\n            let checkDone = false;\r\n            this.accessDetails = {...response || false};\r\n            if (response?.content_terms?.items?.length ) {\r\n                if (!response.content_terms.exclude) {\r\n                    this.accessCount = response.content_terms.usedLimitInPeriod;\r\n                    this.accessCountLimit = response.content_terms.accessLimit;\r\n                } else {\r\n                    checkDone = true;\r\n                }\r\n            }\r\n            if (response?.content_types?.items?.length && !checkDone) {\r\n                if (!response.content_types.exclude) {\r\n                    this.accessCount = response.content_terms.usedLimitInPeriod < this.accessCount ? response.content_terms.usedLimitInPeriod : this.accessCount;\r\n                    this.accessCountLimit = response.content_terms.accessLimit < this.accessCountLimit ? response.content_terms.accessLimit : this.accessCountLimit;\r\n                } else {\r\n                    this.accessCount = 0;\r\n                    this.accessCountLimit = 0;\r\n                }\r\n            }\r\n            return {\r\n                accessCount: this.accessCount,\r\n                accessCountLimit: this.accessCountLimit\r\n            }\r\n        }).catch((error) => {\r\n            return error;\r\n        });\r\n    }\r\n}\r\n","// Local Events Names\r\nexport const FRAME_CREATED = 'frame-created';\r\nexport const FRAME_MOUNTED = 'frame-mounted';\r\nexport const MODAL_CREATED = 'modal-created';\r\nexport const SUCCESS_AUTH = 'success-auth';\r\nexport const PRE_SIGN_IN = 'pre-sign-in';\r\nexport const SUCCESS_FIREBASE_AUTH = 'success-firebase-auth';\r\nexport const WALLKIT_SDK_LOADED = 'wallkit-js-sdk-loaded';\r\nexport const FRAME_MESSAGE = 'frame-message';\r\nexport const AUTH_MODAL_CLOSED = 'auth-modal-closed';\r\nexport const FRAME_MODAL_CLOSED = 'frame-modal-closed';\r\nexport const MODAL_CLOSED = 'modal-closed';\r\nexport const RECAPTCHA_LOADED = 'recaptcha-loaded';\r\nexport const RECAPTCHA_VALIDATION_FAILED = 'recaptcha-validation-failed';\r\nexport const RECAPTCHA_VALIDATION_SUCCESS = 'recaptcha-validation-success';\r\nexport const TICKETS_TOKEN_AUTH_SUCCESS = 'tickets-token-auth-success';\r\nexport const FIREBASE_LOADED = 'firebase-loaded';\r\nexport const FIREBASE_INIT = 'firebase-init';\r\nexport const FIREBASE_UI_SHOWN = 'firebase-ui-shown';\r\nexport const CHECK_USER_ACCESS = 'check-user-access';\r\nexport const EXTERNAL_PROVIDER_TOKEN_AUTH_SUCCESS = 'external-provider-token-auth-success';\r\nexport const LOGOUT = 'logout';\r\nexport const DEFAULT_AUTH_FORM_SLUG_UPDATED = 'default-auth-form-slug-updated';\r\n\r\n// Wallkit Events Names\r\nexport const WALLKIT_CHANGE_FRAME = 'wk-event-modal';\r\nexport const WALLKIT_LOGOUT = 'wk-event-logout';\r\nexport const WALLKIT_FIREBASE_TOKEN = 'wk-firebase-token';\r\nexport const WALLKIT_EVENT_FIREBASE_TOKEN = 'wk-event-firebase-token';\r\nexport const WALLKIT_EVENT_TOKEN = 'wk-event-token';\r\nexport const WALLKIT_FRAME_READY = 'wk-event-modals-ready';\r\nexport const WALLKIT_EVENT_GET_TOKEN = 'wk-event-get-token';\r\nexport const WALLKIT_EVENT_AUTH = 'wk-event-auth';\r\nexport const WALLKIT_EVENT_USER = 'wk-event-user';\r\nexport const WALLKIT_EVENT_REGISTRATION = 'wk-event-registration';\r\nexport const WALLKIT_EVENT_ONE_TAP_SIGN_IN = 'wk-event-one-tap-sign-in';\r\nexport const WALLKIT_FRAME_ROUTE_CHANGE = 'wk-event-route-change';\r\nexport const WALLKIT_EVENT_FIREBASE_CUSTOM_TOKEN = 'wk-event-firebase-custom-token';\r\nexport const WALLKIT_EVENT_CHANGE_LANGUAGE = 'wk-event-change-language';\r\nexport const WALLKIT_EVENT_EXTERNAL_PROVIDER_TOKEN = 'wk-event-external-provider-token';\r\n\r\nexport default {\r\n    local: {\r\n        FRAME_CREATED,\r\n        FRAME_MOUNTED,\r\n        MODAL_CREATED,\r\n        SUCCESS_AUTH,\r\n        SUCCESS_FIREBASE_AUTH,\r\n        FRAME_MESSAGE,\r\n        AUTH_MODAL_CLOSED,\r\n        FRAME_MODAL_CLOSED,\r\n        MODAL_CLOSED,\r\n        RECAPTCHA_LOADED,\r\n        RECAPTCHA_VALIDATION_FAILED,\r\n        RECAPTCHA_VALIDATION_SUCCESS,\r\n        TICKETS_TOKEN_AUTH_SUCCESS,\r\n        CHECK_USER_ACCESS,\r\n        PRE_SIGN_IN,\r\n        EXTERNAL_PROVIDER_TOKEN_AUTH_SUCCESS,\r\n        LOGOUT,\r\n        DEFAULT_AUTH_FORM_SLUG_UPDATED\r\n    },\r\n    wallkit: {\r\n        FRAME_CREATED,\r\n        WALLKIT_LOGOUT,\r\n        WALLKIT_FIREBASE_TOKEN,\r\n        WALLKIT_EVENT_FIREBASE_TOKEN,\r\n        WALLKIT_EVENT_TOKEN,\r\n        WALLKIT_FRAME_READY,\r\n        WALLKIT_EVENT_GET_TOKEN,\r\n        WALLKIT_EVENT_AUTH,\r\n        WALLKIT_EVENT_USER,\r\n        WALLKIT_EVENT_REGISTRATION,\r\n        WALLKIT_EVENT_ONE_TAP_SIGN_IN,\r\n        WALLKIT_FRAME_ROUTE_CHANGE,\r\n        WALLKIT_EVENT_FIREBASE_CUSTOM_TOKEN,\r\n        WALLKIT_EVENT_CHANGE_LANGUAGE,\r\n        WALLKIT_EVENT_EXTERNAL_PROVIDER_TOKEN\r\n    }\r\n}\r\n","export default class Events {\r\n    constructor() {\r\n        if (!!Events.instance) {\r\n            return Events.instance;\r\n        }\r\n\r\n        Events.instance = this;\r\n        this.listeners = [];\r\n\r\n        return this;\r\n    }\r\n\r\n    subscribe(eventName, callback, options) {\r\n        this.listeners.push({ name: eventName, callback, options: options });\r\n    }\r\n\r\n    unsubscribe(eventName, callback) {\r\n        this.listeners = this.listeners.filter((event) => {\r\n            return ((event.name !== eventName) || (event.callback !== callback));\r\n        });\r\n    }\r\n\r\n    notify(eventName, data) {\r\n        let onceIndexesToRemove = [];\r\n        this.listeners.forEach((event, index) => {\r\n            if (eventName === event.name) {\r\n                event.callback(data);\r\n\r\n                if (!!event?.options?.once) {\r\n                    onceIndexesToRemove.push(index);\r\n                }\r\n            }\r\n        })\r\n\r\n        this.listeners = this.listeners.filter((item, index) => !onceIndexesToRemove.includes(index));\r\n    }\r\n\r\n    getEventByName (eventName) {\r\n      return this.listeners?.find((item) => item.name === eventName);\r\n    }\r\n\r\n    async preventiveEvent (eventName, data) {\r\n      const event = this.getEventByName(eventName);\r\n\r\n      if (event) {\r\n        try {\r\n          const proceed = await event.callback(data);\r\n\r\n          return !!proceed;\r\n        } catch (e) {\r\n          console.log('ERROR:', e);\r\n        }\r\n      }\r\n\r\n      return true;\r\n    }\r\n}\r\n","import { createElement } from \"../../../utils/DOM\";\r\nimport Events from \"../../events\";\r\nimport {FIREBASE_UI_SHOWN, DEFAULT_AUTH_FORM_SLUG_UPDATED} from \"../../events/events-name\";\r\nimport {\r\n    SIGN_IN_FORM_SLUG,\r\n    SIGN_UP_FORM_SLUG\r\n} from \"../forms/AuthForm\";\r\nimport {\r\n    TRIGGER_EMAIL_BUTTON_TITLE_SELECTOR,\r\n    TRIGGER_GOOGLE_BUTTON_TITLE_SELECTOR,\r\n    TRIGGER_EMAIL_BUTTON_CLASS_NAME\r\n} from \"../../../configs/constants\";\r\n\r\nexport class TriggerButton {\r\n    #fullLabel = {\r\n        email: 'Sign in with email',\r\n    };\r\n    #emailButonIconUrl = 'https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg';\r\n    #className = TRIGGER_EMAIL_BUTTON_CLASS_NAME;\r\n    #buttonsTitleSelector = {\r\n        email: TRIGGER_EMAIL_BUTTON_TITLE_SELECTOR,\r\n        google: TRIGGER_GOOGLE_BUTTON_TITLE_SELECTOR\r\n    }\r\n    #options;\r\n    constructor(selector, options) {\r\n        this.#options = this.checkOptions(options);\r\n        this.events = new Events();\r\n        this.selector = selector;\r\n        this.element = this.createElement();\r\n        this.subscribeEventForChanges();\r\n\r\n        if (options.onClick) {\r\n            this.element.addEventListener('click', options.onClick.bind(this));\r\n        }\r\n    }\r\n\r\n    checkOptions(options) {\r\n        if (options.authProviders && options.authProviders.length) {\r\n            Object.keys(options.authProviders).forEach(key => {\r\n                let authProvider = options.authProviders[key];\r\n                if (typeof authProvider.provider !== \"undefined\" && authProvider.provider !== '') {\r\n                    let buttonKey = authProvider.provider.toLowerCase();\r\n                    options[buttonKey] = {\r\n                        fullLabel: '',\r\n                        signInLabel: '',\r\n                        signUpLabel: '',\r\n                        label: '',\r\n                        backgroundColor: '',\r\n                        textColor: '',\r\n                        textColorStyle: '',\r\n                        iconUrl: '',\r\n                        styles: {}\r\n                    };\r\n                    if (buttonKey === 'email') {\r\n                        if (typeof this.#fullLabel[buttonKey] !== \"undefined\") {\r\n                            options[buttonKey].fullLabel = this.#fullLabel[buttonKey];\r\n                            options[buttonKey].label = this.#fullLabel[buttonKey];\r\n                        }\r\n                        options[buttonKey].iconUrl = this.#emailButonIconUrl;\r\n                    }\r\n                    if (typeof authProvider.fullLabel !== \"undefined\"\r\n                        && authProvider.fullLabel.trim() !== \"\") {\r\n                        options[buttonKey].fullLabel = authProvider.fullLabel;\r\n                        options[buttonKey].label = authProvider.fullLabel;\r\n                    }\r\n                    if (typeof authProvider.signInLabel !== \"undefined\"\r\n                        && authProvider.signInLabel.trim() !== \"\") {\r\n                        options[buttonKey].signInLabel = authProvider.signInLabel;\r\n                        if (options.defaultFormSlug === SIGN_IN_FORM_SLUG) {\r\n                            options[buttonKey].label = options[buttonKey].signInLabel;\r\n                        }\r\n                    }\r\n                    if (typeof authProvider.signUpLabel !== \"undefined\"\r\n                        && authProvider.signUpLabel.trim() !== \"\") {\r\n                        options[buttonKey].signUpLabel = authProvider.signUpLabel;\r\n                        if (options.defaultFormSlug === SIGN_UP_FORM_SLUG) {\r\n                            options[buttonKey].label = options[buttonKey].signUpLabel;\r\n                        }\r\n                    }\r\n                    if (typeof authProvider.buttonColor !== \"undefined\"\r\n                        && authProvider.buttonColor.trim() !== \"\") {\r\n                        options[buttonKey].backgroundColor = authProvider.buttonColor;\r\n                        options[buttonKey].styles.backgroundColor = authProvider.buttonColor;\r\n                    }\r\n                    if (typeof authProvider.buttonTextColor !== \"undefined\"\r\n                        && authProvider.buttonTextColor.trim() !== \"\") {\r\n                        if (!authProvider.buttonTextColor.trim().startsWith('#')) {\r\n                            authProvider.buttonTextColor = '#'+authProvider.buttonTextColor.trim();\r\n                        }\r\n                        options[buttonKey].textColor = `${authProvider.buttonTextColor}`;\r\n                        options[buttonKey].textColorStyle = ` style=\"color:${authProvider.buttonTextColor}\"`;\r\n                    }\r\n                    if (typeof authProvider.iconUrl !== \"undefined\"\r\n                        && authProvider.iconUrl.trim() !== \"\") {\r\n                        options[buttonKey].iconUrl = authProvider.iconUrl;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        return options;\r\n    }\r\n\r\n    subscribeEventForChanges() {\r\n        /** change Firebase button titles on load */\r\n        this.events.subscribe(FIREBASE_UI_SHOWN, () => {\r\n            this.#changeAuthButtonsTitle(this.#options.defaultFormSlug, false);\r\n            this.#changeAuthButtonsTitleColor();\r\n        }, {once: true});\r\n        /** change titles on auth form change */\r\n        this.events.subscribe(DEFAULT_AUTH_FORM_SLUG_UPDATED, (value) => {\r\n            if (value && value.new && value.new !== value.old) {\r\n                this.#changeAuthButtonsTitle(value.new, value.old);\r\n            }\r\n        });\r\n    }\r\n\r\n    #changeAuthButtonsTitleColor() {\r\n        Object.keys(this.#options.authProviders).forEach(key => {\r\n            let authProvider = this.#options.authProviders[key];\r\n            if (typeof authProvider.provider !== \"undefined\" && authProvider.provider !== '') {\r\n                let buttonKey = authProvider.provider.toLowerCase();\r\n                if (buttonKey !== 'email' && typeof this.#options[buttonKey] !== \"undefined\" && this.#options[buttonKey].textColor !== '') {\r\n                    let buttonsTitle = document.querySelectorAll(this.#buttonsTitleSelector[buttonKey]);\r\n                    let color = this.#options[buttonKey].textColor;\r\n                    if (buttonsTitle && !!color) {\r\n                        buttonsTitle.forEach(function (item) {\r\n                            if (item.style.color !== color) {\r\n                                item.style.color = color;\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    #changeAuthButtonsTitle(authNew, authOld) {\r\n        if ( authNew\r\n            && authNew !== authOld\r\n            && [SIGN_UP_FORM_SLUG, SIGN_IN_FORM_SLUG].includes(authNew) )\r\n        {\r\n            Object.keys(this.#options.authProviders).forEach(key => {\r\n                let authProvider = this.#options.authProviders[key];\r\n                if (typeof authProvider.provider !== \"undefined\" && authProvider.provider !== '') {\r\n                    let buttonKey = authProvider.provider.toLowerCase();\r\n                    if (typeof this.#options[buttonKey] !== \"undefined\" && (this.#options[buttonKey].signInLabel !== '' || this.#options[buttonKey].signUpLabel !== '')) {\r\n                        if (authNew === SIGN_UP_FORM_SLUG) {\r\n                            this.#options[buttonKey].label = (this.#options[buttonKey].signUpLabel !== '') ? this.#options[buttonKey].signUpLabel : this.#options[buttonKey].fullLabel;\r\n                        } else if (authNew === SIGN_IN_FORM_SLUG) {\r\n                            this.#options[buttonKey].label = (this.#options[buttonKey].signInLabel !== '') ? this.#options[buttonKey].signInLabel : this.#options[buttonKey].fullLabel;\r\n                        }\r\n                        let buttonsTitle = document.querySelectorAll(this.#buttonsTitleSelector[buttonKey]);\r\n                        let title = this.#options[buttonKey].label;\r\n                        if (buttonsTitle && !!title) {\r\n                            buttonsTitle.forEach(function (item) {\r\n                                item.innerHTML = title;\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    createElement () {\r\n        let elementKey = 'email';\r\n        return createElement('div', {\r\n            className: this.#className,\r\n            innerHTML: `\r\n                <span class=\"firebaseui-idp-icon-wrapper\">\r\n                    <img class=\"firebaseui-idp-icon\" alt=\"\" src=\"${this.#options[elementKey].iconUrl}\">\r\n                </span>\r\n                <span class=\"wk-auth-form-button-email-title firebaseui-idp-text firebaseui-idp-text-long\"${this.#options[elementKey].textColorStyle}>${this.#options[elementKey].label}</span>`,\r\n            styles: this.#options[elementKey].styles\r\n        });\r\n    }\r\n\r\n    hide () {\r\n        this.element.style.display = 'none';\r\n    }\r\n\r\n    show () {\r\n        this.element.style.display = 'block';\r\n    }\r\n\r\n    render() {\r\n        const targetElement = document.querySelector(this.selector);\r\n\r\n        if (targetElement) {\r\n            targetElement.appendChild(this.element);\r\n        }\r\n    }\r\n\r\n    get isVisible () {\r\n        if (window.getComputedStyle(this.element)){\r\n            return window.getComputedStyle(this.element).getPropertyValue('display') === 'block';\r\n        }\r\n        return false;\r\n    }\r\n}\r\n","import { FormField } from \"./index\";\r\nimport { createElement } from \"../../../utils/DOM\";\r\n\r\nexport class CheckBoxField extends FormField {\r\n  constructor(options) {\r\n    super(options);\r\n\r\n    this.type = 'checkbox';\r\n\r\n    this.input.addEventListener('change', this.validate.bind(this));\r\n  }\r\n\r\n  createCheckMark () {\r\n    return createElement('span', {\r\n      className: 'wk-form-field__checkmark',\r\n    });\r\n  }\r\n\r\n  createWrapper () {\r\n    return createElement('div', {\r\n      className: 'wk-form-field wk-form-field--checkbox'\r\n    });\r\n  }\r\n\r\n  getValue () {\r\n    return this.input.checked;\r\n  }\r\n\r\n  render (options) {\r\n    this.inputWrapper = this.createInputWrapper();\r\n\r\n    const label = this.createLabel(options.label, options.name);\r\n    label.appendChild(this.input);\r\n    label.appendChild(this.createCheckMark());\r\n\r\n    this.inputWrapper.appendChild(label);\r\n    this.wrapper.appendChild(this.inputWrapper);\r\n  }\r\n}\r\n","import { FormField } from \"./index\";\r\n\r\nexport class PasswordField extends FormField {\r\n    constructor(options) {\r\n        super(options);\r\n\r\n        this.insertAffix(`<div id=\"show-password-toggle\" class=\"wk-eye-toggle\"></div>`, this.togglePasswordVisibility.bind(this))\r\n\r\n        if (options.passwordHint) {\r\n            this.insertDescription(`<div>\r\n            <span>Password should match requirements:</span>\r\n            <ul class=\"wk-field-list\">\r\n                <li>at least 1 uppercase character (A-Z)</li>\r\n                <li>at least 1 lowercase character (a-z)</li>\r\n                <li>at least 1 digit (0-9)</li>\r\n                <li>at least 1 special character (punctuation)</li>\r\n                <li>at least 8 characters length</li>\r\n            </ul>\r\n        </div>`);\r\n        }\r\n\r\n        this.testStrength = options.testStrength ?? false;\r\n    }\r\n\r\n    togglePasswordVisibility () {\r\n        const targetElement = this.wrapper.querySelector('#show-password-toggle');\r\n        const TOGGLE_CLASSNAME = 'wk-eye-toggled';\r\n\r\n        if (targetElement) {\r\n            if (targetElement.classList.contains(TOGGLE_CLASSNAME)) {\r\n                targetElement.classList.remove(TOGGLE_CLASSNAME);\r\n                this.switchPasswordInputType('password');\r\n            } else {\r\n                targetElement.classList.add(TOGGLE_CLASSNAME);\r\n                this.switchPasswordInputType('text');\r\n            }\r\n        }\r\n    }\r\n\r\n    switchPasswordInputType (type) {\r\n        if (this.input) {\r\n            this.input.type = type || 'password';\r\n        }\r\n    }\r\n\r\n    #testPasswordRule (value, regex, errorMessage) {\r\n      const uppercaseRegex = new RegExp(regex);\r\n      const uppercaseValid = uppercaseRegex.test(value);\r\n\r\n      if (!uppercaseValid) {\r\n        return {\r\n          message: errorMessage,\r\n          valid: false\r\n        };\r\n      }\r\n\r\n      return {\r\n        valid: true\r\n      }\r\n    }\r\n\r\n    #testPassword (password) {\r\n        if (!this.testStrength) {\r\n          return {\r\n            valid: true\r\n          };\r\n        }\r\n\r\n        const rules = [\r\n          {\r\n            regex: \"^(?=.{8,})\",\r\n            message: \"At least 8 characters length\"\r\n          },\r\n          {\r\n            regex: \"^(?=.*[A-Z])\",\r\n            message: \"At least 1 uppercase character (A-Z)\"\r\n          },\r\n          {\r\n            regex: \"^(?=.*[a-z])\",\r\n            message: \"At least 1 lowercase character (a-z)\"\r\n          },\r\n          {\r\n            regex: \"^(?=.*[0-9])\",\r\n            message: \"At least 1 digit (0-9)\"\r\n          },\r\n          {\r\n            regex: \"^(?=.*[`~!@#$%^&*()+={}\\/|:;'<>,.?_-])\",\r\n            message: \"At least 1 special character (punctuation)\"\r\n          },\r\n        ];\r\n\r\n        for (let rule of rules) {\r\n          const validateRule = this.#testPasswordRule(password, rule.regex, rule.message);\r\n\r\n          if (!validateRule.valid) {\r\n            return validateRule;\r\n          }\r\n        }\r\n\r\n        return {\r\n          valid: true\r\n        };\r\n    }\r\n\r\n    validate () {\r\n      const value = this.getValue();\r\n      const passwordValidation = this.#testPassword(value);\r\n\r\n      if (!passwordValidation.valid) {\r\n        this.setError(`<div>\r\n                <span>Password should be: ${passwordValidation.message}</span>\r\n            </div>`);\r\n\r\n        return false;\r\n      }\r\n      return super.validate();\r\n    }\r\n\r\n}\r\n","import {createElement, insertAfter} from \"../../../utils/DOM\";\r\n\r\nexport class FormField {\r\n    constructor(options) {\r\n        if (!options) {\r\n            throw new Error('No Options Provided');\r\n        }\r\n\r\n        this.wrapper = this.createWrapper(options);\r\n        this.input = this.createInput(options);\r\n        this.type = options.type || 'text';\r\n        this.message = null;\r\n        this.isValid = false;\r\n        this.required = options.required || false;\r\n        this.slug = options.dataSlug;\r\n\r\n        this.render(options);\r\n\r\n        if (options.affix) {\r\n            this.insertAffix(options.affix.content, options.affix.onClick);\r\n        }\r\n\r\n        if (options.description) {\r\n            this.insertDescription(options.description);\r\n        }\r\n\r\n        if (options.onChange) {\r\n            this.input.addEventListener('change', options.onChange.bind(this));\r\n        }\r\n\r\n        if (options.onInput) {\r\n            this.input.addEventListener('input', options.onInput.bind(this));\r\n        }\r\n\r\n        this.input.addEventListener('blur', this.validate.bind(this));\r\n\r\n        if (options.onEnter) {\r\n          this.input.addEventListener('keydown', (event) => {\r\n            if (event.keyCode === 13) {\r\n              options.onEnter();\r\n            }\r\n          });\r\n        }\r\n\r\n        if (options.onValidate && typeof options.onValidate === \"function\") {\r\n            this.onValidate = options.onValidate;\r\n        }\r\n\r\n        if (options.relatedData) {\r\n            this.relatedData = options.relatedData;\r\n        }\r\n    }\r\n\r\n    getElement () {\r\n        return this.wrapper;\r\n    }\r\n\r\n    getValue () {\r\n        return this.input.value;\r\n    }\r\n\r\n    validate () {\r\n        const value = this.getValue();\r\n\r\n        if (this.required && !value) {\r\n            this.setError('This field is required.');\r\n\r\n            return false;\r\n        }\r\n\r\n        if (this.type === 'email') {\r\n            if (!value) {\r\n                this.setError('Enter your email address to continue.');\r\n\r\n                return false;\r\n            } else if (!value.length > 4 || !value.includes('@') || !value.includes('.')) {\r\n                this.setError('This email address isn\\'t correct.');\r\n\r\n                return false;\r\n            }\r\n        } else if (this.type === 'password') {\r\n            if (!value) {\r\n                this.setError('Enter your password to continue.');\r\n\r\n                return false;\r\n            }\r\n        }\r\n\r\n        if (this.onValidate) {\r\n            if (!this.onValidate(this)) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        this.resetValidation();\r\n        this.setFieldValidationState(true);\r\n\r\n        return true;\r\n    }\r\n\r\n    createWrapper () {\r\n        return createElement('div', {\r\n            className: 'wk-form-field'\r\n        });\r\n    }\r\n\r\n    createInputWrapper () {\r\n        return createElement('div', {\r\n            className: 'wk-form-field__input-wrapper',\r\n        });\r\n    }\r\n\r\n    insertAffix (content, onClick) {\r\n        const affixElement = createElement('div', {\r\n            className: 'wk-form-field__field-affix',\r\n            innerHTML: content\r\n        });\r\n\r\n        affixElement.addEventListener('click', onClick);\r\n        this.inputWrapper.appendChild(affixElement);\r\n    }\r\n\r\n    insertDescription (description) {\r\n        const descriptionElement = createElement('div', {\r\n            className: 'wk-form-field__field-description',\r\n            innerHTML: description\r\n        });\r\n\r\n        this.wrapper.appendChild(descriptionElement);\r\n    }\r\n\r\n    createInput (options) {\r\n        return createElement('input', {\r\n            className: 'wk-form-field__input',\r\n            id: options.id || options.name,\r\n            attributes: {\r\n                name: options.name,\r\n                type: options.type || 'text',\r\n                placeholder: options.placeholder || ''\r\n            }\r\n        });\r\n    }\r\n\r\n    createLabel (text, forRef) {\r\n        return createElement('label', {\r\n            className: 'wk-form-field__label',\r\n            attributes: {\r\n                for: forRef\r\n            },\r\n            innerHTML: text\r\n        });\r\n    }\r\n\r\n    createMessage (message, valid) {\r\n        const messageElement = createElement('span', {\r\n            className: `wk-form-field__message`,\r\n        });\r\n\r\n        messageElement.innerHTML = message;\r\n\r\n        return messageElement;\r\n    }\r\n\r\n    setError (message) {\r\n        if (!this.message) {\r\n            this.setFieldValidationState(false);\r\n            this.message = this.createMessage(message, false);\r\n            insertAfter(this.message, this.inputWrapper);\r\n        } else if (this.message) {\r\n            this.message.innerHTML = message;\r\n        }\r\n    }\r\n\r\n    removeMessage () {\r\n        if (this.message) {\r\n            this.message.remove();\r\n            this.message = null;\r\n        }\r\n    }\r\n\r\n    setFieldValidationState (valid) {\r\n        this.isValid = valid;\r\n        if (!valid) {\r\n            this.wrapper.classList.add('wk-form-field--invalid');\r\n            this.wrapper.classList.remove('wk-form-field--valid');\r\n        } else {\r\n            this.wrapper.classList.add('wk-form-field--valid');\r\n            this.wrapper.classList.remove('wk-form-field--invalid');\r\n        }\r\n    }\r\n\r\n    resetValidation () {\r\n        this.removeMessage();\r\n        this.wrapper.classList.remove('wk-form-field--valid', 'wk-form-field--invalid');\r\n    }\r\n\r\n    resetField () {\r\n        this.input.value = '';\r\n        this.resetValidation()\r\n    }\r\n\r\n    focus () {\r\n      this.input.focus();\r\n    }\r\n\r\n    render (options) {\r\n      this.inputWrapper = this.createInputWrapper();\r\n      this.wrapper.appendChild(this.createLabel(options.label, options.name));\r\n      this.inputWrapper.appendChild(this.input);\r\n      this.wrapper.appendChild(this.inputWrapper);\r\n    }\r\n}\r\n","import { createElement } from \"../../../utils/DOM\";\r\n\r\nimport { TriggerButton } from \"../buttons/TriggerButton\";\r\nimport { LoginForm } from \"./LoginForm\";\r\nimport { SignupForm } from \"./SignUpForm\";\r\nimport { ForgotPasswordForm } from \"./ForgotPasswordForm\";\r\nimport { ResetPasswordForm } from \"./ResetPasswordForm\";\r\nimport {DEFAULT_AUTH_FORM_SLUG_UPDATED} from \"../../events/events-name\";\r\n\r\nexport const SIGN_UP_FORM_SLUG = 'sign-up';\r\nexport const SIGN_IN_FORM_SLUG = 'sign-in';\r\nexport const FORGOT_PASSWORD_FORM_SLUG = 'forgot-password';\r\nexport const RESET_PASSWORD_FORM_SLUG = 'reset-password';\r\n\r\nexport class AuthForm {\r\n    #options;\r\n\r\n    constructor(selector, options) {\r\n        this.#options = options;\r\n        this.defaultForm = options?.defaultForm || false;\r\n\r\n        // this.wrapper = createElement('div', {\r\n        //     id: 'wk-auth-form'\r\n        // });\r\n\r\n        this.loginForm = new LoginForm(selector, {\r\n            cancelBtn: options.triggerButton !== false,\r\n            signUp: options.signUp ?? true,\r\n            ...(options.customizeAuthForms?.signIn || {}),\r\n            onSubmit: (data) => {\r\n                if (options.onLogin) {\r\n                    options.onLogin(data);\r\n                }\r\n            },\r\n            onCancel: () => {\r\n                if (options.onCancel) {\r\n                    options.onCancel();\r\n                    this.loginForm.resetForm();\r\n                }\r\n            }\r\n        });\r\n        this.loginForm.formWrapper.addEventListener('click', (event) => {\r\n            if (event.target.id === 'auth-signup-link') {\r\n                event.preventDefault();\r\n\r\n                this.showForm(SIGN_UP_FORM_SLUG);\r\n            } else if (event.target.id === 'auth-password-link') {\r\n                event.preventDefault();\r\n\r\n                this.showForm(FORGOT_PASSWORD_FORM_SLUG);\r\n            }\r\n        });\r\n        this.loginForm.hide();\r\n\r\n        if (options.signUp === true) {\r\n            this.signUpForm = new SignupForm(selector, {\r\n                ...(options.customizeAuthForms?.signUp || {}),\r\n                cancelBtn: options.triggerButton !== false,\r\n                termsOfService: options.termsOfService,\r\n                onSubmit: (data) => {\r\n                    if (options.onSignUp) {\r\n                        options.onSignUp(data);\r\n                    }\r\n                },\r\n                onCancel: () => {\r\n                    if (options.onCancel) {\r\n                        options.onCancel();\r\n                        this.signUpForm.resetForm();\r\n                    }\r\n                }\r\n            });\r\n            this.signUpForm.formWrapper.addEventListener('click', (event) => {\r\n                if (event.target.id === 'auth-signin-link') {\r\n                    event.preventDefault();\r\n\r\n                    this.showForm(SIGN_IN_FORM_SLUG);\r\n                }\r\n            });\r\n            this.signUpForm.hide();\r\n        }\r\n\r\n        this.forgotPasswordForm = new ForgotPasswordForm(selector, {\r\n            ...(options.customizeAuthForms?.forgotPassword || {}),\r\n            onSubmit: (data) => {\r\n                if (options.onPasswordForgot) {\r\n                    options.onPasswordForgot(data);\r\n                }\r\n            }\r\n        });\r\n\r\n        this.forgotPasswordForm.formWrapper.addEventListener('click', (event) => {\r\n            if (event.target.id === 'back-to-login') {\r\n                event.preventDefault();\r\n\r\n                this.showForm(SIGN_IN_FORM_SLUG);\r\n                this.forgotPasswordForm.reRender();\r\n            }\r\n        });\r\n        this.forgotPasswordForm.hide();\r\n\r\n        this.resetPasswordForm = new ResetPasswordForm(selector, {\r\n            ...(options.customizeAuthForms?.resetPassword || {}),\r\n            onSubmit: (data) => {\r\n                if (options.onPasswordReset) {\r\n                    options.onPasswordReset(data);\r\n                }\r\n            }\r\n        });\r\n\r\n        this.resetPasswordForm.formWrapper.addEventListener('click', (event) => {\r\n            if (event.target.id === 'back-to-login') {\r\n                event.preventDefault();\r\n\r\n                this.showForm(SIGN_IN_FORM_SLUG);\r\n                this.resetPasswordForm.reRender();\r\n            }\r\n        });\r\n        this.resetPasswordForm.hide();\r\n\r\n        if (options.triggerButton !== false) {\r\n            this.triggerButton = new TriggerButton(selector, {\r\n                authProviders: options.authProviders,\r\n                defaultFormSlug: this.defaultFormSlug,\r\n                onClick: () => {\r\n                    this.defaultForm.show();\r\n                    this.triggerButton.hide();\r\n                    if (options.onAuthFormShow) {\r\n                        options.onAuthFormShow();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        this.forms = {\r\n            [FORGOT_PASSWORD_FORM_SLUG]: this.forgotPasswordForm,\r\n            [RESET_PASSWORD_FORM_SLUG]: this.resetPasswordForm,\r\n            [SIGN_IN_FORM_SLUG]: this.loginForm,\r\n            [SIGN_UP_FORM_SLUG]: this.signUpForm\r\n        };\r\n    }\r\n\r\n    get defaultForm () {\r\n        return this.forms[this.defaultFormSlug];\r\n    }\r\n\r\n    set defaultForm (formSlug) {\r\n        let oldSlug = this.defaultFormSlug;\r\n        if (formSlug && [SIGN_UP_FORM_SLUG, SIGN_IN_FORM_SLUG, FORGOT_PASSWORD_FORM_SLUG, RESET_PASSWORD_FORM_SLUG].includes(formSlug)) {\r\n            this.defaultFormSlug = formSlug;\r\n        } else {\r\n            this.defaultFormSlug = this.#options.defaultForm || SIGN_UP_FORM_SLUG;\r\n        }\r\n        if (this.#options.triggerButton !== false && this.triggerButton) {\r\n            this.triggerButton.events.notify(DEFAULT_AUTH_FORM_SLUG_UPDATED, {\r\n                \"new\": this.defaultFormSlug,\r\n                \"old\": oldSlug\r\n            });\r\n        }\r\n    }\r\n\r\n    get activeForm () {\r\n        let form = false;\r\n        if (!!this.forms && Object.keys(this.forms).length){\r\n            Object.keys(this.forms).forEach(key => {\r\n                if (this.forms[key].isVisible) {\r\n                    form = this.forms[key];\r\n                }\r\n            });\r\n        }\r\n        return form;\r\n    }\r\n\r\n    showForm (authFormSlug) {\r\n        if (authFormSlug && this.forms[authFormSlug]) {\r\n            this.hide();\r\n            this.forms[authFormSlug].show();\r\n        }\r\n    }\r\n\r\n    showDefaultForm () {\r\n        this.showForm(this.defaultFormSlug)\r\n    }\r\n\r\n    reset () {\r\n        this.hide();\r\n\r\n        if (this.triggerButton) {\r\n            this.triggerButton.show();\r\n        } else {\r\n            this.showDefaultForm();\r\n        }\r\n    }\r\n\r\n    hide () {\r\n        if (!!this.forms) {\r\n            for (let formKey in this.forms) {\r\n                const form = this.forms[formKey];\r\n\r\n                if (form) {\r\n                    form.hide();\r\n                    form.resetForm();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    handleError(error) {\r\n        if (this.activeForm) {\r\n            if (error === null) {\r\n                this.activeForm.resetFormError(error);\r\n            } else {\r\n                this.activeForm.setFormError(error);\r\n            }\r\n        }\r\n    }\r\n\r\n    showSuccessPasswordForgot () {\r\n        const email = this.forgotPasswordForm.emailField.getValue();\r\n\r\n        this.forgotPasswordForm.showFormResult(`\r\n            <div class=\"wk-success-message wk-password-reset-success wk-password-forgot-message\">\r\n                <p class=\"wk-success-message__description\">Please follow the instructions sent to <b>${email}</b> to set a new password.</p>\r\n                <button id=\"back-to-login\" class=\"wk-form-button wk-form-button--cancel\">Back to login</button>\r\n            </div>\r\n        `);\r\n    }\r\n\r\n    showSuccessPasswordReset () {\r\n        this.resetPasswordForm.showFormResult(`\r\n            <div class=\"wk-success-message wk-password-reset-success wk-password-reset-message\">\r\n                <h2 class=\"wk-success-message__title\">Your password had been saved successfully!</h2>\r\n                <button id=\"back-to-login\" class=\"wk-form-button wk-form-button--cancel\">Back to login</button>\r\n            </div>\r\n        `);\r\n    }\r\n\r\n    render () {\r\n        if (this.loginForm) {\r\n            this.loginForm.render();\r\n        }\r\n\r\n        if (this.signUpForm) {\r\n            this.signUpForm.render();\r\n        }\r\n\r\n        if (this.forgotPasswordForm) {\r\n            this.forgotPasswordForm.render();\r\n        }\r\n\r\n        if (this.resetPasswordForm) {\r\n            this.resetPasswordForm.render();\r\n        }\r\n\r\n        if (this.triggerButton) {\r\n            this.triggerButton.render()\r\n        } else {\r\n            this.showDefaultForm();\r\n        }\r\n    }\r\n}\r\n","import { createElement } from \"../../../utils/DOM\";\r\nimport { Form } from \"../index\";\r\n\r\nimport { PasswordField } from \"../field/PasswordField.js\";\r\n\r\nexport class ChangePasswordForm extends Form {\r\n    constructor(targetElementSelector, options) {\r\n        super(targetElementSelector, options);\r\n\r\n        this.onCancel = options.onCancel || false;\r\n        this.options = options;\r\n        this.options.title = 'Change Password' || options.title;\r\n        this.options.footer = this.getFormFooter() || options.footer;\r\n\r\n        this.oldPasswordField = new PasswordField({\r\n            dataSlug: 'old_password',\r\n            name: 'wk-old-password',\r\n            testStrength: false,\r\n            passwordHint: false,\r\n            label: 'Old Password',\r\n            type: 'password',\r\n            onEnter: () => {\r\n                this.submitForm();\r\n            },\r\n            onValidate: (field) => {\r\n                const value = field.getValue();\r\n                if (!value) {\r\n                    field.setError(`<div>\r\n                            <span>Password cannot be empty.</span>\r\n                        </div>`);\r\n                    return false;\r\n                }\r\n                return true;\r\n            }\r\n        });\r\n        this.newPasswordField = new PasswordField({\r\n            dataSlug: 'new_password',\r\n            name: 'wk-new-password',\r\n            testStrength: true,\r\n            passwordHint: true,\r\n            label: 'New Password',\r\n            type: 'password',\r\n            relatedData: {\r\n                oldPassword: this.oldPasswordField\r\n            },\r\n            onEnter: () => {\r\n              this.submitForm();\r\n            },\r\n            onValidate: (field) => {\r\n                const oldPasswordValue = field.relatedData.oldPassword.getValue();\r\n                const value = field.getValue();\r\n                if (oldPasswordValue === value) {\r\n                    field.setError(`<div>\r\n                            <span>The new password must not match the old one.</span>\r\n                        </div>`);\r\n                    return false;\r\n                }\r\n                return true;\r\n            }\r\n        });\r\n        this.newPasswordConfirmField = new PasswordField({\r\n            dataSlug: 'new_password_confirm',\r\n            name: 'wk-new-password-confirm',\r\n            testStrength: true,\r\n            passwordHint: false,\r\n            label: 'New Password Confirmation',\r\n            type: 'password',\r\n            relatedData: {\r\n                newPassword: this.newPasswordField\r\n            },\r\n            onEnter: () => {\r\n                this.submitForm();\r\n            },\r\n            onValidate: (field) => {\r\n                const newPasswordValue = field.relatedData.newPassword.getValue();\r\n                const value = field.getValue();\r\n                if (newPasswordValue !== value) {\r\n                    field.setError(`<div>\r\n                            <span>The password confirmation must be the same as the new password.</span>\r\n                        </div>`);\r\n                    return false;\r\n                }\r\n                return true;\r\n            }\r\n        });\r\n\r\n        this.fields = [\r\n            this.oldPasswordField,\r\n            this.newPasswordField,\r\n            this.newPasswordConfirmField,\r\n        ];\r\n\r\n        this.init();\r\n\r\n    }\r\n\r\n    cancelForm() {\r\n        if (typeof this.onCancel === \"function\") {\r\n            this.onCancel();\r\n        }\r\n    }\r\n\r\n    getFormFooter () {\r\n        const formFooter = createElement('div', {\r\n            className: 'wk-form__footer'\r\n        });\r\n        formFooter.appendChild(createElement('a', {\r\n            className: 'wk-form__link account-settings-link',\r\n            innerText: 'Cancel',\r\n            attributes: {\r\n                href: '#'\r\n            }\r\n        }));\r\n        formFooter.appendChild(this.submitBtn);\r\n\r\n        return formFooter;\r\n    }\r\n}\r\n","import { createElement } from \"../../../utils/DOM\";\r\nimport { Form } from \"../index\";\r\n\r\nimport { FormField } from \"../field\";\r\n\r\nexport class ForgotPasswordForm extends Form {\r\n    constructor(targetElementSelector, options) {\r\n        super(targetElementSelector, options);\r\n\r\n        this.options = options;\r\n        this.options.title = options.title || 'Reset Password';\r\n        this.options.footer = this.getFormFooter() || options.footer;\r\n\r\n        this.emailField = new FormField({\r\n            name: 'wk-fb-email',\r\n            dataSlug: 'email',\r\n            label: 'Email',\r\n            type: 'email',\r\n            onEnter: () => {\r\n              this.submitForm();\r\n            }\r\n        });\r\n\r\n        this.fields = [\r\n            this.emailField\r\n        ];\r\n\r\n        this.init();\r\n    }\r\n\r\n    getFormFooter () {\r\n        const formFooter = createElement('div', {\r\n            className: 'wk-form__footer'\r\n        });\r\n        formFooter.appendChild(this.cancelBtn);\r\n        this.cancelBtn.id = 'back-to-login';\r\n\r\n        formFooter.appendChild(this.submitBtn);\r\n\r\n        return formFooter;\r\n    }\r\n\r\n}\r\n","import { createElement } from \"../../../utils/DOM\";\r\nimport { Form } from \"../index\";\r\n\r\nimport { FormField } from \"../field\";\r\nimport { PasswordField } from \"../field/PasswordField.js\";\r\n\r\nexport class LoginForm extends Form {\r\n    constructor(targetElementSelector, options) {\r\n        super(targetElementSelector, options);\r\n\r\n        this.options = options;\r\n        this.options.title = options.title || 'Sign in with email';\r\n        this.options.footer = this.getFormFooter() || options.footer;\r\n\r\n        this.emailField = new FormField({\r\n            dataSlug: 'email',\r\n            name: 'wk-fb-email',\r\n            label: 'Email',\r\n            type: 'email',\r\n            onEnter: () => {\r\n              this.passwordField.focus();\r\n            }\r\n        });\r\n\r\n        this.passwordField = new PasswordField({\r\n            dataSlug: 'password',\r\n            name: 'wk-fb-password',\r\n            testStrength: false,\r\n            label: 'Password',\r\n            type: 'password',\r\n            onEnter: () => {\r\n              this.submitForm();\r\n            }\r\n        });\r\n\r\n        this.fields = [\r\n            this.emailField,\r\n            this.passwordField\r\n        ];\r\n\r\n        this.init();\r\n\r\n        if (options.onCancel) {\r\n            this.cancelBtn.addEventListener('click', options.onCancel.bind(this));\r\n        }\r\n    }\r\n\r\n    getFormFooter() {\r\n        const footerWrapper = createElement('div');\r\n\r\n        const subFooter = createElement('div', {\r\n            className: 'wk-form__sub-footer',\r\n        });\r\n\r\n        if (this.options.signUp === true) {\r\n            subFooter.appendChild(createElement('a', {\r\n                id: 'auth-signup-link',\r\n                className: 'wk-form__link',\r\n                innerText: this.options.signUpLinkTitle || 'Sign Up',\r\n                attributes: {\r\n                    href: '#'\r\n                }\r\n            }));\r\n        }\r\n\r\n        subFooter.appendChild(createElement('a', {\r\n            className: 'wk-form__link wk-form__reset-password',\r\n            innerText: 'Forgot password',\r\n            id: 'auth-password-link',\r\n            attributes: {\r\n                href: '#'\r\n            }\r\n        }));\r\n\r\n        const formFooter = createElement('div', {\r\n            className: 'wk-form__footer wk-form__footer--right'\r\n        });\r\n\r\n        footerWrapper.appendChild(subFooter);\r\n\r\n        if (this.options.cancelBtn !== false) {\r\n          formFooter.appendChild(this.cancelBtn);\r\n        }\r\n        formFooter.appendChild(this.submitBtn);\r\n\r\n        footerWrapper.appendChild(formFooter);\r\n\r\n        return footerWrapper;\r\n    }\r\n}\r\n","import { createElement } from \"../../../utils/DOM\";\r\nimport { Form } from \"../index\";\r\n\r\nimport {PasswordField} from \"../field/PasswordField\";\r\n\r\nexport class ResetPasswordForm extends Form {\r\n    constructor(targetElementSelector, options) {\r\n        super(targetElementSelector, options);\r\n\r\n        this.options = options;\r\n        this.options.title = options.title || 'Reset Password';\r\n        this.options.footer = this.getFormFooter() || options.footer;\r\n\r\n        this.newPasswordField = new PasswordField({\r\n            dataSlug: 'new_password',\r\n            name: 'wk-new-password',\r\n            testStrength: true,\r\n            passwordHint: true,\r\n            label: 'New Password',\r\n            type: 'password',\r\n            onEnter: () => {\r\n                this.submitForm();\r\n            },\r\n        });\r\n\r\n        this.fields = [\r\n            this.newPasswordField\r\n        ];\r\n\r\n        this.init();\r\n    }\r\n\r\n    getFormFooter () {\r\n        const formFooter = createElement('div', {\r\n            className: 'wk-form__footer'\r\n        });\r\n        formFooter.appendChild(this.cancelBtn);\r\n        this.cancelBtn.id = 'back-to-login';\r\n\r\n        formFooter.appendChild(this.submitBtn);\r\n\r\n        return formFooter;\r\n    }\r\n\r\n}\r\n","import { createElement } from \"../../../utils/DOM\";\r\nimport { Form } from \"../index\";\r\n\r\nimport { FormField } from \"../field\";\r\nimport { PasswordField } from \"../field/PasswordField.js\";\r\nimport { CheckBoxField } from \"../field/CheckBoxField.js\";\r\n\r\nexport class SignupForm extends Form {\r\n    constructor(targetElementSelector, options) {\r\n        super(targetElementSelector, options);\r\n\r\n        this.options = options;\r\n        this.options.title = options.title || 'Sign Up';\r\n        this.options.footer = this.getFormFooter() || options.footer;\r\n        this.options.termsOfService.termsOfService = this.#defaultTermsOfServiceOption(this.options.termsOfService.termsOfService);\r\n\r\n        this.emailField = new FormField({\r\n            dataSlug: 'email',\r\n            name: 'wk-fb-email',\r\n            label: 'Email',\r\n            type: 'email',\r\n            onEnter: () => {\r\n              this.nameField.focus();\r\n            }\r\n        });\r\n        this.nameField = new FormField({\r\n            dataSlug: 'name',\r\n            name: 'wk-fb-name',\r\n            label: 'Name',\r\n            type: 'text',\r\n            onEnter: () => {\r\n              this.passwordField.focus();\r\n            }\r\n        });\r\n        this.passwordField = new PasswordField({\r\n            dataSlug: 'password',\r\n            name: 'wk-fb-password',\r\n            testStrength: true,\r\n            passwordHint: true,\r\n            label: 'Password',\r\n            type: 'password',\r\n            onEnter: () => {\r\n              this.submitForm();\r\n            }\r\n        });\r\n\r\n        if (this.#isTosEnabled(options)) {\r\n          this.tosField = new CheckBoxField({\r\n            dataSlug: 'agreement',\r\n            name: 'wk-fb-agreement',\r\n            required: true,\r\n            label: this.getTosAcceptLabel(options.termsOfService),\r\n            type: 'checkbox',\r\n          });\r\n        }\r\n\r\n        this.fields = [\r\n            this.emailField,\r\n            this.nameField,\r\n            this.passwordField,\r\n        ];\r\n\r\n        if (this.tosField) {\r\n          this.fields.push(this.tosField);\r\n        }\r\n\r\n        this.init();\r\n\r\n        if (options.onCancel) {\r\n            this.cancelBtn.addEventListener('click', options.onCancel.bind(this));\r\n        }\r\n    }\r\n\r\n    #defaultTermsOfServiceOption(termsOfService) {\r\n        if (typeof termsOfService === \"undefined\" ||\r\n            ( typeof termsOfService !== \"string\" && typeof termsOfService !== \"boolean\" ) ) {\r\n            termsOfService = true\r\n        }\r\n        return termsOfService;\r\n    }\r\n\r\n    getFormFooter () {\r\n        const formFooter = createElement('div', {\r\n            className: 'wk-form__footer'\r\n        });\r\n        const signInWrapper = createElement( 'div', {\r\n            className: 'wk-form__footer-sign-in',\r\n            innerText: 'Already have an account? ',\r\n        });\r\n        signInWrapper.appendChild(createElement('a', {\r\n            className: 'wk-form__link',\r\n            innerText: this.options.signInLinkTitle || 'Sign-in',\r\n            id: 'auth-signin-link',\r\n            attributes: {\r\n                href: '#'\r\n            }\r\n        }));\r\n        formFooter.appendChild(signInWrapper);\r\n\r\n        if (this.options.cancelBtn !== false) {\r\n            formFooter.appendChild(this.cancelBtn);\r\n        }\r\n\r\n        formFooter.appendChild(this.submitBtn);\r\n\r\n        return formFooter;\r\n    }\r\n\r\n    #isTosEnabled (options) {\r\n      if (!options.termsOfService.termsOfService) {\r\n        return false;\r\n      }\r\n\r\n      return (!!options.termsOfService.termsOfService && typeof options.termsOfService.termsOfService === \"string\") ||\r\n        !!options.termsOfService.tosURL ||\r\n        !!options.termsOfService.privacyPolicyURL;\r\n    }\r\n\r\n    getTosAcceptLabel (termsOptions) {\r\n      if (!termsOptions || !termsOptions.termsOfService) {\r\n        return '';\r\n      }\r\n\r\n      if (typeof termsOptions.termsOfService === \"string\") {\r\n        return termsOptions.termsOfService;\r\n      }\r\n\r\n      let defaultLabel = `By signing up I agree with the`;\r\n\r\n      if (termsOptions.tosURL) {\r\n        defaultLabel += ` <a href=\"${termsOptions.tosURL}\" target=\"_blank\">Terms & Conditions</a>`\r\n      }\r\n\r\n      if (termsOptions.tosURL && termsOptions.privacyPolicyURL) {\r\n        defaultLabel += ` and `\r\n      }\r\n\r\n      if (termsOptions.privacyPolicyURL) {\r\n        defaultLabel += ` <a href=\"${termsOptions.privacyPolicyURL}\" target=\"_blank\">Privacy Policy</a>`\r\n      }\r\n\r\n      return defaultLabel;\r\n    }\r\n}\r\n","import { createElement } from \"../../utils/DOM\";\r\n\r\nexport class Form {\r\n    constructor(targetElementSelector, options) {\r\n        this.targetElementSelector = targetElementSelector;\r\n\r\n        this.formWrapper = createElement('div', {\r\n            className: 'wk-form'\r\n        });\r\n\r\n        this.submitBtn = createElement('button', {\r\n            className: 'wk-form-button',\r\n            innerText: options.submitBtnTitle || 'Submit'\r\n        });\r\n\r\n        this.cancelBtn = createElement('button', {\r\n            className: 'wk-form-button wk-form-button--cancel',\r\n            innerText: options.cancelBtnTitle || 'Cancel'\r\n        });\r\n\r\n        this.loading = false;\r\n\r\n        this.options = options;\r\n        this.fields = [];\r\n    }\r\n\r\n    render (selector) {\r\n        try {\r\n            const placeholderElement = document.querySelector(selector || this.targetElementSelector);\r\n            if (placeholderElement) {\r\n                placeholderElement.appendChild(this.getFormElement());\r\n            }\r\n        } catch (e) {\r\n            console.log('FORM RENDER ERROR:', e);\r\n        }\r\n    }\r\n\r\n    getFormElement () {\r\n        return this.formWrapper;\r\n    }\r\n\r\n    setFormError (error) {\r\n        this.formErrorPlaceholder.innerText = error;\r\n        this.formErrorPlaceholder.classList.add('wk-form__error--show');\r\n    }\r\n\r\n    resetFormError () {\r\n        this.formErrorPlaceholder.innerText = '';\r\n        this.formErrorPlaceholder.classList.remove('wk-form__error--show');\r\n    }\r\n\r\n    resetFields () {\r\n        this.fields.forEach((field) => field.resetField());\r\n    }\r\n\r\n    resetForm () {\r\n        this.resetFields();\r\n        this.resetFormError();\r\n    }\r\n\r\n    showFormResult (markup) {\r\n        if (markup) {\r\n            this.formWrapper.innerHTML = '';\r\n            this.formWrapper.appendChild(createElement('div', {\r\n                className: 'wk-form-result',\r\n                innerHTML: markup || ''\r\n            }));\r\n        }\r\n    }\r\n\r\n    insertFields () {\r\n        this.formWrapperFields = createElement('div', {\r\n            className: 'wk-form-fields'\r\n        });\r\n\r\n        this.fields.forEach((field) => {\r\n            this.formWrapperFields.appendChild(field.getElement());\r\n        });\r\n\r\n        this.formWrapper.appendChild(this.formWrapperFields);\r\n\r\n        return this;\r\n    }\r\n\r\n    insertHeader () {\r\n        this.formWrapperHeader = createElement('div', {\r\n            className: 'wk-form-header'\r\n        });\r\n\r\n        if (this.options.title) {\r\n            this.formWrapperHeader.appendChild(createElement('h2', {\r\n                className: 'wk-form-header__title',\r\n                innerText: this.options.title\r\n            }));\r\n        }\r\n\r\n        if (this.options.description) {\r\n            this.formWrapperHeader.appendChild(createElement('h2', {\r\n                className: 'wk-form-header__description',\r\n                innerText: this.options.description\r\n            }));\r\n        }\r\n\r\n        this.formErrorPlaceholder = createElement('div', {\r\n            className: 'wk-form__error'\r\n        });\r\n\r\n        this.formWrapperHeader.appendChild(this.formErrorPlaceholder);\r\n        this.formWrapper.appendChild(this.formWrapperHeader);\r\n\r\n        return this;\r\n    }\r\n\r\n    insertFooter () {\r\n        const formWrapperFooter = createElement('div', {\r\n            className: 'wk-form-footer'\r\n        });\r\n\r\n        if (!this.options.footer) {\r\n            formWrapperFooter.appendChild(this.submitBtn);\r\n        } else {\r\n            formWrapperFooter.appendChild(this.options.footer);\r\n        }\r\n\r\n        this.formWrapper.appendChild(formWrapperFooter);\r\n\r\n        return this;\r\n    }\r\n\r\n    validateForm () {\r\n        let isValid = null;\r\n\r\n        this.fields.forEach((field) => {\r\n            const isFieldValid = field.validate();\r\n\r\n            if (isValid !== false) {\r\n                isValid = isFieldValid;\r\n            }\r\n        });\r\n\r\n        return isValid;\r\n    }\r\n\r\n    show () {\r\n        this.formWrapper.style.display = 'block';\r\n\r\n        return this;\r\n    }\r\n\r\n    hide () {\r\n        this.formWrapper.style.display = 'none';\r\n\r\n        return this;\r\n    }\r\n\r\n    get isVisible () {\r\n        if (window.getComputedStyle(this.formWrapper)){\r\n            return window.getComputedStyle(this.formWrapper).getPropertyValue('display') === 'block';\r\n        }\r\n        return false;\r\n    }\r\n\r\n    submitForm () {\r\n        if (this.validateForm()) {\r\n            if (this.options.onSubmit) {\r\n                const data = {};\r\n\r\n                this.fields.forEach((field) => {\r\n                    data[field.slug] = field.getValue();\r\n                });\r\n\r\n                this.resetFormError();\r\n\r\n                this.options.onSubmit(data);\r\n            }\r\n        }\r\n    }\r\n\r\n    reRender () {\r\n        this.formWrapper.innerHTML = '';\r\n        this.insertFormElements();\r\n    }\r\n\r\n    insertFormElements () {\r\n        this.insertHeader();\r\n        this.insertFields();\r\n        this.insertFooter();\r\n    }\r\n\r\n    init () {\r\n        this.insertFormElements();\r\n\r\n        this.submitBtn.addEventListener('click', this.submitForm.bind(this));\r\n\r\n        return this;\r\n    }\r\n}","import { createElement } from \"../../utils/DOM\";\r\nimport { WALLKIT_MODAL_MIN_WIDTH, WALLKIT_MODAL_MIN_HEIGHT, WALLKIT_POPUP_URL, WALLKIT_POPUP_DEV_URL, WALLKIT_FRAME_ID } from \"../../configs/constants\";\r\nimport { FRAME_CREATED, WALLKIT_CHANGE_FRAME, WALLKIT_FRAME_READY, WALLKIT_FRAME_ROUTE_CHANGE } from \"../events/events-name\";\r\nimport Events from \"../events\";\r\n\r\nconst ADDITIONAL_FRAME_CLASSNAMES = 'intrinsic-ignore';\r\n\r\nexport default class Frame {\r\n    constructor(options) {\r\n        if (!!Frame.instance) {\r\n            return Frame.instance;\r\n        }\r\n\r\n        Frame.instance = this;\r\n\r\n        this.currentFrameName = '';\r\n        this.options = options;\r\n        this.frameElement = null;\r\n        this.ready = false;\r\n\r\n        this.events = new Events();\r\n    }\r\n\r\n    get element() {\r\n        return this.frameElement;\r\n    }\r\n\r\n    get getFrameURL() {\r\n        const host = this.options.mode === 'dev' ? WALLKIT_POPUP_DEV_URL : WALLKIT_POPUP_URL;\r\n        const lang = this.options.lang ?? 'en';\r\n        return `${ host }?PUBLIC_KEY=${ this.options.public_key }&version=${ this.options.version }&lang=${lang}`;\r\n    }\r\n\r\n    createFrame() {\r\n        this.frameElement = createElement('iframe', {\r\n            id: WALLKIT_FRAME_ID,\r\n            className: `${WALLKIT_FRAME_ID} ${ADDITIONAL_FRAME_CLASSNAMES}`,\r\n            attributes: {\r\n                scrolling: 'no',\r\n                allowtransparency: 'true',\r\n                frameborder: '0',\r\n                width: WALLKIT_MODAL_MIN_WIDTH,\r\n                height: WALLKIT_MODAL_MIN_HEIGHT\r\n            }\r\n        });\r\n        this.frameElement.setAttribute(\"src\", this.getFrameURL);\r\n\r\n        this.events.notify(FRAME_CREATED, true);\r\n\r\n        return this.frameElement;\r\n    }\r\n\r\n    resize(width, height) {\r\n        width = width >= WALLKIT_MODAL_MIN_WIDTH ? width : WALLKIT_MODAL_MIN_WIDTH;\r\n        height = height >= WALLKIT_MODAL_MIN_HEIGHT ? height : WALLKIT_MODAL_MIN_HEIGHT;\r\n\r\n        if (this.frameElement) {\r\n            this.frameElement.width = width;\r\n            this.frameElement.height = height;\r\n        }\r\n    }\r\n\r\n    sendEvent(name, value, params) {\r\n        const event = () => {\r\n            if (this.frameElement && this.frameElement.contentWindow) {\r\n                const frameWindow = this.frameElement.contentWindow;\r\n\r\n                this.events.notify(name, value);\r\n\r\n                frameWindow.postMessage({\r\n                    name: name,\r\n                    value: value,\r\n                    params: params\r\n                }, '*');\r\n            }\r\n        }\r\n\r\n        if (this.ready) {\r\n            event();\r\n        } else {\r\n            this.events.subscribe(WALLKIT_FRAME_READY, event.bind(this));\r\n        }\r\n    }\r\n\r\n    openFrame(name, params) {\r\n        this.currentFrameName = name;\r\n        if (this.ready) {\r\n            this.sendEvent(WALLKIT_CHANGE_FRAME, name, params);\r\n        } else {\r\n            this.events.subscribe(WALLKIT_FRAME_READY, () => {\r\n                this.sendEvent(WALLKIT_CHANGE_FRAME, name, params);\r\n            }, { once: true});\r\n        }\r\n    }\r\n\r\n    #listeners() {\r\n        this.events.subscribe(WALLKIT_FRAME_ROUTE_CHANGE, (value) => {\r\n           this.currentFrameName = value;\r\n        });\r\n\r\n        this.events.subscribe(WALLKIT_FRAME_READY, (value) => {\r\n            if (value === true) {\r\n                this.onFrameReady();\r\n            }\r\n        });\r\n    }\r\n\r\n    onFrameReady() {\r\n        this.ready = true;\r\n        if (this.options?.onReady) {\r\n            this.options?.onReady();\r\n        }\r\n    }\r\n\r\n    init() {\r\n        this.#listeners();\r\n\r\n        return this.createFrame();\r\n    }\r\n\r\n}\r\n","import { FB_AVAILABLE_LANGUAGES } from \"../../configs/languages\";\r\nimport {WALLKIT_EVENT_CHANGE_LANGUAGE} from \"../events/events-name\";\r\nimport Events from \"../events\";\r\n\r\nexport class Localization {\r\n    #events;\r\n    constructor() {\r\n        this.#events = new Events();\r\n    }\r\n\r\n    static assembleLanguage (language = 'en') {\r\n        if (typeof language === \"string\") {\r\n            if (FB_AVAILABLE_LANGUAGES.includes(language.toLowerCase())) {\r\n                return language;\r\n            }\r\n        }\r\n\r\n        return 'en';\r\n    }\r\n    static changeLanguage (language = 'en') {\r\n        if (typeof language === \"string\") {\r\n            this.#events.notify(WALLKIT_EVENT_CHANGE_LANGUAGE, language);\r\n        }\r\n    }\r\n}\r\n","import {\r\n  WALLKIT_MODAL_WRAPPER_CLASSNAME,\r\n  WALLKIT_MODAL_CLOSE_BTN_CLASSNAME,\r\n  WALLKIT_MODAL_CONTENT_CLASSNAME,\r\n  WALLKIT_MODAL_MIN_WIDTH,\r\n  WALLKIT_MODAL_MIN_HEIGHT, WALLKIT_MODAL_MAX_WIDTH\r\n} from \"../../configs/constants\";\r\nimport DOM from '../../utils/DOM';\r\nimport { loadWallkitAsset } from \"../../utils/loaders\";\r\nimport { parseModalHashURL, parseUrlToShowAuthModal } from \"../../utils/url\";\r\nimport Events from \"../events\";\r\nimport { MODAL_CLOSED } from \"../events/events-name\";\r\n\r\nexport default class Modal {\r\n    constructor(options) {\r\n        this.options = options;\r\n        this.modalFrame = options ? options.resourceFrame : null;\r\n        this.content = options ? options.content : null;\r\n        this.modalWrapper = null;\r\n        this.modalContent = null;\r\n        this.loaderElement = null;\r\n        this.isLoading = false;\r\n        this.closeOutside = true;\r\n        this.onClose = options ? options.onClose : null;\r\n    }\r\n\r\n    #getModalName() {\r\n        return this.options?.modalName ?? 'wk-modal';\r\n    }\r\n\r\n    #createElement(elementTag, elementName, options) {\r\n        let elementIdName = this.#getModalName() + '-' + elementName;\r\n\r\n        let elementIndex = 0;\r\n        let elementId = elementIdName;\r\n        while (DOM.checkIfElementExists('#' + elementId)) {\r\n            ++elementIndex;\r\n            elementId = elementIdName + '-' + elementIndex;\r\n        }\r\n\r\n        return DOM.createElement(elementTag, { id: elementId, ...options });\r\n    }\r\n\r\n    #createCloseBtn() {\r\n        const closeBtn = this.#createElement('div', 'close-btn', {\r\n            className: WALLKIT_MODAL_CLOSE_BTN_CLASSNAME\r\n        });\r\n        closeBtn.innerHTML = '&#xd7;'; // Plus Symbol\r\n\r\n        this.bindCloseEvent(closeBtn);\r\n\r\n        return closeBtn;\r\n    }\r\n\r\n    bindCloseEvent(element) {\r\n        return element.addEventListener('click', this.hide.bind(this));\r\n    }\r\n\r\n    #createWrapper() {\r\n        let modalClassName = WALLKIT_MODAL_WRAPPER_CLASSNAME;\r\n\r\n        if (this.options?.className) {\r\n            modalClassName += ' ' + this.options?.className;\r\n        }\r\n\r\n        this.modalWrapper = this.#createElement('div', 'wrapper', {\r\n            styles: {\r\n                display: 'none',\r\n            },\r\n            className: modalClassName\r\n        });\r\n\r\n        this.modalWrapper.addEventListener('click', (event) => {\r\n            if (event.target.id === this.modalWrapper.id) {\r\n                if (this.closeOutside) {\r\n                    this.hide();\r\n                }\r\n            }\r\n        });\r\n\r\n        return this.modalWrapper;\r\n    }\r\n\r\n    #createContent() {\r\n        this.modalContent = this.#createElement('div', 'content', {\r\n            className: WALLKIT_MODAL_CONTENT_CLASSNAME\r\n        });\r\n\r\n        this.modalContent.style.minWidth = WALLKIT_MODAL_MIN_WIDTH + 'px';\r\n        this.modalContent.style.minHeight = WALLKIT_MODAL_MIN_HEIGHT + 'px';\r\n        this.modalContent.style.maxWidth = WALLKIT_MODAL_MAX_WIDTH + 'px';\r\n\r\n        return this.modalContent;\r\n    }\r\n\r\n    insertContent(element) {\r\n       if (this.modalContent && element) {\r\n           if (typeof element === \"string\") {\r\n               this.modalContent.insertAdjacentHTML('beforeend', element);\r\n           } else if (element instanceof HTMLElement) {\r\n               this.modalContent.appendChild(element);\r\n           }\r\n       }\r\n    }\r\n\r\n    toggleLoader(state) {\r\n        this.isLoading = state;\r\n        this.loaderElement.style.display = state ? 'flex' : 'none';\r\n    }\r\n\r\n    #createLoader() {\r\n        this.loaderElement = this.#createElement('div', 'wallkit-modal-spinner', {\r\n            className: 'wallkit-spinner',\r\n            styles: {\r\n                display: this.options?.initialLoader ? 'flex' : 'none',\r\n            },\r\n        });\r\n\r\n        this.loaderElement.insertAdjacentHTML('beforeend', '<div class=\"wallkit-spinner__container\">' +\r\n            '<div class=\"cube1\"></div>' +\r\n            '<div class=\"cube2\"></div>' +\r\n            '</div>');\r\n    }\r\n\r\n    #completeModal() {\r\n        this.#loadAssets();\r\n        this.modalWrapper.appendChild(this.modalContent);\r\n        this.modalContent.appendChild(this.loaderElement);\r\n        this.modalContent.appendChild(this.#createCloseBtn());\r\n\r\n        if (this.modalFrame) {\r\n            this.insertContent(this.modalFrame.init());\r\n        } else if (this.modalContent) {\r\n            this.insertContent(this.content);\r\n        }\r\n\r\n        return DOM.injectInBody(this.modalWrapper);\r\n    }\r\n\r\n    open(name, params) {\r\n        if (this.modalFrame) {\r\n            this.modalFrame.openFrame(name, params);\r\n            this.show();\r\n        }\r\n    }\r\n\r\n    destroy() {\r\n\r\n    }\r\n\r\n    show() {\r\n        this.modalWrapper.style.display = 'flex';\r\n    }\r\n\r\n    hide() {\r\n        const events = new Events();\r\n        events.notify(MODAL_CLOSED, { name: this.#getModalName() });\r\n\r\n        if (this.onClose) {\r\n            this.onClose();\r\n        }\r\n\r\n        this.modalWrapper.style.display = 'none';\r\n    }\r\n\r\n    resize(width, height) {\r\n        if (this.modalFrame) {\r\n            this.modalFrame.resize(width, height);\r\n        }\r\n    }\r\n\r\n    sendEvent(name, value, params) {\r\n        if (this.modalFrame) {\r\n            this.modalFrame.sendEvent(name, value, params);\r\n        }\r\n    }\r\n\r\n    openByHash() {\r\n        const modal = parseModalHashURL();\r\n        if (modal) {\r\n            this.open(modal.name, modal.params);\r\n        } else if (parseUrlToShowAuthModal()) {\r\n            this.open('sign-in');\r\n        }\r\n    }\r\n\r\n    #loadAssets() {\r\n        loadWallkitAsset('css', '1.0', 'spinner');\r\n    }\r\n\r\n    onReady() {\r\n        if (this.options?.onReady) {\r\n            this.options.onReady(this);\r\n        }\r\n    }\r\n\r\n    setError(error) {\r\n        this.modalContent.insertAdjacentHTML('afterbegin', `<div class=\"wallkit-modal-error\">${error}</div>`);\r\n    }\r\n\r\n    init() {\r\n        this.#createWrapper();\r\n        this.#createContent();\r\n        this.#createLoader();\r\n        this.#completeModal();\r\n        this.onReady();\r\n    }\r\n}\r\n","import { insertScript } from \"../../utils/DOM\";\r\nimport { WALLKIT_CDN_URL } from \"../../configs/constants\";\r\nimport { WALLKIT_SDK_LOADED } from '../events/events-name';\r\nimport Events from \"../events\";\r\n\r\nexport default class SDK {\r\n    #options;\r\n    #events;\r\n    #apiUrl;\r\n\r\n    constructor(options) {\r\n        if (!!SDK.instance) {\r\n            return SDK.instance;\r\n        }\r\n\r\n        if (!options) {\r\n            return new Error('No Options Provided');\r\n        }\r\n\r\n        SDK.instance = this;\r\n\r\n        this.methods = null;\r\n        this.client = null;\r\n\r\n        this.#options = options;\r\n        this.#events = new Events();\r\n        this.#apiUrl = options.mode === 'dev' ? 'https://api.dev.wallkit.net/api/v1': undefined;\r\n\r\n        if (window.Wallkit) {\r\n            this.onLoad();\r\n        } else {\r\n            this.load();\r\n        }\r\n    }\r\n\r\n    onLoad() {\r\n        if (window.Wallkit) {\r\n            window.Wallkit.init({\r\n              resource: this.#options.public_key,\r\n              api_url: this.#apiUrl,\r\n              subDomainCookie: this.#options.cookies?.subDomain ?? false\r\n            });\r\n            this.methods = window.Wallkit;\r\n            this.client = window.Wallkit.client;\r\n            this.#events.notify(WALLKIT_SDK_LOADED, window.Wallkit);\r\n\r\n            if (this.#options?.onLoaded) {\r\n                this.#options?.onLoaded();\r\n            }\r\n        }\r\n    }\r\n\r\n    awaitLoad() {\r\n        return new Promise((resolve) => {\r\n            if (!this.methods) {\r\n                this.#events.subscribe(WALLKIT_SDK_LOADED, () => resolve(this));\r\n            } else {\r\n                resolve(this);\r\n            }\r\n        });\r\n    }\r\n\r\n    load() {\r\n        insertScript(`${WALLKIT_CDN_URL}/js/sdk/0.0.51/wallkit.umd.min.js`, 'wallkit-js-sdk', this.onLoad.bind(this));\r\n    }\r\n}\r\n","import Modal from \"../modal\";\r\nimport { ChangePasswordForm } from \"../form/forms/ChangePasswordForm\"\r\nimport {WALLKIT_USER_MANAGER_MODAL_FORM_PLACEHOLDER_ID} from \"../../configs/constants\";\r\n\r\nexport default class UserManager {\r\n\r\n    constructor(options) {\r\n        this.popup = options.popup;\r\n        this.authentication = options.authentication;\r\n        this.#initModal(options);\r\n    }\r\n\r\n    #initModal(options) {\r\n        this.modal = new Modal({\r\n            modalName: options.name || 'user-manager-modal',\r\n            content: options.content || this.getDefaultUserManagerModalContent(),\r\n            className: options.className || 'wallkit-auth-modal',\r\n            initialLoader: options.loader || false\r\n        });\r\n        this.modal.init();\r\n        this.modal.modalWrapper.addEventListener('click', (event) => {\r\n            if (this.changePasswordForm && event.target.classList.contains('account-settings-link')) {\r\n                event.preventDefault();\r\n                this.changePasswordForm.cancelForm();\r\n            }\r\n        });\r\n    }\r\n\r\n    #initChangePasswordForm () {\r\n        if (!this.changePasswordForm) {\r\n            this.changePasswordForm = new ChangePasswordForm(\r\n                `#${WALLKIT_USER_MANAGER_MODAL_FORM_PLACEHOLDER_ID}`, {\r\n                    onCancel: () => {\r\n                        this.cancelModalForm({\r\n                            openPopupName: 'account-settings'\r\n                        });\r\n                    },\r\n                    onSubmit: (data) => {\r\n                        this.#onSubmitChangePasswordForm(data);\r\n                    }\r\n                });\r\n            this.changePasswordForm.render();\r\n        } else {\r\n            this.changePasswordForm.resetForm();\r\n            this.changePasswordForm.reRender();\r\n        }\r\n    }\r\n\r\n    async #onSubmitChangePasswordForm({old_password, new_password}) {\r\n        try {\r\n            if (this.modal) {\r\n                this.modal.toggleLoader(true);\r\n            }\r\n            await this.authentication.firebase.reauthenticateWithCredential(old_password);\r\n            await this.authentication.firebase.updatePassword(new_password);\r\n            this.#successChangePasswordForm();\r\n        } catch (error) {\r\n            this.#setErrorMessageChangePasswordForm(error);\r\n        }\r\n    }\r\n\r\n    #setErrorMessageChangePasswordForm (error) {\r\n        if (this.changePasswordForm) {\r\n            if (error.message) {\r\n                this.changePasswordForm.setFormError(error.message);\r\n            }\r\n            if (this.modal) {\r\n                this.modal.toggleLoader(false);\r\n            }\r\n        }\r\n    }\r\n\r\n    #successChangePasswordForm () {\r\n        if (this.changePasswordForm) {\r\n            this.changePasswordForm.showFormResult(`\r\n            <div class=\"wk-success-message wk-password-reset-success\">\r\n                <h2 class=\"wk-success-message__title\">Your password has been successfully changed!</h2>\r\n                <a href=\"#\" class=\"wk-form__link account-settings-link\">Back to account settings</a>\r\n            </div>\r\n        `);\r\n            if (this.modal) {\r\n                this.modal.toggleLoader(false);\r\n            }\r\n        }\r\n    }\r\n\r\n    cancelModalForm(options) {\r\n        this.modal.hide();\r\n        if (options.openPopupName) {\r\n            this.popup.open(options.openPopupName);\r\n        }\r\n    }\r\n\r\n    showChangePassword() {\r\n        this.modal.show();\r\n        this.#initChangePasswordForm();\r\n    }\r\n\r\n    getDefaultUserManagerModalContent () {\r\n        return `<div>\r\n                    <div id=\"user-manager-modal-error\"></div>\r\n                    <div id=\"${WALLKIT_USER_MANAGER_MODAL_FORM_PLACEHOLDER_ID}\"></div>\r\n                </div>`;\r\n    }\r\n}","import Error, { ERRORS_TYPES } from '../handlers/Error.js';\r\n\r\nexport const isDocumentAvailable = () => {\r\n    return !!document;\r\n}\r\n\r\nexport const checkIfElementExists = (elementSelector) => {\r\n    if (!isDocumentAvailable()) return Error.handleError('Document is not available', ERRORS_TYPES.DOM_ERROR);\r\n\r\n    return !!document.querySelector(elementSelector);\r\n}\r\n\r\nexport const insertAfter = (newNode, referenceNode) => {\r\n    referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);\r\n}\r\n\r\nexport const createElement = (tag, options) => {\r\n    if (!isDocumentAvailable()) return Error.handleError('Document is not available', ERRORS_TYPES.DOM_ERROR);\r\n\r\n    if (!tag) return Error.checkRequiredArgument(tag);\r\n\r\n    const element = document.createElement(tag);\r\n\r\n    const { id, className, styles, attributes, innerText, innerHTML } = options ?? {}; // Options Arguments\r\n\r\n    if (id) {\r\n        element.id = id;\r\n    }\r\n\r\n    if (innerText) {\r\n        element.innerText = innerText;\r\n    }\r\n\r\n    if (innerHTML) {\r\n        element.innerHTML = innerHTML;\r\n    }\r\n\r\n    if (className) {\r\n        element.setAttribute('class', className);\r\n    }\r\n\r\n    if (styles && Object.keys(styles) && Object.keys(styles).length) {\r\n        for (let prop in styles) {\r\n            if (styles.hasOwnProperty(prop)) {\r\n                element.style[prop] = styles[prop];\r\n            }\r\n        }\r\n    }\r\n\r\n    if (attributes && Object.keys(attributes) && Object.keys(attributes).length) {\r\n        for (let prop in attributes) {\r\n            if (attributes.hasOwnProperty(prop)) {\r\n                element.setAttribute(prop,  attributes[prop]);\r\n            }\r\n        }\r\n    }\r\n\r\n    return element;\r\n}\r\n\r\nexport const injectInBody = (element) => {\r\n    if (!isDocumentAvailable()) return Error.handleError('Document is not available', ERRORS_TYPES.DOM_ERROR);\r\n    if (!element) return Error.checkRequiredArgument(element, 'element');\r\n\r\n    return document.body.appendChild(element);\r\n}\r\n\r\nexport const injectInHead = (element) => {\r\n    if (!isDocumentAvailable()) return Error.handleError('Document is not available', ERRORS_TYPES.DOM_ERROR);\r\n    if (!element) return Error.checkRequiredArgument(element, 'element');\r\n\r\n    return document.head.appendChild(element);\r\n}\r\n\r\nexport const loadCSS = (url, id) => {\r\n    if (!isDocumentAvailable()) return Error.handleError('Document is not available', ERRORS_TYPES.DOM_ERROR);\r\n    if (checkIfElementExists('#' + id)) return;\r\n\r\n    const head = document.querySelector('head');\r\n    const link = document.createElement('link');\r\n\r\n    if (id) {\r\n        link.id = id;\r\n    }\r\n\r\n    link.rel  = 'stylesheet';\r\n    link.type = 'text/css';\r\n    link.href = url;\r\n    link.media = 'all';\r\n\r\n    return head.appendChild(link);\r\n}\r\n\r\nexport const insertScript = (url, id, onload) => {\r\n    if (!isDocumentAvailable()) return Error.handleError('Document is not available', ERRORS_TYPES.DOM_ERROR);\r\n    if (checkIfElementExists('#' + id)) return;\r\n\r\n    const scriptElement = createElement('script', {\r\n        id,\r\n        attributes: {\r\n            src: url\r\n        }\r\n    });\r\n\r\n    if (onload) {\r\n        scriptElement.addEventListener('load', onload, { once: true });\r\n    }\r\n\r\n    return injectInBody(scriptElement);\r\n}\r\n\r\nexport const isMobile = () => {\r\n    if (typeof window !== 'undefined') {\r\n        return window.innerWidth < 800;\r\n    } else {\r\n        return false;\r\n    }\r\n};\r\n\r\nexport const normalizeSelector = (selector) => {\r\n    if (!!selector && !['#', '.'].includes(selector.charAt(0))) {\r\n        selector = `#${selector}`;\r\n    }\r\n    return selector;\r\n}\r\n\r\nexport default {\r\n    createElement,\r\n    injectInBody,\r\n    checkIfElementExists,\r\n    loadCSS,\r\n    insertScript,\r\n    isMobile,\r\n    normalizeSelector\r\n}\r\n","export const setCookie = (name, value, options) => {\r\n    if (!name || !value) {\r\n      return;\r\n    }\r\n\r\n    options = options || {};\r\n    let { expires } = options;\r\n\r\n    if (typeof expires === \"number\" && expires) {\r\n        let date = new Date();\r\n        date.setTime(date.getTime() + expires * 1000);\r\n        expires = options.expires = date;\r\n    }\r\n\r\n    if (expires && expires.toUTCString) {\r\n        options.expires = expires.toUTCString();\r\n    }\r\n\r\n    let updatedCookie = `${name}=${encodeURIComponent(value)}; `;\r\n\r\n    for (let propName in options) {\r\n        let propValue = options[propName];\r\n        if (propValue) {\r\n            updatedCookie += `${propName}=${propValue}; `;\r\n        }\r\n    }\r\n\r\n    document.cookie = updatedCookie;\r\n}\r\n\r\nexport const removeCookie = (name, domain) => {\r\n    const props = {\r\n      [name]: '',\r\n      expires: 'Thu, 01 Jan 1970 00:00:00 UTC',\r\n      path: '/',\r\n      domain: domain || null\r\n    };\r\n\r\n    let cookieFingerprint = '';\r\n    for (let propName in props) {\r\n      const propValue = props[propName];\r\n      if (propValue !== null && propValue !== undefined) {\r\n        cookieFingerprint += `${propName}=${propValue}; `;\r\n      }\r\n    }\r\n\r\n    document.cookie = cookieFingerprint;\r\n}\r\n\r\nexport default {\r\n    setCookie,\r\n    removeCookie\r\n}\r\n","export const isCrawler = () => {\r\n    return /bot|googlebot|crawler|spider|robot|crawling|facebookexternalhit|facebookcatalog/i.test(navigator.userAgent);\r\n}\r\n","import { loadCSS, insertScript } from \"./DOM\";\nimport { WALLKIT_CDN_ASSETS_URL } from \"../configs/constants\";\n\nexport const loadWallkitAsset = (type, version, name, min = true) => {\n    switch (type) {\n        case 'css':\n            let assetName = name;\n\n            if (min) {\n                assetName += '.min.css';\n            } else {\n                assetName += '.css';\n            }\n\n            loadCSS(`${WALLKIT_CDN_ASSETS_URL}/css/${version}/${assetName}`, `wk-css-${name}`);\n            return;\n        default:\n           return;\n    }\n}\n\nexport const loadScripts = (scripts) => {\n    if (Array.isArray(scripts)) {\n        scripts.forEach((script) => {\n            insertScript(script.url, script.id, script.onload);\n        });\n    }\n}\n\nexport default {\n    loadWallkitAsset,\n    loadScripts\n}","export default {\n    setItem: function (key, value) {\n        if (!this.isAvailable()) return null;\n\n        return window.localStorage.setItem(key, value);\n    },\n    getItem: function (key) {\n        if (!this.isAvailable()) return null;\n\n        return window.localStorage.getItem(key);\n    },\n    removeItem: function (key) {\n        if (!this.isAvailable()) return;\n\n        return window.localStorage.removeItem(key);\n    },\n    isAvailable: function () {\n        try {\n            window.localStorage.setItem('', '');\n            window.localStorage.removeItem('');\n            return true;\n        } catch(e) {\n            return false;\n        }\n    }\n};","export const isApplePayAvailable = () => {\n    try {\n        if (window.ApplePaySession) {\n            return window.ApplePaySession.canMakePayments();\n        } else {\n            return false;\n        }\n    } catch (e) {\n        console.error(\"ApplePay Error\", e);\n        return false;\n    }\n}","export const parseModalHashURL = () => {\r\n    const UryModal = /#WkModal\\((.*)\\)$/.exec(decodeURIComponent(window.location.hash));\r\n    if (UryModal && UryModal[1]) {\r\n        const par = UryModal[1].split(/,(.+)/);\r\n\r\n        if (typeof par[1] !== \"undefined\") {\r\n            try {\r\n                par[1] = JSON.parse(par[1])\r\n            } catch (_) {\r\n                par[1] = {\r\n                    value: par[1].trim()\r\n                }\r\n            }\r\n        }\r\n\r\n        window.location.hash = \"\";\r\n\r\n        return {\r\n            name: par[0],\r\n            params: (typeof par[1] === \"object\" ? par[1] : null)\r\n        }\r\n    }\r\n}\r\n\r\nexport const parseAuthTokenHash = () => {\r\n    const hash = decodeURIComponent(window.location.hash)\r\n\r\n    if (hash?.includes('wk-authorize')) {\r\n        const splitHash = hash.split('=');\r\n\r\n        const token = splitHash?.[1];\r\n        if (token) {\r\n            return token;\r\n        }\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\nexport const parseConfirmTokenHash = () => {\r\n  const hash = decodeURIComponent(window.location.hash)\r\n\r\n  if (hash?.includes('wk-confirm-email')) {\r\n    const splitHash = hash.split('=');\r\n\r\n    const token = splitHash?.[1];\r\n    if (token) {\r\n      return token;\r\n    }\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\nexport const resetHash = () => {\r\n    window.location.hash = '';\r\n    const path = window.location.href.replace('#', '');\r\n    window.history.pushState('', '', path);\r\n}\r\n\r\nexport const resetSearchParams = (params) => {\r\n    if (!!params && !!window.location.search && window.location.search.includes(params)) {\r\n        if (window.location.search.replace(params, '') === '?') {\r\n            params = '?'+params;\r\n        }\r\n        const path = window.location.href.replace(params, '');\r\n        window.history.pushState('', '', path);\r\n    }\r\n}\r\n\r\nexport const getDomainWithoutSubdomain = url => {\r\n  const urlParts = new URL(url).hostname.split('.')\r\n\r\n  return urlParts\r\n    .slice(0)\r\n    .slice(-(urlParts.length === 4 ? 3 : 2))\r\n    .join('.')\r\n}\r\n\r\nexport const getParentDomain = () => {\r\n  return `.${getDomainWithoutSubdomain(window.location)}`;\r\n}\r\n\r\nexport const parseResetPasswordOobCodeHash = () => {\r\n    const hash = decodeURIComponent(window.location.hash)\r\n\r\n    if (hash?.includes('#reset-password=')) {\r\n        const splitHash = hash.split('=');\r\n\r\n        const oobCode = splitHash?.[1];\r\n        if (oobCode) {\r\n            return oobCode;\r\n        }\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\nexport const parseUrlToShowAuthModal = () => {\r\n    const authUrlPattern = 'auth-modal=true';\r\n    const search = decodeURIComponent(window.location.search);\r\n    if (!!search?.includes(authUrlPattern)) {\r\n        resetSearchParams(authUrlPattern);\r\n        return true;\r\n    }\r\n    return false;\r\n}","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nmodule.exports = _assertThisInitialized, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}\nmodule.exports = _asyncToGenerator, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _classApplyDescriptorGet(receiver, descriptor) {\n  if (descriptor.get) {\n    return descriptor.get.call(receiver);\n  }\n  return descriptor.value;\n}\nmodule.exports = _classApplyDescriptorGet, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _classApplyDescriptorSet(receiver, descriptor, value) {\n  if (descriptor.set) {\n    descriptor.set.call(receiver, value);\n  } else {\n    if (!descriptor.writable) {\n      throw new TypeError(\"attempted to set read only private field\");\n    }\n    descriptor.value = value;\n  }\n}\nmodule.exports = _classApplyDescriptorSet, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nmodule.exports = _classCallCheck, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _classExtractFieldDescriptor(receiver, privateMap, action) {\n  if (!privateMap.has(receiver)) {\n    throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n  }\n  return privateMap.get(receiver);\n}\nmodule.exports = _classExtractFieldDescriptor, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var classApplyDescriptorGet = require(\"./classApplyDescriptorGet.js\");\nvar classExtractFieldDescriptor = require(\"./classExtractFieldDescriptor.js\");\nfunction _classPrivateFieldGet(receiver, privateMap) {\n  var descriptor = classExtractFieldDescriptor(receiver, privateMap, \"get\");\n  return classApplyDescriptorGet(receiver, descriptor);\n}\nmodule.exports = _classPrivateFieldGet, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var classApplyDescriptorSet = require(\"./classApplyDescriptorSet.js\");\nvar classExtractFieldDescriptor = require(\"./classExtractFieldDescriptor.js\");\nfunction _classPrivateFieldSet(receiver, privateMap, value) {\n  var descriptor = classExtractFieldDescriptor(receiver, privateMap, \"set\");\n  classApplyDescriptorSet(receiver, descriptor, value);\n  return value;\n}\nmodule.exports = _classPrivateFieldSet, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nmodule.exports = _createClass, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var superPropBase = require(\"./superPropBase.js\");\nfunction _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get.bind(), module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n      return desc.value;\n    }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  }\n  return _get.apply(this, arguments);\n}\nmodule.exports = _get, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _getPrototypeOf(o);\n}\nmodule.exports = _getPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\nmodule.exports = _inherits, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\nmodule.exports = _interopRequireDefault, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar assertThisInitialized = require(\"./assertThisInitialized.js\");\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return assertThisInitialized(self);\n}\nmodule.exports = _possibleConstructorReturn, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var exports = {},\n    Op = Object.prototype,\n    hasOwn = Op.hasOwnProperty,\n    defineProperty = Object.defineProperty || function (obj, key, desc) {\n      obj[key] = desc.value;\n    },\n    $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n    iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n    asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n    toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n      generator = Object.create(protoGenerator.prototype),\n      context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n    NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n          value = result.value;\n        return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function value(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function (resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function (method, arg) {\n      if (\"executing\" === state) throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method) throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg;;) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method,\n      method = delegate.iterator[methodName];\n    if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel;\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n          next = function next() {\n            for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n            return next.value = undefined, next.done = !0, next;\n          };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (val) {\n    var object = Object(val),\n      keys = [];\n    for (var key in object) keys.push(key);\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n          record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n            hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _setPrototypeOf(o, p);\n}\nmodule.exports = _setPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var getPrototypeOf = require(\"./getPrototypeOf.js\");\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n  return object;\n}\nmodule.exports = _superPropBase, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nmodule.exports = _toPrimitive, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar toPrimitive = require(\"./toPrimitive.js\");\nfunction _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\nmodule.exports = _toPropertyKey, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(6004);\n",""],"names":["LIBRARY_STYLES","WALLKIT_POPUP_URL","WALLKIT_POPUP_DEV_URL","WALLKIT_CDN_URL","WALLKIT_CDN_ASSETS_URL","ALLOWED_ORIGINS","document","location","origin","WALLKIT_MODAL_WRAPPER_CLASSNAME","WALLKIT_MODAL_CLOSE_BTN_CLASSNAME","WALLKIT_MODAL_CONTENT_CLASSNAME","WALLKIT_MODAL_MIN_WIDTH","WALLKIT_MODAL_MAX_WIDTH","WALLKIT_MODAL_MIN_HEIGHT","WALLKIT_FIREBASE_UI_PLACEHOLDER_ID","WALLKIT_FIREBASE_WK_FORM_PLACEHOLDER_ID","WALLKIT_AUTH_FORM_PLACEHOLDER_ID","WALLKIT_USER_MANAGER_MODAL_FORM_PLACEHOLDER_ID","WALLKIT_FRAME_ID","TRIGGER_EMAIL_BUTTON_TITLE_SELECTOR","TRIGGER_GOOGLE_BUTTON_TITLE_SELECTOR","TRIGGER_EMAIL_BUTTON_CLASS_NAME","WALLKIT_FIREBASE_CONFIG","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","WALLKIT_DEV_FIREBASE_CONFIG","WALLKIT_TOKEN_NAME","FIREBASE_TOKEN_NAME","FB_AVAILABLE_LANGUAGES","ERRORS_TYPES","DOM_ERROR","ARGUMENT_ERROR","DEFAULT_ERROR_MESSAGES","Error","error_type","error","isErrorRecognisable","message","getErrorTypeMessage","errorMessage","console","log","argument","key","undefined","handleError","window","WallkitIntegration","options","config","events","Events","content","Content","preventExecutionForCrawlers","prevent_execution_for_crawlers","isCrawler","frame","Frame","onReady","popup","toggleLoader","Modal","resourceFrame","initialLoader","modal","openByHash","onClose","notify","FRAME_MODAL_CLOSED","name","currentFrameName","sdk","SDK","onLoaded","authentication","Authentication","firebase","auth","modalTitle","title","reCaptcha","analytics","Analytics","call","Call","init","userManager","UserManager","params","open","eventName","callback","subscribe","unsubscribe","value","sendEvent","defaultInit","onInit","use","addEventListener","event","data","FRAME_MESSAGE","includes","isAuthenticated","isApplePayAvailable","public_key","width","height","resize","redirect","hide","SUCCESS_AUTH","once","show","openFrame","reload","dispatchTokens","closeOutside","showChangePassword","confirmation","showEmailConfirmationModal","styles","createElement","innerHTML","injectInHead","ticketPassAuthToken","parseAuthTokenHash","handleTicketsToken","resetHash","confirmToken","parseConfirmTokenHash","confirmUserEmail","parseUTM","utmTags","search","queryParams","URLSearchParams","utmParams","foundedUTMParams","forEach","param","get","methods","updateUser","extra","hasUTMTags","Object","keys","length","parseUTMTags","Confirmation","getElementById","preventDefault","resendConfirmUserEmail","then","result","confirmationText","innerText","replaceWith","setError","code","contentElement","modalName","getEmailConfirmationModalContent","className","ReCaptchaFirebase","authenticationInstance","enabled","isEnabled","loaded","valid","siteKey","grecaptcha","isMobile","mobile","recaptchaScripts","url","id","defer","onload","EventsNames","RECAPTCHA_LOADED","Promise","resolve","onRecaptchaAuth","bind","hideBadge","loadScripts","style","reset","handleCaptchaState","local","RECAPTCHA_VALIDATION_FAILED","executeReCaptcha","ready","execute","MODAL_CLOSED","resetProcess","initTriggers","emailField","querySelector","submitBtn","cancelBtn","onclick","emailBtn","blur","getReCaptchaSettings","response","active","recaptcha_public_key","load","reCaptchaPlaceholder","classList","add","dataset","sitekey","size","modalContent","appendChild","token","validateReCaptchaToken","RECAPTCHA_VALIDATION_SUCCESS","Token","slug","resource","subDomain","getParentDomain","createTokenSlug","set","getStoredTokenValue","LocalStorage","getItem","removeCookie","localStorage","removeItem","setCookie","expires","path","domain","setItem","Firebase","firebaseUiConfig","mode","lang","Localization","assembleLanguage","providers","tosURL","privacyPolicyURL","captchaKey","genuineForm","firebaseui","elementPlaceholder","onSuccessAuth","onAuthStateChanged","uiShown","isUiShown","initialized","GoogleAuthProvider","PROVIDER_ID","EmailAuthProvider","FacebookAuthProvider","element","display","selectedProviders","Array","isArray","map","item","provider","allowedProviders","filter","tosUrl","privacyPolicyUrl","firebaseuiInstance","AuthUI","disableAutoSignIn","callbacks","signInSuccessWithAuthResult","user","getIdToken","formattedResult","userId","uid","FIREBASE_UI_SHOWN","signInFlow","signInOptions","formatSelectedProviders","credentialHelper","CredentialHelper","GOOGLE_YOLO","startFirebaseUi","start","uiConfig","signOut","email","password","signInWithEmailAndPassword","handleSuccessAuth","createUserWithEmailAndPassword","currentUser","updateProfile","displayName","operationType","sendPasswordResetEmail","oobCode","passResetUrl","fetch","method","body","JSON","stringify","newPassword","headers","res","json","resJson","oldPassword","credential","reauthenticateWithCredential","updatePassword","signInWithCustomToken","attachListener","setTimeout","FIREBASE_LOADED","initFirebase","FIREBASE_INIT","defaultPlaceholder","selector","elementSelector","normalizeSelector","reject","loading","onFirebaseAppLoaded","scripts","onScriptLoaded","loadedCounter","loadCSS","insertScript","apps","defaultConfig","initializeApp","instance","cookies","firebaseToken","updateFirebaseToken","onFirebaseInit","onAuthFail","onFirebaseAuthFail","initAuthForm","ReCaptcha","state","signIn","authForm","loginForm","setFormError","signUp","updateName","signUpForm","termsOfService","AuthForm","triggerButton","defaultForm","authProviders","customizeAuthForms","forms","onLogin","preventiveEvent","PRE_SIGN_IN","proceed","executeRecaptcha","handleLogin","onSignUp","handleSignUp","onPasswordForgot","toggleFormLoader","genuinePasswordReset","firebasePasswordReset","success","showSuccessPasswordForgot","forgotPasswordForm","onPasswordReset","sendNewPasswordResetPassword","new_password","showSuccessPasswordReset","resetPasswordForm","onAuthFormShow","hideAuthForm","onCancel","showAuthForm","handleAuthError","resetAuthProcess","SUCCESS_FIREBASE_AUTH","authInWallkit","status","authenticateWithFirebase","setToken","userGetTimeout","userEventCallback","clearTimeout","unsubscribeLocalEvent","register","existed","subscribeLocalEvent","removeTokens","substring","placeholders","targetElement","renderType","placeholder","insertAdjacentHTML","getDefaultAuthenticationFormContent","attachFormPlaceholders","authFormSlug","isVisible","showDefaultForm","checkFirebaseInit","shownTimeout","wallkit","WALLKIT_EVENT_FIREBASE_TOKEN","setFirebaseToken","initCaptchaProcess","e","remove","removeToken","removeFirebaseToken","logout","LOGOUT","WALLKIT_LOGOUT","dispatchWallkitToken","dispatchFirebaseToken","WALLKIT_EVENT_TOKEN","getAuthTokensByTicketPassToken","authWithCustomToken","firebase_custom_token","userCredential","getUser","TICKETS_TOKEN_AUTH_SUCCESS","externalUserId","getAuthTokensByExternalUserId","EXTERNAL_PROVIDER_TOKEN_AUTH_SUCCESS","WALLKIT_EVENT_ONE_TAP_SIGN_IN","render","charAt","WALLKIT_EVENT_AUTH","WALLKIT_EVENT_REGISTRATION","WALLKIT_EVENT_GET_TOKEN","WALLKIT_FIREBASE_TOKEN","WALLKIT_EVENT_FIREBASE_CUSTOM_TOKEN","errorPlaceholder","parseResetPasswordOobCodeHash","showForm","RESET_PASSWORD_FORM_SLUG","classForHandleClick","classThatReactOnTheUsersStatus","classThatReactOnTheUsersPlans","classThatReactOnTheUsersEvents","setDataWkStatusUserInDOMElements","setDataWkStatusPlansInDOMElements","setDataWkStatusEventsInDOMElements","getUserStatus","querySelectorAll","wkCallStatusUser","subscriptions","plans","s","plan","join","wkCallStatusPlans","assigned_tickets","ti_event","wkCallStatusEvents","client","setAllDataWkStatusesInDOMElements","wkCallUserHasAccess","getWallkitUserData","debug","_","WALLKIT_EVENT_USER","CHECK_USER_ACCESS","target","contains","classes","from","slugAndParamStr","find","startsWith","slugAndParamArr","split","popupSlug","popupParams","popupParamsArr","item_type","item_key","accessCount","accessCountLimit","taxonomies","formatted","taxonimiesTitles","taxonimiesKeys","push","taxKey","label","termKeysKey","termTitleKey","items","taxonomy_titles","taxonomy_keys","type","link","href","image","assign","formatTaxonomies","getAccessDetails","allow","allowed","checkAccess","checkAccessDetails","checkContentAccessAndSync","contentId","checkDone","accessDetails","content_terms","exclude","usedLimitInPeriod","accessLimit","content_types","ret","d","encodeURIComponent","query","FRAME_CREATED","FRAME_MOUNTED","MODAL_CREATED","WALLKIT_SDK_LOADED","AUTH_MODAL_CLOSED","DEFAULT_AUTH_FORM_SLUG_UPDATED","WALLKIT_CHANGE_FRAME","WALLKIT_FRAME_READY","WALLKIT_FRAME_ROUTE_CHANGE","WALLKIT_EVENT_CHANGE_LANGUAGE","WALLKIT_EVENT_EXTERNAL_PROVIDER_TOKEN","listeners","onceIndexesToRemove","index","getEventByName","TriggerButton","google","checkOptions","subscribeEventForChanges","onClick","authProvider","buttonKey","toLowerCase","fullLabel","signInLabel","signUpLabel","backgroundColor","textColor","textColorStyle","iconUrl","trim","defaultFormSlug","SIGN_IN_FORM_SLUG","SIGN_UP_FORM_SLUG","buttonColor","buttonTextColor","old","elementKey","getComputedStyle","getPropertyValue","buttonsTitle","color","authNew","authOld","CheckBoxField","input","validate","checked","inputWrapper","createInputWrapper","createLabel","createCheckMark","wrapper","FormField","PasswordField","insertAffix","togglePasswordVisibility","passwordHint","insertDescription","testStrength","TOGGLE_CLASSNAME","switchPasswordInputType","getValue","passwordValidation","regex","uppercaseRegex","RegExp","uppercaseValid","test","rules","rule","validateRule","createWrapper","createInput","isValid","required","dataSlug","affix","description","onChange","onInput","onEnter","keyCode","onValidate","relatedData","resetValidation","setFieldValidationState","affixElement","descriptionElement","attributes","text","forRef","messageElement","createMessage","insertAfter","removeMessage","focus","FORGOT_PASSWORD_FORM_SLUG","LoginForm","onSubmit","resetForm","formWrapper","SignupForm","ForgotPasswordForm","forgotPassword","reRender","ResetPasswordForm","resetPassword","formSlug","oldSlug","form","formKey","activeForm","resetFormError","showFormResult","ChangePasswordForm","targetElementSelector","footer","getFormFooter","oldPasswordField","submitForm","field","newPasswordField","oldPasswordValue","newPasswordConfirmField","newPasswordValue","fields","formFooter","Form","passwordField","footerWrapper","subFooter","signUpLinkTitle","nameField","tosField","getTosAcceptLabel","signInWrapper","signInLinkTitle","termsOptions","defaultLabel","submitBtnTitle","cancelBtnTitle","placeholderElement","getFormElement","formErrorPlaceholder","resetField","resetFields","markup","formWrapperFields","getElement","formWrapperHeader","formWrapperFooter","isFieldValid","validateForm","insertFormElements","insertHeader","insertFields","insertFooter","ADDITIONAL_FRAME_CLASSNAMES","frameElement","host","version","scrolling","allowtransparency","frameborder","setAttribute","getFrameURL","contentWindow","frameWindow","postMessage","createFrame","onFrameReady","language","modalFrame","modalWrapper","loaderElement","isLoading","HTMLElement","parseModalHashURL","parseUrlToShowAuthModal","elementTag","elementName","elementIdName","elementIndex","elementId","DOM","checkIfElementExists","closeBtn","bindCloseEvent","modalClassName","minWidth","minHeight","maxWidth","insertContent","injectInBody","loadWallkitAsset","Wallkit","onLoad","api_url","subDomainCookie","openPopupName","getDefaultUserManagerModalContent","loader","changePasswordForm","cancelForm","cancelModalForm","old_password","isDocumentAvailable","newNode","referenceNode","parentNode","insertBefore","nextSibling","tag","checkRequiredArgument","prop","hasOwnProperty","head","rel","media","scriptElement","src","innerWidth","date","Date","setTime","getTime","toUTCString","updatedCookie","propName","propValue","cookie","props","cookieFingerprint","navigator","userAgent","min","assetName","script","isAvailable","ApplePaySession","canMakePayments","UryModal","exec","decodeURIComponent","hash","par","parse","splitHash","replace","history","pushState","resetSearchParams","getDomainWithoutSubdomain","urlParts","URL","hostname","slice","authUrlPattern"],"sourceRoot":""}